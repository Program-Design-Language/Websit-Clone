<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BASICèªè¨¼(UserDatabaseRealmãƒ¬ãƒ«ãƒ ) - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ - ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå…¥é–€</title>
<meta name="keywords" content="UserDatabaseRealmãƒ¬ãƒ«ãƒ ,ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼,ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ" />
<meta name="description" content="BASICèªè¨¼(UserDatabaseRealmãƒ¬ãƒ«ãƒ )" />

<link rel="stylesheet" href="../../css/style070.css" tppabs="https://www.javadrive.jp/css/style070.css">
<link href="../../../fonts.googleapis.com/css2-family=Noto+Sans+JP-wght@400;700&display=swap.css" tppabs="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="../../../www.googletagmanager.com/gtag/js-id=UA-6293295-1" tppabs="https://www.googletagmanager.com/gtag/js?id=UA-6293295-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6293295-1');
</script>

</head>
<body>

	<div id="header">
		<div id="sitelogo">
			<img src="../../img/logo_small_c.png" tppabs="https://www.javadrive.jp/img/logo_small_c.png" alt="ãƒ­ã‚´" width="24" height="24"><span> Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</span>
		</div>
	</div>

	<div class="container">
		<div class="main">

<div id="pankuzubar">
		<ul id="pankuzu">
		<li class="s" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../../index.htm" tppabs="https://www.javadrive.jp/" itemprop="url"><span itemprop="title">Home</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../index.htm" tppabs="https://www.javadrive.jp/servlet/" itemprop="url"><span itemprop="title">ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ/JSPå…¥é–€</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="index.htm" tppabs="https://www.javadrive.jp/servlet/auth/" itemprop="url"><span itemprop="title">ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼</span></a></li>
		</ul>
</div>

			<h1>BASICèªè¨¼(UserDatabaseRealmãƒ¬ãƒ«ãƒ )</h1>

<div id="adtoplabel">
åºƒå‘Š
</div>

			<div id="adtop">
<style type="text/css">
.adslot_top_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_top_l { width: 728px; height: 200px; } }
</style>
<!-- JavaDrive PageTop Res -->
<ins class="adsbygoogle adslot_top_l"
     style="display:inline-block;"
     data-full-width-responsive="true"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2935955435"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<p>
			æ¬¡ã«èªè¨¼ã‚’è¡Œã†ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç®¡ç†æ–¹æ³•ã«ã¤ã„ã¦ç¢ºèªã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç®¡ç†æ–¹æ³•ã‚’ãƒ¬ãƒ«ãƒ ã¨è¨€ã„ã¾ã™ã€‚
			</p>

			<p>
			ãƒ¬ãƒ«ãƒ ã®æŒ‡å®šã¯ã€Œserver.xmlã€ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Œ(TomcatãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)&yen;Tomcat 5.5&yen;conf&yen;ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚Šã¾ã™ã€‚
			</p>

			<p>
			ãƒ¬ãƒ«ãƒ ã«é–¢ã™ã‚‹éƒ¨åˆ†ã ã‘ã‚’æŠœç²‹ã—ã¦ã¿ã¾ã™ã€‚
			</p>

<pre class="fixcode">
&lt;!-- Define the top level container in our container hierarchy --&gt;
&lt;Engine name="Catalina" defaultHost="localhost"&gt;

  &lt;!-- This Realm uses the UserDatabase configured in the global JNDI
       resources under the key "UserDatabase".  Any edits
       that are performed against this UserDatabase are immediately
       available for use by the Realm.  --&gt;
  &lt;Realm className="org.apache.catalina.realm.UserDatabaseRealm"
         resourceName="UserDatabase"/&gt;

  &lt;!-- Comment out the old realm but leave here for now in case we
       need to go back quickly --&gt;
  &lt;!--
  &lt;Realm className="org.apache.catalina.realm.MemoryRealm" /&gt;
  --&gt;

  &lt;!-- Replace the above Realm with one of the following to get a Realm
       stored in a database and accessed via JDBC --&gt;

  &lt;!--
  &lt;Realm  className="org.apache.catalina.realm.JDBCRealm"
         driverName="org.gjt.mm.mysql.Driver"
      connectionURL="jdbc:mysql://localhost/authority"
     connectionName="test" connectionPassword="test"
          userTable="users" userNameCol="user_name" userCredCol="user_pass"
      userRoleTable="user_roles" roleNameCol="role_name" /&gt;
  --&gt;

  &lt;!--
  &lt;Realm  className="org.apache.catalina.realm.JDBCRealm"
         driverName="oracle.jdbc.driver.OracleDriver"
      connectionURL="jdbc:oracle:thin:@ntserver:1521:ORCL"
     connectionName="scott" connectionPassword="tiger"
          userTable="users" userNameCol="user_name" userCredCol="user_pass"
      userRoleTable="user_roles" roleNameCol="role_name" /&gt;
  --&gt;

  &lt;!--
  &lt;Realm  className="org.apache.catalina.realm.JDBCRealm"
         driverName="sun.jdbc.odbc.JdbcOdbcDriver"
      connectionURL="jdbc:odbc:CATALINA"
          userTable="users" userNameCol="user_name" userCredCol="user_pass"
      userRoleTable="user_roles" roleNameCol="role_name" /&gt;
  --&gt;
&lt;/Engine&gt;
</pre>

			<p>
			ã„ãã¤ã‹ã®ãƒ¬ãƒ«ãƒ ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã»ã¨ã‚“ã©ã¯ã‚³ãƒ¡ãƒ³ãƒˆã«ãªã£ã¦ãŠã‚Šæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ãƒ¬ãƒ«ãƒ ã¯æ¬¡ã®1ã¤ã ã‘ã§ã™ã€‚
			</p>

<pre class="fixcode">
&lt;Realm className="org.apache.catalina.realm.UserDatabaseRealm"
       resourceName="UserDatabase"/&gt;
</pre>

			<p>
			ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ãƒ¬ãƒ«ãƒ ã¯ã€ŒUserDatabaseRealmã€ãƒ¬ãƒ«ãƒ ã§ã™ã€‚
			</p>

			<p>
			ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµŒç”±ã§åˆ©ç”¨ã™ã‚‹å ´åˆã¯ã€ŒJDBCRealmã€ã«é–¢ã™ã‚‹ãƒ¬ãƒ«ãƒ (MySQLã€Oracleã€ODBCã®3ã¤ãŒå‚è€ƒã¾ã§ã«è¨˜è¼‰ã•ã‚Œã¦ã‚³ãƒ¡ãƒ³ãƒˆã«ãªã£ã¦ã„ã¾ã™)ã®1ã¤ã‚’æœ‰åŠ¹ã«ã—ã€ã€ŒUserDatabaseRealmã€ãƒ¬ãƒ«ãƒ ã«æ›¸ã‹ã‚ŒãŸéƒ¨åˆ†ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã«ã—ã¾ã™ã€‚ã“ã¡ã‚‰ã¯åˆ¥ã®ãƒšãƒ¼ã‚¸ã§ç¢ºèªã—ã¾ã™ã€‚
			</p>

			<p>
			ä»Šå›ã¯ã¾ãšã€ŒUserDatabaseRealmã€ãƒ¬ãƒ«ãƒ ã®ä½¿ã„æ–¹ã‚’è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚
			</p>

			<h2>UserDatabaseRealmãƒ¬ãƒ«ãƒ </h2>

			<p>
			ã€ŒUserDatabaseRealmã€ãƒ¬ãƒ«ãƒ ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã§ãƒ†ã‚¹ãƒˆç”¨ãªã©ä¸€æ™‚çš„ã«åˆ©ç”¨ã™ã‚‹å ´åˆã«ä¾¿åˆ©ãªæ–¹å¼ã§ã™ã€‚é€†ã«æœ¬æ ¼çš„ãªåˆ©ç”¨ã«ã¯ã‚ã¾ã‚Šå‘ã„ã¦ã„ã¾ã›ã‚“ã€‚
			</p>

			<p>
			è¨­å®šã§ãã‚‹å±æ€§ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚
			</p>

<table class="pro">
<tr><th>å±æ€§</th><th>å†…å®¹</th></tr>
<tr><td>className</td><td>Javaã‚¯ãƒ©ã‚¹åã®æŒ‡å®šã€‚ã€Œorg.apache.catalina.realm.UserDatabaseRealmã€ã‚’æŒ‡å®šã—ã¾ã™ã€‚</td></tr>
<tr><td>resourceName</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‰€åœ¨ã‚’è¨˜è¼‰ã—ãŸJNDIãƒªã‚½ãƒ¼ã‚¹åã®æŒ‡å®šã™ã‚‹ã€‚</td></tr>
<tr><td>debug</td><td>ãƒ‡ãƒãƒƒã‚°ãƒ¬ãƒ™ãƒ«ã€‚çœç•¥å¯èƒ½ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯0ã€æœ€å¤§ã¯99ã€‚æ•°å€¤ãŒå¤§ãããªã‚‹ã¨è©³ç´°ã«ãªã‚‹ã€‚</td></tr>
<tr><td>digest</td><td>ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚SHAã€MD2ã€MD5ã‚’æŒ‡å®šã™ã‚‹ã€‚çœç•¥å¯èƒ½ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯cleartextã€‚</td></tr>
</table>

			<p>
			ã€ŒclassNameã€ã¯å›ºå®šã®å€¤ã§ã™ã®ã§ã€å¾Œã¯ãƒªã‚½ãƒ¼ã‚¹åã‚’æŒ‡å®šã—ã¦ã€ç´°ã‹ã„è¨­å®šã¯ãƒªã‚½ãƒ¼ã‚¹ã®æ–¹ã§è¨˜è¿°ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ŒUserDatabaseã€ãƒªã‚½ãƒ¼ã‚¹ãŒæŒ‡å®šã•ã‚Œã¦ãŠã‚Šã€åŒã˜ã€Œserver.xmlã€ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚
			</p>

<pre class="fixcode">
&lt;GlobalNamingResources&gt;

  &lt;!-- Editable user database that can also be used by
       UserDatabaseRealm to authenticate users --&gt;
  &lt;Resource name="UserDatabase" auth="Container"
            type="org.apache.catalina.UserDatabase"
     description="User database that can be updated and saved"
         factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
        pathname="conf/tomcat-users.xml" /&gt;

&lt;/GlobalNamingResources&gt;
</pre>

			<p>
			ã“ã®ä¸­ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å®šç¾©ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’æŒ‡å®šã™ã‚‹ã®ãŒã€Œpathnameã€ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Œ(TomcatãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)&yen;Tomcat 5.5&yen;conf&yen;ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å«ã¾ã‚Œã¦ã‚‹ã€Œtomcat-users.xmlã€ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ãƒ­ãƒ¼ãƒ«ã‚’æŒ‡å®šã—ã¦ã„ãã¾ã™ã€‚
			</p>

			<h2>tomcat-users.xmlãƒ•ã‚¡ã‚¤ãƒ«</h2>

			<p>
			ã€Œtomcat-users.xmlã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯XMLå½¢å¼ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ã„ã¦è¦‹ã¦ãã ã•ã„ã€‚
			</p>

<pre class="fixcode">
&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;tomcat-users&gt;
  &lt;role rolename="tomcat"/&gt;
  &lt;role rolename="role1"/&gt;
  &lt;role rolename="manager"/&gt;
  &lt;role rolename="admin"/&gt;
  &lt;user username="tomcat" password="tomcat" roles="tomcat"/&gt;
  &lt;user username="role1" password="tomcat" roles="role1"/&gt;
  &lt;user username="both" password="tomcat" roles="tomcat,role1"/&gt;
  &lt;user username="admin" password="*******" roles="admin,manager"/&gt;
&lt;/tomcat-users&gt;
</pre>

			<p>
			ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä¸Šè¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã€Œadminã€ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯Tomcatã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸéš›ã«è¨­å®šã—ãŸç®¡ç†è€…ç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚(ä¸Šè¨˜ã§ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ä¼å­—ã«ã—ã¦ã‚ã‚Šã¾ã™ãŒå®Ÿéš›ãªãã®ã¾ã¾è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™)ã€‚
			</p>

			<p>
			è¨­å®šã™ã‚‹å±æ€§ã¯ã€Œroleã€ã¨ã€Œuserã€ã§ã™ã€‚
			</p>

			<h3>å±æ€§ã®è¨­å®š</h3>

			<p>
			ã€Œroleã€ã¯èªè¨¼ã‚’ä¸ãˆã‚‹å˜ä½ã®ã‚ˆã†ãªã‚‚ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã®éš›ã«ã¯ãƒ­ãƒ¼ãƒ«å˜ä½ã§ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’ä¸ãˆã¾ã™ã€‚ã€Œrolenameã€ã‚’ä½¿ã£ã¦ãƒ­ãƒ¼ãƒ«åã‚’å®šç¾©ã—ã¦ã„ãã¾ã™ã€‚
			</p>

			<p>
			ã€Œuserã€ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’è¡Œã†ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç™»éŒ²ã—ã¦ã„ãã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯ã€Œusernameã€ã«ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ã€Œpasswordã€ã«è¨˜è¿°ã—ã¾ã™ã€‚ãã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰€å±ã™ã‚‹ãƒ­ãƒ¼ãƒ«ã‚’ã€Œrolesã€ã§æŒ‡å®šã—ã¾ã™ã€‚è¤‡æ•°ã®ãƒ­ãƒ¼ãƒ«ã«æ‰€å±ã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒ(,)ã§åŒºåˆ‡ã£ã¦è¨˜è¿°ã—ã¾ã™ã€‚
			</p>

			<h3>èªè¨¼ã®æµã‚Œ</h3>

			<p>
			èªè¨¼ã®æµã‚Œã¨ã—ã¦ã¯ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨ã¾ãšãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰¹å®šãŒè¡Œã‚ã‚Œã¾ã™ã€‚ãã—ã¦ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰€å±ã™ã‚‹ãƒ­ãƒ¼ãƒ«ãŒè¨±å¯ã™ã‚‹ãƒ­ãƒ¼ãƒ«ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤åˆ¥ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã®è¨±å¯ã‚’ä¸ãˆã¾ã™ã€‚(ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã™ã‚‹ãƒ­ãƒ¼ãƒ«ã®æŒ‡å®šã¯web.xmlãƒ•ã‚¡ã‚¤ãƒ«å†…ã® &lt;auth-constraint&gt;è¦ç´ ã®ä¸­ã®&lt;role-name&gt;è¦ç´ ã§æŒ‡å®šã—ã¾ã™ã€‚è©³ã—ãã¯ã€<a href="index3.html" tppabs="https://www.javadrive.jp/servlet/auth/index3.html">BASICèªè¨¼(web.xmlã®ç·¨é›†)</a>ã€ã‚’å‚ç…§ã—ã¦ä¸‹ã•ã„)ã€‚
			</p>

			<p>
			è¦‹ã¦é ‚ãã¨åˆ†ã‹ã‚‹é€šã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç®¡ç†ã‚’1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§è¡Œã„ã—ã‹ã‚‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²ã‚„æ›´æ–°ãªã©ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ å´ã‹ã‚‰è¡Œã†ã«ã¯å¤šå°‘ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚ãã®ç‚ºã€ç°¡æ˜“çš„ã«åˆ©ç”¨ã™ã‚‹ã«ã¯ã„ã„ã®ã§ã™ãŒã€äººæ•°ãŒå¤šã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã‚’è¡Œã†ã«ã¯ã‚ã¾ã‚Šé©ã—ã¦ã¯ã„ã¾ã›ã‚“ã€‚
			</p>

			<h2>å®Ÿéš›ã®è¨­å®šä¾‹</h2>

			<p>
			ã§ã¯å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚
			</p>

			<p>
			ã¾ãšã€Œtomcat-users.xmlã€ã‚’ç·¨é›†ã—ã¾ã™ã€‚ãƒ­ãƒ¼ãƒ«ã¨ã—ã¦ã€Œsalesã€ã¨ã€Œstaffã€ã‚’å®šç¾©ã—ã¾ã™ã€‚ãã—ã¦ã€Œsalesã€ãƒ­ãƒ¼ãƒ«ã«æ‰€å±ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ã€Œyamadaã€ã‚’ã€ãã—ã¦ã€Œstaffã€ãƒ­ãƒ¼ãƒ«ã«æ‰€å±ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ã€Œkatouã€ã‚’è¿½åŠ ã—ã¾ã™ã€‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨åŒã˜ã«ã—ã¦ãŠãã¾ã—ãŸã€‚
			</p>

<pre class="fixcode">
&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;tomcat-users&gt;
  &lt;role rolename="tomcat"/&gt;
  &lt;role rolename="role1"/&gt;
  &lt;role rolename="manager"/&gt;
  &lt;role rolename="admin"/&gt;
  <span class="red">&lt;role rolename="sales"/&gt;</span>
  <span class="red">&lt;role rolename="staff"/&gt;</span>
  &lt;user username="tomcat" password="tomcat" roles="tomcat"/&gt;
  &lt;user username="role1" password="tomcat" roles="role1"/&gt;
  &lt;user username="both" password="tomcat" roles="tomcat,role1"/&gt;
  &lt;user username="admin" password="*******" roles="admin,manager"/&gt;
  <span class="red">&lt;user username="yamada" password="yamada" roles="sales"/&gt;</span>
  <span class="red">&lt;user username="katou" password="katou" roles="staff"/&gt;</span>
&lt;/tomcat-users&gt;
</pre>

			<p>
			æ¬¡ã«web.xmlãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¬¡ã®æ¡ä»¶ã§ä½œæˆã—ã¾ã™ã€‚
			</p>

<pre class="fixcomment">
ãƒªã‚½ãƒ¼ã‚¹åï¼šUser Basic Auth
å¯¾è±¡ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆï¼šã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å«ã¾ã‚Œã‚‹å…¨ã¦ã®ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ
å¯¾è±¡ã®HTTPãƒ¡ã‚½ãƒƒãƒ‰ï¼šå…¨ã¦
è¨±å¯ã™ã‚‹ãƒ­ãƒ¼ãƒ«åï¼š<span class="red">sales</span>
èªè¨¼æ–¹å¼ï¼šBASICèªè¨¼
ãƒ¬ãƒ«ãƒ åï¼šUser Basic Auth
</pre>

			<p>
			ä½œæˆã—ãŸweb.xmlãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚
			</p>

<pre class="fixcode">
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
   http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
  version="2.4"&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;AuthTest1&lt;/servlet-name&gt;
    &lt;servlet-class&gt;AuthTest1&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;AuthTest1&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/AuthTest1&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;AuthTest2&lt;/servlet-name&gt;
    &lt;servlet-class&gt;AuthTest2&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;AuthTest2&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/AuthTest2&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;security-constraint&gt;
    &lt;web-resource-collection&gt;
      &lt;web-resource-name&gt;User Basic Auth&lt;/web-resource-name&gt;
      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/web-resource-collection&gt;
    &lt;auth-constraint&gt;
      <span class="red">&lt;role-name&gt;sales&lt;/role-name&gt;</span>
    &lt;/auth-constraint&gt;
  &lt;/security-constraint&gt;

  &lt;login-config&gt;
    &lt;auth-method&gt;BASIC&lt;/auth-method&gt;
    &lt;realm-name&gt;User Basic Auth&lt;/realm-name&gt;
  &lt;/login-config&gt;

  &lt;security-role&gt;
    <span class="red">&lt;role-name&gt;sales&lt;/role-name&gt;</span>
  &lt;/security-role&gt;
&lt;/web-app&gt;
</pre>

			<p>
			ãã‚Œã§ã¯ä¸€åº¦ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã‚’å†èµ·å‹•ã—ã¦ã‹ã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œhttp://localhost:8080/auth/AuthTest1ã€ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä¸‹ã•ã„ã€‚
			</p>

			<p>
			<img src="img/p5.png" tppabs="https://www.javadrive.jp/servlet/auth/img/p5.png" alt="BASICèªè¨¼" width="500" height="395">
			</p>

			<p>
			ä¸Šè¨˜ã®ã‚ˆã†ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å…ˆã»ã©ç™»éŒ²ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼åã€Œyamadaã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€Œyamadaã€ã‚’å…¥åŠ›ã—ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p6.png" tppabs="https://www.javadrive.jp/servlet/auth/img/p6.png" alt="BASICèªè¨¼" width="500" height="395">
			</p>

			<p>
			ã€Œyamadaã€ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãŒé€šã‚Šã€æ‰€å±ã™ã‚‹ãƒ­ãƒ¼ãƒ«ãŒã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã«è¨­å®šã—ã¦ã‚‹ãŸã‚ã€ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p7.png" tppabs="https://www.javadrive.jp/servlet/auth/img/p7.png" alt="BASICèªè¨¼" width="501" height="335">
			</p>

			<p>
			ä¸€åº¦ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãŒé€šã‚Œã°åŒã˜èªè¨¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ä»–ã®ãƒšãƒ¼ã‚¸ã«ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ç„¡ã—ã§ã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½ã§ã™ã€‚ã€Œãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸2ã¸ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã¦ä¸‹ã•ã„ã€‚
			</p>

			<p>
			<img src="img/p8.png" tppabs="https://www.javadrive.jp/servlet/auth/img/p8.png" alt="BASICèªè¨¼" width="501" height="333">
			</p>

			<p>
			ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã¯è¡ŒãˆãŸãŒæ‰€å±ã™ã‚‹ãƒ­ãƒ¼ãƒ«ãŒã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã•ã‚Œã¦ã„ãªã„å ´åˆã®æŒ™å‹•ã‚’ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚ä¸€åº¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‹ã‚‰å†åº¦åŒã˜ãƒšãƒ¼ã‚¸ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä¸‹ã•ã„ã€‚ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã®ã§ä»Šåº¦ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€Œkatouã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€Œkatouã€ã‚’å…¥åŠ›ã—ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p9.png" tppabs="https://www.javadrive.jp/servlet/auth/img/p9.png" alt="BASICèªè¨¼" width="500" height="392">
			</p>

			<p>
			æ¬¡ã®ã‚ˆã†ã«ã€ŒHTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ 403 - è¦æ±‚ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€ã¨è¨€ã†ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p10.png" tppabs="https://www.javadrive.jp/servlet/auth/img/p10.png" alt="BASICèªè¨¼" width="500" height="468">
			</p>

			<div id="profile">
			<p>( Written by Tatsuo Ikura )</p>
			</div>

<div id="adbottom_box">
  <div id="adbottom_l">
<style type="text/css">
.adslot_bottom_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_bottom_l { width: 360px; height: 280px; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomL Res -->
<ins class="adsbygoogle adslot_bottom_l"
     style="display:inline-block;"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="4549256893"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>

  <div id="adbottom_r">
<style type="text/css">
.adslot_bottom_r { display:inline-block; width: 360px; height: 280px; }
@media (max-width: 730px) { .adslot_bottom_r { display: none; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomR Res -->
<ins class="adsbygoogle adslot_bottom_r"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="1319621435"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
</div>

			<div class="relatedlabel">
			é–¢é€£è¨˜äº‹ (ä¸€éƒ¨åºƒå‘Šå«ã‚€)
			</div>

			<div class="relatedarea">
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-5403370376223466"
     data-matched-content-rows-num="4,3"
     data-matched-content-columns-num="1,2"
     data-matched-content-ui-type="image_card_stacked,image_card_stacked"
     data-ad-slot="7621756236"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<div id="profiletitle2">Profile</div>

			<div id="profileblock2">

				<div id="profilephoto2">
				<img src="../../img/face2.png" tppabs="https://www.javadrive.jp/img/face2.png" width="100" height="100" alt="profile_img">
				</div>

				<div id="profiletext2">
					<p>
					è‘—è€… / <a href="javascript:if(confirm('http://www.buzzword.co.jp/profile/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/profile/'" tppabs="http://www.buzzword.co.jp/profile/" rel="nofollow">TATSUO IKURA</a>
					</p>

					<p>
					åˆå¿ƒè€…ï½ä¸­ç´šè€…ã®æ–¹ã‚’å¯¾è±¡ã¨ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ–¹æ³•ã‚„é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã®è§£èª¬ã‚’è¡Œã†ã‚µã‚¤ãƒˆã®é‹å–¶ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚
					</p>
				</div>

			</div>

		</div>

		<div class="sidebar">

			<div class="adsticky restitle">

				<div class="adstickyinner">
<style type="text/css">
.adslot_3 { display:inline-block; width: 300px; height: 600px; }
@media (max-width: 1010px) { .adslot_3 { display: none; } }
</style>
<!-- JavaDrive PageRight Res Sticky -->
<ins class="adsbygoogle adslot_3"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2926458638"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				</div>

			</div>

		</div>

	</div>

	<div id="footer">
		<p id="copyright">
		Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° &copy;2006-2021 <a href="javascript:if(confirm('http://www.buzzword.co.jp/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/'" tppabs="http://www.buzzword.co.jp/" rel="nofollow">Buzzword Inc.</a>. All Rights Reserved.
		</p>
	</div>

</body>
</html>
