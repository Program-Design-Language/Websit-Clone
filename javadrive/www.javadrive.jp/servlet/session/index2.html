<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã¨èª­ã¿è¾¼ã¿ - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† - ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå…¥é–€</title>
<meta name="keywords" content="æ›¸ãè¾¼ã¿ã¨èª­ã¿è¾¼ã¿,ã‚»ãƒƒã‚·ãƒ§ãƒ³,ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ" />
<meta name="description" content="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã¨èª­ã¿è¾¼ã¿" />

<link rel="stylesheet" href="../../css/style070.css" tppabs="https://www.javadrive.jp/css/style070.css">
<link href="../../../fonts.googleapis.com/css2-family=Noto+Sans+JP-wght@400;700&display=swap.css" tppabs="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="../../../www.googletagmanager.com/gtag/js-id=UA-6293295-1" tppabs="https://www.googletagmanager.com/gtag/js?id=UA-6293295-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6293295-1');
</script>

</head>
<body>

	<div id="header">
		<div id="sitelogo">
			<img src="../../img/logo_small_c.png" tppabs="https://www.javadrive.jp/img/logo_small_c.png" alt="ãƒ­ã‚´" width="24" height="24"><span> Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</span>
		</div>
	</div>

	<div class="container">
		<div class="main">

<div id="pankuzubar">
		<ul id="pankuzu">
		<li class="s" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../../index.htm" tppabs="https://www.javadrive.jp/" itemprop="url"><span itemprop="title">Home</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../index.htm" tppabs="https://www.javadrive.jp/servlet/" itemprop="url"><span itemprop="title">ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ/JSPå…¥é–€</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="index.htm" tppabs="https://www.javadrive.jp/servlet/session/" itemprop="url"><span itemprop="title">ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</span></a></li>
		</ul>
</div>

			<h1>ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã¨èª­ã¿è¾¼ã¿</h1>

<div id="adtoplabel">
åºƒå‘Š
</div>

			<div id="adtop">
<style type="text/css">
.adslot_top_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_top_l { width: 728px; height: 200px; } }
</style>
<!-- JavaDrive PageTop Res -->
<ins class="adsbygoogle adslot_top_l"
     style="display:inline-block;"
     data-full-width-responsive="true"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2935955435"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<p>
			ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ãŸã‚‰ã€ã‚µãƒ¼ãƒå´ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚µãƒ¼ãƒå´ã«ä¿å­˜ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨å‘¼ã³ã¾ã™ã€‚ã‚µãƒ¼ãƒå´ã«ã¯ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ä¿å­˜ã§ãã¾ã™ã®ã§åŒã˜ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§è¤‡æ•°ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿å­˜ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
			</p>

			<p>
			ã§ã¯ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚æ—¢ã«é–‹å§‹ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã«ã¯ã€ã€ŒHttpSessionã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹"setAttribute"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚
			</p>

<pre class="mheader">
setAttribute
public void setAttribute(java.lang.String name,
                         java.lang.Object value)
</pre>
<pre class="mexplain">
Binds an object to this session, using the name specified. If an object
of the same name is already bound to the session, the object is replaced. 

After this method executes, and if the new object implements 
HttpSessionBindingListener, the container calls 
HttpSessionBindingListener.valueBound. The container then notifies any 
HttpSessionAttributeListeners in the web application. 

If an object was already bound to this session of this name that 
implements HttpSessionBindingListener, its 
HttpSessionBindingListener.valueUnbound method is called. 

If the value passed in is null, this has the same effect as calling 
removeAttribute(). 

Parameters:
  name - the name to which the object is bound; cannot be null
  value - the object to be bound 
Throws: 
  java.lang.IllegalStateException - if this method is called on an 
    invalidated session
</pre>

			<p>
			"setAttribute"ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ã€Œåå‰ã€ã¨ã€Œå€¤ã€ã®ãƒšã‚¢ã§ç™»éŒ²ã‚’è¡Œã„ã¾ã™ã€‚åå‰ã¯Stringå‹ã§ã™ãŒã€å€¤ã®æ–¹ã¯Objectå‹ã§ã™ã®ã§Objectå‹ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§ã‚ã‚Œã°åŸºæœ¬çš„ã«ä½•ã§ã‚‚ä¿å­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—intãªã©ã®åŸºæœ¬å‹ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚
			</p>

			<p>
			ä¾‹ãˆã°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ã€åå‰ã‚’ã€Œvisitedã€å€¤ã‚’ã€Œ1ï½£ã¨ã—ã¦ç™»éŒ²ã—ãŸã„å ´åˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
			</p>

<pre class="fixcode">
public void doGet(HttpServletRequest request, HttpServletResponse response)
  throws IOException, ServletException{

  response.setContentType("text/html; charset=Shift_JIS");
  PrintWriter out = response.getWriter();

  HttpSession session = request.getSession(true);

  session.setAttribute("visited", "1");
}
</pre>

			<p>
			é€†ã«æ—¢ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–ã‚Šå‡ºã—ã¦èª­ã¿è¾¼ã‚€ãŸã‚ã«ã¯ã€ã€ŒHttpSessionã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹"getAttribute"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚
			</p>

<pre class="mheader">
getAttribute
public java.lang.Object getAttribute(java.lang.String name)
</pre>
<pre class="mexplain">
Returns the object bound with the specified name in this session, or 
null if no object is bound under the name. 

Parameters:
  name - a string specifying the name of the object 
Returns:
  the object with the specified name 
Throws: 
  java.lang.IllegalStateException - if this method is called on an 
    invalidated session
</pre>

			<p>
			"getAttribute"ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ—¢ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã§ã€å¼•æ•°ã«æŒ‡å®šã—ãŸåå‰ã‚’æŒã¤ã‚‚ã®ã‚’æ¤œç´¢ã—ã€ãã®å€¤ã‚’æˆ»ã‚Šå€¤ã¨ã—ã¦è¿”ã—ã¦ãã‚Œã¾ã™ã€‚
			</p>

			<h2>ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h2>

			<p>
			ã§ã¯ç°¡å˜ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚è¨ªå•å›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ã€‚
			</p>

			<p>
			web.xmlãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
			</p>

<pre class="fixcode">
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
   http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
  version="2.4"&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;sessiontest&lt;/servlet-name&gt;
    &lt;servlet-class&gt;SessionTest1&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;sessiontest&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/sessiontest&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</pre>

			<p>
			ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚
			</p>

			<p>
			<a href="SessionTest1.java.htm" tppabs="https://www.javadrive.jp/servlet/session/SessionTest1.java">SessionTest1.java</a>
			</p>

<pre class="fixcode">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class SessionTest1 extends HttpServlet {
  public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws IOException, ServletException{

    response.setContentType("text/html; charset=Shift_JIS");
    PrintWriter out = response.getWriter();

    HttpSession session = request.getSession(false);

    out.println("&lt;html&gt;");
    out.println("&lt;head&gt;");
    out.println("&lt;title&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ&lt;/title&gt;");
    out.println("&lt;/head&gt;");
    out.println("&lt;body&gt;");

    if (session == null){
      out.println("&lt;p&gt;åˆå›è¨ªå•ã§ã™&lt;/p&gt;");
      session = request.getSession(true);
      session.setAttribute("visited", "1");
    }else{
      String visitedStr = (String)session.getAttribute("visited");
      int visited = Integer.parseInt(visitedStr);
      visited++;

      out.println("&lt;p&gt;è¨ªå•å›æ•°ã¯");
      out.println(visited);
      out.println("å›ç›®ã§ã™&lt;/p&gt;");

      session.setAttribute("visited", Integer.toString(visited));
    }

    out.println("&lt;a href=&yen;"/session/sessiontest&yen;"&gt;å†è¡¨ç¤º&lt;/a&gt;");

    out.println("&lt;/body&gt;");
    out.println("&lt;/html&gt;");
  }
}
</pre>

			<p>
			ä¸Šè¨˜ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œã«ã€Œd:&yen;servlet-sample&yen;session&yen;WEB-INF&yen;classes&yen;ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚¯ãƒ©ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã—ãŸå¾Œã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œhttp://localhost:8080/session/sessiontestã€ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p4.png" tppabs="https://www.javadrive.jp/servlet/session/img/p4.png" alt="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ©ç”¨" width="493" height="301">
			</p>

			<p>
			æ¬¡ã«ã€Œå†è¡¨ç¤ºã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä¸‹ã•ã„ã€‚å†è¡¨ç¤ºã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ãŸã³ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹å€¤ã‚’1ãšã¤å¢—åŠ ã•ã›ã¦ã„ã‚‹ãŸã‚ã€è¨ªå•å›æ•°ãŒå¢—åŠ ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p5.png" tppabs="https://www.javadrive.jp/servlet/session/img/p5.png" alt="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ©ç”¨" width="490" height="301">
			</p>

			<p>
			<img src="img/p6.png" tppabs="https://www.javadrive.jp/servlet/session/img/p6.png" alt="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆ©ç”¨" width="491" height="300">
			</p>

			<div id="profile">
			<p>( Written by Tatsuo Ikura )</p>
			</div>

<div id="adbottom_box">
  <div id="adbottom_l">
<style type="text/css">
.adslot_bottom_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_bottom_l { width: 360px; height: 280px; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomL Res -->
<ins class="adsbygoogle adslot_bottom_l"
     style="display:inline-block;"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="4549256893"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>

  <div id="adbottom_r">
<style type="text/css">
.adslot_bottom_r { display:inline-block; width: 360px; height: 280px; }
@media (max-width: 730px) { .adslot_bottom_r { display: none; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomR Res -->
<ins class="adsbygoogle adslot_bottom_r"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="1319621435"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
</div>

			<div class="relatedlabel">
			é–¢é€£è¨˜äº‹ (ä¸€éƒ¨åºƒå‘Šå«ã‚€)
			</div>

			<div class="relatedarea">
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-5403370376223466"
     data-matched-content-rows-num="4,3"
     data-matched-content-columns-num="1,2"
     data-matched-content-ui-type="image_card_stacked,image_card_stacked"
     data-ad-slot="7621756236"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<div id="profiletitle2">Profile</div>

			<div id="profileblock2">

				<div id="profilephoto2">
				<img src="../../img/face2.png" tppabs="https://www.javadrive.jp/img/face2.png" width="100" height="100" alt="profile_img">
				</div>

				<div id="profiletext2">
					<p>
					è‘—è€… / <a href="javascript:if(confirm('http://www.buzzword.co.jp/profile/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/profile/'" tppabs="http://www.buzzword.co.jp/profile/" rel="nofollow">TATSUO IKURA</a>
					</p>

					<p>
					åˆå¿ƒè€…ï½ä¸­ç´šè€…ã®æ–¹ã‚’å¯¾è±¡ã¨ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ–¹æ³•ã‚„é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã®è§£èª¬ã‚’è¡Œã†ã‚µã‚¤ãƒˆã®é‹å–¶ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚
					</p>
				</div>

			</div>

		</div>

		<div class="sidebar">

			<div class="adsticky restitle">

				<div class="adstickyinner">
<style type="text/css">
.adslot_3 { display:inline-block; width: 300px; height: 600px; }
@media (max-width: 1010px) { .adslot_3 { display: none; } }
</style>
<!-- JavaDrive PageRight Res Sticky -->
<ins class="adsbygoogle adslot_3"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2926458638"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				</div>

			</div>

		</div>

	</div>

	<div id="footer">
		<p id="copyright">
		Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° &copy;2006-2021 <a href="javascript:if(confirm('http://www.buzzword.co.jp/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/'" tppabs="http://www.buzzword.co.jp/" rel="nofollow">Buzzword Inc.</a>. All Rights Reserved.
		</p>
	</div>

</body>
</html>
