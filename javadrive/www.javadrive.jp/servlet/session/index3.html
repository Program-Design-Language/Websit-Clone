<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† - ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå…¥é–€</title>
<meta name="keywords" content="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ å‰Šé™¤,ã‚»ãƒƒã‚·ãƒ§ãƒ³,ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ" />
<meta name="description" content="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤" />

<link rel="stylesheet" href="../../css/style070.css" tppabs="https://www.javadrive.jp/css/style070.css">
<link href="../../../fonts.googleapis.com/css2-family=Noto+Sans+JP-wght@400;700&display=swap.css" tppabs="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="../../../www.googletagmanager.com/gtag/js-id=UA-6293295-1" tppabs="https://www.googletagmanager.com/gtag/js?id=UA-6293295-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6293295-1');
</script>

</head>
<body>

	<div id="header">
		<div id="sitelogo">
			<img src="../../img/logo_small_c.png" tppabs="https://www.javadrive.jp/img/logo_small_c.png" alt="ãƒ­ã‚´" width="24" height="24"><span> Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</span>
		</div>
	</div>

	<div class="container">
		<div class="main">

<div id="pankuzubar">
		<ul id="pankuzu">
		<li class="s" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../../index.htm" tppabs="https://www.javadrive.jp/" itemprop="url"><span itemprop="title">Home</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../index.htm" tppabs="https://www.javadrive.jp/servlet/" itemprop="url"><span itemprop="title">ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ/JSPå…¥é–€</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="index.htm" tppabs="https://www.javadrive.jp/servlet/session/" itemprop="url"><span itemprop="title">ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</span></a></li>
		</ul>
</div>

			<h1>ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤</h1>

<div id="adtoplabel">
åºƒå‘Š
</div>

			<div id="adtop">
<style type="text/css">
.adslot_top_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_top_l { width: 728px; height: 200px; } }
</style>
<!-- JavaDrive PageTop Res -->
<ins class="adsbygoogle adslot_top_l"
     style="display:inline-block;"
     data-full-width-responsive="true"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2935955435"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<p>
			ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«æ ¼ç´ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ã«ã¤ã„ã¦ç¢ºèªã—ã¾ã™ã€‚
			</p>

			<p>
			ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã™ã‚‹å ´åˆã«ã¯ã€ŒHttpSessionã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹"removeAttribute"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚
			</p>

<pre class="mheader">
removeAttribute
public void removeAttribute(java.lang.String name)
</pre>
<pre class="mexplain">
Removes the object bound with the specified name from this session. 
If the session does not have an object bound with the specified 
name, this method does nothing. 

After this method executes, and if the object implements 
HttpSessionBindingListener, the container calls 
HttpSessionBindingListener.valueUnbound. The container then notifies
any HttpSessionAttributeListeners in the web application. 

Parameters:
  name - the name of the object to remove from this session 
Throws: 
  java.lang.IllegalStateException - if this method is called on an 
    invalidated session
</pre>

			<p>
			"removeAttribute"ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€å¼•æ•°ã«æŒ‡å®šã—ãŸã€Œåå‰ã€ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤ã—ã¾ã™ã€‚
			</p>

			<p>
			ä¾‹ãˆã°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦åå‰ãŒã€Œvisitedã€ã®ã‚‚ã®ã‚’å‰Šé™¤ã™ã‚‹å ´åˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
			</p>

<pre class="fixcode">
public void doGet(HttpServletRequest request, HttpServletResponse response)
  throws IOException, ServletException{

  response.setContentType("text/html; charset=Shift_JIS");
  PrintWriter out = response.getWriter();

  HttpSession session = request.getSession(true);

  session.removeAttribute("visited");
}
</pre>

			<h2>ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h2>

			<p>
			ã§ã¯ç°¡å˜ã«è©¦ã—ã¦ã¿ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã‚ãŸã£ã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å…¨ã¦ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã™ã‚‹"getAttributeNames"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚
			</p>

<pre class="mheader">
getAttributeNames
public java.util.Enumeration getAttributeNames()
</pre>
<pre class="mexplain">
Returns an Enumeration of String objects containing the names of all 
the objects bound to this session. 

Returns:
  an Enumeration of String objects specifying the names of all the 
    objects bound to this session 
Throws: 
  java.lang.IllegalStateException - if this method is called on an 
    invalidated session
</pre>

			<p>
			web.xmlãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
			</p>

<pre class="fixcode">
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
   http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
  version="2.4"&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;sessiontest&lt;/servlet-name&gt;
    &lt;servlet-class&gt;SessionTest2&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;deleteobject&lt;/servlet-name&gt;
    &lt;servlet-class&gt;DeleteObject2&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;sessiontest&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/sessiontest&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;deleteobject&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/deleteobject&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</pre>

			<p>
			ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚
			</p>

			<p>
			<a href="SessionTest2.java.htm" tppabs="https://www.javadrive.jp/servlet/session/SessionTest2.java">SessionTest2.java</a>
			</p>

<pre class="fixcode">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Enumeration;

public class SessionTest2 extends HttpServlet {
  public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws IOException, ServletException{

    response.setContentType("text/html; charset=Shift_JIS");
    PrintWriter out = response.getWriter();

    HttpSession session = request.getSession(false);

    out.println("&lt;html&gt;");
    out.println("&lt;head&gt;");
    out.println("&lt;title&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ&lt;/title&gt;");
    out.println("&lt;/head&gt;");
    out.println("&lt;body&gt;");

    if (session == null){
      out.println("&lt;p&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç™»éŒ²ã—ã¾ã™&lt;/p&gt;");
      session = request.getSession(true);

      session.setAttribute("age", "24");
      session.setAttribute("name", "å±±ç”°");
    }

    /* ç¾åœ¨ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º */
    out.println("&lt;p&gt;");
    out.println("ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™&lt;br&gt;");
    Enumeration enum_session = session.getAttributeNames(); 
    while(enum_session.hasMoreElements()) {
      String key = (String)enum_session.nextElement();
      String val = (String)session.getAttribute(key);

      out.println(key + " = " + val + "&lt;br&gt;");
    }
    out.println("&lt;/p&gt;");

    out.println("&lt;a href=&yen;"/session/deleteobject&yen;"&gt;ageã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤&lt;/a&gt;");

    out.println("&lt;/body&gt;");
    out.println("&lt;/html&gt;");
  }
}
</pre>

			<p>
			<a href="DeleteObject2.java.htm" tppabs="https://www.javadrive.jp/servlet/session/DeleteObject2.java">DeleteObject2.java</a>
			</p>

<pre class="fixcode">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Enumeration;

public class DeleteObject2 extends HttpServlet {
  public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws IOException, ServletException{

    response.setContentType("text/html; charset=Shift_JIS");
    PrintWriter out = response.getWriter();

    HttpSession session = request.getSession(false);

    out.println("&lt;html&gt;");
    out.println("&lt;head&gt;");
    out.println("&lt;title&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ&lt;/title&gt;");
    out.println("&lt;/head&gt;");
    out.println("&lt;body&gt;");

    if (session != null){
      session.removeAttribute("age");

      /* ç¾åœ¨ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º */
      out.println("&lt;p&gt;");
      out.println("ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™&lt;br&gt;");

      Enumeration enum_session = session.getAttributeNames(); 
      while(enum_session.hasMoreElements()) {
        String key = (String)enum_session.nextElement();
        String val = (String)session.getAttribute(key);

        out.println(key + " = " + val + "&lt;br&gt;");
      }

      out.println("&lt;/p&gt;");
    }else{
      out.println("&lt;p&gt;ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“&lt;/p&gt;");
    }

    out.println("&lt;/body&gt;");
    out.println("&lt;/html&gt;");
  }
}
</pre>

			<p>
			ä¸Šè¨˜ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œã«ã€Œd:&yen;servlet-sample&yen;session&yen;WEB-INF&yen;classes&yen;ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚¯ãƒ©ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã—ãŸå¾Œã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œhttp://localhost:8080/session/sessiontestã€ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p7.png" tppabs="https://www.javadrive.jp/servlet/session/img/p7.png" alt="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤" width="483" height="339">
			</p>

			<p>
			æœ€åˆã«è¡¨ç¤ºã—ãŸæ™‚ã«ã€ã€Œageã€ã¨ã€Œnameã€ã¨ã„ã†ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç™»éŒ²ã—ã€ç”»é¢ã«è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚
			</p>

			<p>
			ã“ã“ã§ã€Œageã€ã¨è¨€ã†åå‰ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã€Œageã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä¸‹ã•ã„ã€‚
			</p>

			<p>
			<img src="img/p8.png" tppabs="https://www.javadrive.jp/servlet/session/img/p8.png" alt="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤" width="484" height="336">
			</p>

			<p>
			ã€Œageã€ã¨è¨€ã†åå‰ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚
			</p>

			<div id="profile">
			<p>( Written by Tatsuo Ikura )</p>
			</div>

<div id="adbottom_box">
  <div id="adbottom_l">
<style type="text/css">
.adslot_bottom_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_bottom_l { width: 360px; height: 280px; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomL Res -->
<ins class="adsbygoogle adslot_bottom_l"
     style="display:inline-block;"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="4549256893"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>

  <div id="adbottom_r">
<style type="text/css">
.adslot_bottom_r { display:inline-block; width: 360px; height: 280px; }
@media (max-width: 730px) { .adslot_bottom_r { display: none; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomR Res -->
<ins class="adsbygoogle adslot_bottom_r"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="1319621435"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
</div>

			<div class="relatedlabel">
			é–¢é€£è¨˜äº‹ (ä¸€éƒ¨åºƒå‘Šå«ã‚€)
			</div>

			<div class="relatedarea">
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-5403370376223466"
     data-matched-content-rows-num="4,3"
     data-matched-content-columns-num="1,2"
     data-matched-content-ui-type="image_card_stacked,image_card_stacked"
     data-ad-slot="7621756236"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<div id="profiletitle2">Profile</div>

			<div id="profileblock2">

				<div id="profilephoto2">
				<img src="../../img/face2.png" tppabs="https://www.javadrive.jp/img/face2.png" width="100" height="100" alt="profile_img">
				</div>

				<div id="profiletext2">
					<p>
					è‘—è€… / <a href="javascript:if(confirm('http://www.buzzword.co.jp/profile/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/profile/'" tppabs="http://www.buzzword.co.jp/profile/" rel="nofollow">TATSUO IKURA</a>
					</p>

					<p>
					åˆå¿ƒè€…ï½ä¸­ç´šè€…ã®æ–¹ã‚’å¯¾è±¡ã¨ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ–¹æ³•ã‚„é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã®è§£èª¬ã‚’è¡Œã†ã‚µã‚¤ãƒˆã®é‹å–¶ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚
					</p>
				</div>

			</div>

		</div>

		<div class="sidebar">

			<div class="adsticky restitle">

				<div class="adstickyinner">
<style type="text/css">
.adslot_3 { display:inline-block; width: 300px; height: 600px; }
@media (max-width: 1010px) { .adslot_3 { display: none; } }
</style>
<!-- JavaDrive PageRight Res Sticky -->
<ins class="adsbygoogle adslot_3"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2926458638"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				</div>

			</div>

		</div>

	</div>

	<div id="footer">
		<p id="copyright">
		Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° &copy;2006-2021 <a href="javascript:if(confirm('http://www.buzzword.co.jp/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/'" tppabs="http://www.buzzword.co.jp/" rel="nofollow">Buzzword Inc.</a>. All Rights Reserved.
		</p>
	</div>

</body>
</html>
