<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>æœ‰åŠ¹æœŸé™ã®è¨­å®š - ã‚¯ãƒƒã‚­ãƒ¼ã®åˆ©ç”¨ - ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå…¥é–€</title>
<meta name="keywords" content="æœ‰åŠ¹æœŸé™,ã‚¯ãƒƒã‚­ãƒ¼,ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ" />
<meta name="description" content="æœ‰åŠ¹æœŸé™ã®è¨­å®š" />

<link rel="stylesheet" href="../../css/style070.css" tppabs="https://www.javadrive.jp/css/style070.css">
<link href="../../../fonts.googleapis.com/css2-family=Noto+Sans+JP-wght@400;700&display=swap.css" tppabs="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="../../../www.googletagmanager.com/gtag/js-id=UA-6293295-1" tppabs="https://www.googletagmanager.com/gtag/js?id=UA-6293295-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6293295-1');
</script>

</head>
<body>

	<div id="header">
		<div id="sitelogo">
			<img src="../../img/logo_small_c.png" tppabs="https://www.javadrive.jp/img/logo_small_c.png" alt="ãƒ­ã‚´" width="24" height="24"><span> Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</span>
		</div>
	</div>

	<div class="container">
		<div class="main">

<div id="pankuzubar">
		<ul id="pankuzu">
		<li class="s" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../../index.htm" tppabs="https://www.javadrive.jp/" itemprop="url"><span itemprop="title">Home</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../index.htm" tppabs="https://www.javadrive.jp/servlet/" itemprop="url"><span itemprop="title">ã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ/JSPå…¥é–€</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="index.htm" tppabs="https://www.javadrive.jp/servlet/cookie/" itemprop="url"><span itemprop="title">ã‚¯ãƒƒã‚­ãƒ¼ã®åˆ©ç”¨</span></a></li>
		</ul>
</div>

			<h1>æœ‰åŠ¹æœŸé™ã®è¨­å®š</h1>

<div id="adtoplabel">
åºƒå‘Š
</div>

			<div id="adtop">
<style type="text/css">
.adslot_top_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_top_l { width: 728px; height: 200px; } }
</style>
<!-- JavaDrive PageTop Res -->
<ins class="adsbygoogle adslot_top_l"
     style="display:inline-block;"
     data-full-width-responsive="true"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2935955435"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<p>
			ä½œæˆã—ãŸã‚¯ãƒƒã‚­ãƒ¼ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹æœŸé™ãŒãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‰ã˜ã‚‹ã¾ã§ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯æœ‰åŠ¹æœŸé™ã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
			</p>

			<p>
			ã€ŒCookieã€ã‚¯ãƒ©ã‚¹ã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹"setMaxAge"ãƒ¡ã‚½ãƒƒãƒ‰ã§æœ‰åŠ¹æœŸé™ã‚’è¨­å®šã§ãã¾ã™ã€‚
			</p>

<pre class="mheader">
setMaxAge
public void setMaxAge(int expiry)
</pre>
<pre class="mexplain">
Sets the maximum age of the cookie in seconds. 

A positive value indicates that the cookie will expire after that many
seconds have passed. Note that the value is the maximum age when the 
cookie will expire, not the cookie's current age. 

A negative value means that the cookie is not stored persistently and 
will be deleted when the Web browser exits. A zero value causes the 
cookie to be deleted. 

Parameters:
  expiry - an integer specifying the maximum age of the cookie in seconds; 
    if negative, means the cookie is not stored; if zero, deletes the 
    cookie
</pre>

			<p>
			æœ‰åŠ¹æœŸé™ã¯ç§’æ•°ã§æŒ‡å®šã—ã¾ã™ã€‚ä¾‹ãˆã°1æ™‚é–“ã«è¨­å®šã—ãŸã„å ´åˆã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚
			</p>

<pre class="fixcode">
Cookie cookie = new Cookie("visited", "1");
cookie.setMaxAge(3600);
</pre>

			<p>
			ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«å¼•æ•°ã«ãƒã‚¤ãƒŠã‚¹ã®å€¤ã‚’è¨­å®šã—ãŸå ´åˆã€æœ‰åŠ¹æœŸé™ã¯ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‰ã˜ã‚‹ã¾ã§ã¨ãªã‚Šã¾ã™ã€‚
			</p>

			<p>
			ã¾ãŸå¼•æ•°ã«0ã‚’è¨­å®šã™ã‚‹ã¨ã‚¯ãƒƒã‚­ãƒ¼ã‚’ç ´æ£„ã—ã¾ã™ã€‚
			</p>

			<h2>ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h2>

			<p>
			ã§ã¯ä¸€åº¦è©¦ã—ã¦ã¿ã¾ã™ã€‚
			</p>

			<p>
			web.xmlãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
			</p>

<pre class="fixcode">
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
   http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
  version="2.4"&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;cookietest&lt;/servlet-name&gt;
    &lt;servlet-class&gt;CookieTest3&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;cookietest&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/cookietest&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</pre>

			<p>
			ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚æœ‰åŠ¹æœŸé™ã¯3åˆ†é–“ã«ã—ã¾ã—ãŸã€‚
			</p>

			<p>
			<a href="CookieTest3.java.htm" tppabs="https://www.javadrive.jp/servlet/cookie/CookieTest3.java">CookieTest3.java</a>
			</p>

<pre class="fixcode">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class CookieTest3 extends HttpServlet {
  public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws IOException, ServletException{

    response.setContentType("text/html; charset=Shift_JIS");
    PrintWriter out = response.getWriter();

    out.println("&lt;html&gt;");
    out.println("&lt;head&gt;");
    out.println("&lt;title&gt;ã‚¯ãƒƒã‚­ãƒ¼ãƒ†ã‚¹ãƒˆ&lt;/title&gt;");
    out.println("&lt;/head&gt;");
    out.println("&lt;body&gt;");

    Cookie cookie[] = request.getCookies();
    Cookie visitedCookie = null;

    if (cookie != null){
      for (int i = 0 ; i &lt; cookie.length ; i++){
        if (cookie[i].getName().equals("visited")){
          visitedCookie = cookie[i];
        }
      }

      if (visitedCookie != null){
        int visited = Integer.parseInt(visitedCookie.getValue()) + 1;

        out.println("&lt;p&gt;");
        out.println(visited);
        out.println("å›ç›®ã®è¨ªå•ã§ã™ã€‚&lt;/p&gt;");

        visitedCookie.setValue(Integer.toString(visited));
        visitedCookie.setMaxAge(180);
        response.addCookie(visitedCookie);
      }else{
        out.println("&lt;p&gt;åˆå›ã®è¨ªå•ã§ã™ã€‚&lt;/p&gt;");

        Cookie newCookie = new Cookie("visited", "1");
        newCookie.setMaxAge(180);
        response.addCookie(newCookie);
      }
    }else{
      out.println("&lt;p&gt;åˆå›ã®è¨ªå•ã§ã™ã€‚&lt;/p&gt;");

      Cookie newCookie = new Cookie("visited", "1");
      newCookie.setMaxAge(180);
      response.addCookie(newCookie);
    }

    out.println("&lt;a href=&yen;"/cookie/cookietest&yen;"&gt;å†è¡¨ç¤º&lt;/a&gt;");

    out.println("&lt;/body&gt;");
    out.println("&lt;/html&gt;");
  }
}
</pre>

			<p>
			ä¸Šè¨˜ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œã«ã€Œd:&yen;servlet-sample&yen;cookie&yen;WEB-INF&yen;classes&yen;ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚¯ãƒ©ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã—ãŸå¾Œã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Œhttp://localhost:8080/cookie/cookietestã€ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p8.png" tppabs="https://www.javadrive.jp/servlet/cookie/img/p8.png" alt="ã‚¯ãƒƒã‚­ãƒ¼ã®å†è¨­å®š" width="492" height="299">
			</p>

			<p>
			ã€Œå†è¡¨ç¤ºã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è¨ªå•å›æ•°ãŒå¢—åŠ ã—ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p9.png" tppabs="https://www.javadrive.jp/servlet/cookie/img/p9.png" alt="ã‚¯ãƒƒã‚­ãƒ¼ã®å†è¨­å®š" width="493" height="300">
			</p>

			<p>
			æœ‰åŠ¹æœŸé™ã‚’180ç§’ã«è¨­å®šã—ã¦ã„ã‚‹ãŸã‚ã€ä¸€åº¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‹ã‚‰å†åº¦åŒã˜URLã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ã‚¯ãƒƒã‚­ãƒ¼ã¯åˆæœŸåŒ–ã•ã‚Œãšæ®‹ã£ã¦ã„ã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p10.png" tppabs="https://www.javadrive.jp/servlet/cookie/img/p10.png" alt="ã‚¯ãƒƒã‚­ãƒ¼ã®å†è¨­å®š" width="493" height="297">
			</p>

			<p>
			æœ‰åŠ¹æœŸé™ã§ã‚ã‚‹180ç§’çµŒéä»¥é™ã«å†åº¦ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ã¿ã‚‹ã¨ã‚¯ãƒƒã‚­ãƒ¼ãŒå‰Šé™¤ã•ã‚Œã¦åˆæœŸåŒ–ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
			</p>

			<p>
			<img src="img/p11.png" tppabs="https://www.javadrive.jp/servlet/cookie/img/p11.png" alt="ã‚¯ãƒƒã‚­ãƒ¼ã®å†è¨­å®š" width="491" height="300">
			</p>

			<div id="profile">
			<p>( Written by Tatsuo Ikura )</p>
			</div>

<div id="adbottom_box">
  <div id="adbottom_l">
<style type="text/css">
.adslot_bottom_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_bottom_l { width: 360px; height: 280px; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomL Res -->
<ins class="adsbygoogle adslot_bottom_l"
     style="display:inline-block;"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="4549256893"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>

  <div id="adbottom_r">
<style type="text/css">
.adslot_bottom_r { display:inline-block; width: 360px; height: 280px; }
@media (max-width: 730px) { .adslot_bottom_r { display: none; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomR Res -->
<ins class="adsbygoogle adslot_bottom_r"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="1319621435"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
</div>

			<div class="relatedlabel">
			é–¢é€£è¨˜äº‹ (ä¸€éƒ¨åºƒå‘Šå«ã‚€)
			</div>

			<div class="relatedarea">
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-5403370376223466"
     data-matched-content-rows-num="4,3"
     data-matched-content-columns-num="1,2"
     data-matched-content-ui-type="image_card_stacked,image_card_stacked"
     data-ad-slot="7621756236"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<div id="profiletitle2">Profile</div>

			<div id="profileblock2">

				<div id="profilephoto2">
				<img src="../../img/face2.png" tppabs="https://www.javadrive.jp/img/face2.png" width="100" height="100" alt="profile_img">
				</div>

				<div id="profiletext2">
					<p>
					è‘—è€… / <a href="javascript:if(confirm('http://www.buzzword.co.jp/profile/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/profile/'" tppabs="http://www.buzzword.co.jp/profile/" rel="nofollow">TATSUO IKURA</a>
					</p>

					<p>
					åˆå¿ƒè€…ï½ä¸­ç´šè€…ã®æ–¹ã‚’å¯¾è±¡ã¨ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ–¹æ³•ã‚„é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã®è§£èª¬ã‚’è¡Œã†ã‚µã‚¤ãƒˆã®é‹å–¶ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚
					</p>
				</div>

			</div>

		</div>

		<div class="sidebar">

			<div class="adsticky restitle">

				<div class="adstickyinner">
<style type="text/css">
.adslot_3 { display:inline-block; width: 300px; height: 600px; }
@media (max-width: 1010px) { .adslot_3 { display: none; } }
</style>
<!-- JavaDrive PageRight Res Sticky -->
<ins class="adsbygoogle adslot_3"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2926458638"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				</div>

			</div>

		</div>

	</div>

	<div id="footer">
		<p id="copyright">
		Let'sãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° &copy;2006-2021 <a href="javascript:if(confirm('http://www.buzzword.co.jp/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.buzzword.co.jp/'" tppabs="http://www.buzzword.co.jp/" rel="nofollow">Buzzword Inc.</a>. All Rights Reserved.
		</p>
	</div>

</body>
</html>
