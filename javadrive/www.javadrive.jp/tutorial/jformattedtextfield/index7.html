<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DecimalFormatクラス - JFormattedTextFieldクラス - Swing</title>
<meta name="keywords" content="DecimalFormat,JFormattedTextField,Swing,Java" />
<meta name="description" content="DecimalFormatクラス" />

<link rel="stylesheet" href="../../css/style070.css" tppabs="https://www.javadrive.jp/css/style070.css">
<link href="../../../fonts.googleapis.com/css2-family=Noto+Sans+JP-wght@400;700&display=swap.css" tppabs="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="../../../www.googletagmanager.com/gtag/js-id=UA-6293295-1" tppabs="https://www.googletagmanager.com/gtag/js?id=UA-6293295-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-6293295-1');
</script>

</head>
<body>

	<div id="header">
		<div id="sitelogo">
			<img src="../../img/logo_small_c.png" tppabs="https://www.javadrive.jp/img/logo_small_c.png" alt="ロゴ" width="24" height="24"><span> Let'sプログラミング</span>
		</div>
	</div>

	<div class="container">
		<div class="main">

<div id="pankuzubar">
		<ul id="pankuzu">
		<li class="s" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../../index.htm" tppabs="https://www.javadrive.jp/" itemprop="url"><span itemprop="title">Home</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="../index.htm" tppabs="https://www.javadrive.jp/tutorial/" itemprop="url"><span itemprop="title">Swing</span></a><span class="sya">&nbsp;&rsaquo;</span></li>
		<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="index.htm" tppabs="https://www.javadrive.jp/tutorial/jformattedtextfield/" itemprop="url"><span itemprop="title">JFormattedTextFieldクラス</span></a></li>
		</ul>
</div>

			<h1>DecimalFormatクラス</h1>

<div id="adtoplabel">
広告
</div>

			<div id="adtop">
<style type="text/css">
.adslot_top_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_top_l { width: 728px; height: 200px; } }
</style>
<!-- JavaDrive PageTop Res -->
<ins class="adsbygoogle adslot_top_l"
     style="display:inline-block;"
     data-full-width-responsive="true"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2935955435"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<p>
			DecimalFormatはNumberFormatクラスの実装クラスで、より細かいフォーマットを指定できます。
			</p>

			<p>
			まず下記のクラス図を見てください。
			</p>

<div class="classwaku">
<ul class="classdirectory">
<li class="top">java.lang.Object</li>
<li class="row1">java.text.Format</li>
<li class="row2">java.text.NumberFormat</li>
<li class="row3">java.text.DecimalFormat</li>
<li class="detail">public class DecimalFormat extends NumberFormat</li>
</ul>
</div>

			<p>
			コンストラクタは3つ用意されています。
			</p>

<table class="pro">
<tr><th>コンストラクタ</th></tr>
<tr><td><span class="title">DecimalFormat()</span><br>デフォルトロケールに対して、デフォルトのパターンと記号を使って DecimalFormat を作成します。</td></tr>
<tr><td><span class="title">DecimalFormat(String pattern)</span><br>デフォルトロケールに対して、指定されたパターンと記号を使って DecimalFormat を作成します。</td></tr>
<tr><td><span class="title">DecimalFormat(String pattern, DecimalFormatSymbols symbols)</span><br>指定されたパターンと記号を使って DecimalFormat を作成します。</td></tr>
</table>

			<p>
			コンストラクタではパターンを指定します。2番目のコンストラクタを見てみます。
			</p>

<pre class="mheader">
DecimalFormat
public DecimalFormat(String pattern)
</pre>
<pre class="mexplain">
デフォルトロケールに対して、指定されたパターンと記号を使って DecimalFormat
を作成します。これは、国際化が主要な問題でない場合は、DecimalFormat を
得るためには簡単な方法です。 

指定されたロケールに対する標準フォーマットを得るには、getNumberInstance
など、NumberFormat のファクトリメソッドを使用してください。これらの
ファクトリメソッドは、指定されたロケールに対する NumberFormat の最適
なサブクラスを返します。 

パラメータ:
  pattern - 非地域対応のパターン文字列 
例外: 
  NullPointerException - pattern が null の場合 
  IllegalArgumentException - 指定されたパターンが正しくない場合
</pre>

			<p>
			パターンの具体的な記述方法ですが、下記の規則に従って記述します。
			</p>

<table class="pro">
<tr><th>記号</th><th>位置</th><th>地域対応の有無</th><th>意味</th></tr>
<tr><td>0</td><td>数値</td><td>あり</td><td>数字</td></tr>
<tr><td>#</td><td>数値</td><td>あり</td><td>数字。ゼロだと表示されない</td></tr>
<tr><td>.</td><td>数値</td><td>あり</td><td>数値桁区切り子または通貨桁区切り子</td></tr>
<tr><td>-</td><td>数値</td><td>あり</td><td>マイナス記号</td></tr>
<tr><td>,</td><td>数値</td><td>あり</td><td>グループ区切り子</td></tr>
<tr><td>E</td><td>数値</td><td>あり</td><td>科学表記法の仮数と指数を区切る。接頭辞や接尾辞内に引用符を付ける必要はない</td></tr>
<tr><td>;</td><td>サブパターン境界</td><td>あり</td><td>正と負のサブパターンを区切る</td></tr>
<tr><td>%</td><td>接頭辞または接尾辞</td><td>あり</td><td>100 倍してパーセントを表す</td></tr>
<tr><td>&yen;u2030</td><td>接頭辞または接尾辞</td><td>あり</td><td>1000 倍してパーミル値を表す</td></tr>
<tr><td>&yen;u00A4</td><td>接頭辞または接尾辞</td><td>あり</td><td>通貨記号で置換される通貨符号。2 つの場合は、国際通貨記号で置換される。パターン内にある場合は、数値桁区切り子ではなく、通貨桁区切り子が使用される</td></tr>
<tr><td>'</td><td>接頭辞または接尾辞</td><td>なし</td><td>接頭辞や接尾辞内の特殊文字を引用符で囲む場合に使用される。たとえば、"'#'#" を使用すると 123 は "#123" にフォーマットされる。単一引用符自体を作成するために合は、1 行に 2 つ引用符を使用する ("# o''clock")</td></tr>
</table>

			<h2>基本的なパターン</h2>

			<p>
			基本は"0"と"#"と"."と","の組み合わせです。"#"で表した部分は数値があれば数値を無ければ何も表示しません。"0"で表した部分は数値があれば数値を、数値がなければ0を表示します。"."は小数点の位置を表し、","を使えばカンマ区切りをつけます。
			</p>

			<p>
			実際の使い方とパターン毎の結果については例えば下記のようになります。
			</p>

<pre class="fixcode">
double number = 1234.567d;
DecimalFormat df1 = new DecimalFormat("######");

System.out.println(df1.format(number));
</pre>

			<p>
			ここで使ってるformatメソッドは親クラスのNumberFormatクラスで用意されているformatメソッドを使っています。
			</p>

			<p>
			パターン毎の結果
			</p>

<pre class="fixcomment">
DecimalFormat("######")          1235
DecimalFormat("###,###")         1,235
DecimalFormat("000,000")         001,235
DecimalFormat("000,000.####")    001,234.567
DecimalFormat("000,000.0000")    001,234.5670
</pre>

			<p>
			のような結果となります。
			</p>

			<h2>負の値のパターンの指定</h2>

			<p>
			デフォルトでは負の値には"-"が付きますが、負の値の場合のフォーマットを指定することもできます。
			</p>

			<p>
			負の値の場合のフォーマットを指定するには、間に";"を入れて2つのパターンを指定しておきます。例えば負の値の場合には"-"を接頭語として付ける代わりに全体を()でくくる場合には下記のようになります。
			</p>

<pre class="fixcode">
double number = -1234.567d;
DecimalFormat df1 = new DecimalFormat("#,##0.00;(#,##0.00)");

System.out.println(df1.format(number));
</pre>

			<p>
			実際の値で試してみると、下記のようになります。
			</p>

<pre class="fixcode">
import java.text.DecimalFormat;

public class SwingTest{
  public static void main(String[] args){

    double number1 = 1234.567d;
    double number2 = -1234.567d;
    DecimalFormat df1 = new DecimalFormat("#,##0.00;(#,##0.00)");
    DecimalFormat df2 = new DecimalFormat("#,##0.00;-#,##0.00");

    System.out.println(df1.format(number1));
    System.out.println(df1.format(number2));
    System.out.println(df2.format(number1));
    System.out.println(df2.format(number2));
  }
}
</pre>

			<p>
			結果は下記のようになります。
			</p>

<pre class="fixcomment">
1,234.57
(1,234.57)
1,234.57
-1,234.57
</pre>

			<h2>パーセントと通貨記号</h2>

			<p>
			パターンの指定で"%"を指定すると、100倍した値でパーセント表示されます。また接頭語に"&yen;u00A4"を指定すると通貨記号が付けられます。
			</p>

			<p>
			実際に試してみましょう。
			</p>

<pre class="fixcode">
import java.text.DecimalFormat;

public class SwingTest{
  public static void main(String[] args){

    double number1 = 0.34d;
    double number2 = 123456d;
    DecimalFormat df1 = new DecimalFormat("##0%");
    DecimalFormat df2 = new DecimalFormat("&yen;u00A4#,##0.00");

    System.out.println(df1.format(number1));
    System.out.println(df2.format(number2));
  }
}
</pre>

			<p>
			結果は下記のようになります。
			</p>

<pre class="fixcomment">
34%
￥123,456.00
</pre>

			<h2>メソッドでのパターン指定</h2>

			<p>
			パターンはコンストラクタで指定する以外にapplyPatternメソッドでも指定が可能です。
			</p>

<pre class="mheader">
applyPattern
public void applyPattern(String pattern)
</pre>
<pre class="mexplain">
指定されたパターンをこの Format オブジェクトに適用します。パターンと
は、各種のフォーマット特性に対する簡略仕様です。これらの特性は、各設
定機能メソッドで個別に変更することもできます。 

このルーチンで設定される整数の桁数に制限はありません。これは、一般な
エンドユーザの要望であるためです。実際の値を設定したい場合は、setMaximumInteger
を使用してください。負の数値の場合は、セミコロンで区切った 2 つ目のパ
ターンを使用します。 

例: "#,#00.0#" -&gt; 1,234.56 

これは、最小 2 桁の整数、1 つの小数点、最大 2 桁の小数を意味します。 

例: "#,#00.0#;(#,#00.0#)" (負の数値は括弧で囲む) 

負のパターンでは、最小と最大の桁数は無視されます。これらは、正のパタ
ーンで設定されるものと見なされます。 

例外: 
  NullPointerException - pattern が null の場合 
  IllegalArgumentException - 指定されたパターンが正しくない場合
</pre>

			<p>
			使い方はコンストラクタで指定する場合と同じです。
			</p>

			<h2>桁数の制限</h2>

			<p>
			整数部分や少数部分の桁数を制限する場合には、NumberFormatクラスと同様に、
			</p>

<pre class="fixcomment">
setMaximumFractionDigits  数値の小数部分の最大桁数を設定します
setMaximumIntegerDigits   数値の整数部分の最大桁数を設定します
setMinimumFractionDigits  数値の小数部分の最小桁数を設定します
setMinimumIntegerDigits   数値の整数部分の最小桁数を設定します
</pre>

			<p>
			の各メソッドを使って指定して下さい(詳細はNumberFormatクラスをご覧下さい)。
			</p>

			<h2>実際の使い方</h2>

			<p>
			DecimalFormatクラスはコンストラクタを使って直接インスタンスを作成することもできますが、NumberFormatクラスのファクトリメソッドを使って作成したインスタンスをキャストして使った方がいいかもしれません。その場合の記述方法は下記のようになります。
			</p>

<pre class="fixcode">
import java.text.NumberFormat;
import java.text.DecimalFormat;

public class SwingTest{
  public static void main(String[] args){

    double number = 123456d;

    DecimalFormat df = (DecimalFormat)NumberFormat.getNumberInstance();
    df.applyPattern("#,##0");

    System.out.println(df.format(number));
  }
}
</pre>

			<div id="profile">
			<p>( Written by Tatsuo Ikura )</p>
			</div>

<div id="adbottom_box">
  <div id="adbottom_l">
<style type="text/css">
.adslot_bottom_l { width: 300px; height: 250px; }
@media (min-width:730px) { .adslot_bottom_l { width: 360px; height: 280px; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomL Res -->
<ins class="adsbygoogle adslot_bottom_l"
     style="display:inline-block;"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="4549256893"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>

  <div id="adbottom_r">
<style type="text/css">
.adslot_bottom_r { display:inline-block; width: 360px; height: 280px; }
@media (max-width: 730px) { .adslot_bottom_r { display: none; } }
</style>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- JavaDrive PageBottomR Res -->
<ins class="adsbygoogle adslot_bottom_r"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="1319621435"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  </div>
</div>

			<div class="relatedlabel">
			関連記事 (一部広告含む)
			</div>

			<div class="relatedarea">
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-5403370376223466"
     data-matched-content-rows-num="4,3"
     data-matched-content-columns-num="1,2"
     data-matched-content-ui-type="image_card_stacked,image_card_stacked"
     data-ad-slot="7621756236"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>

			<div id="profiletitle2">Profile</div>

			<div id="profileblock2">

				<div id="profilephoto2">
				<img src="../../img/face2.png" tppabs="https://www.javadrive.jp/img/face2.png" width="100" height="100" alt="profile_img">
				</div>

				<div id="profiletext2">
					<p>
					著者 / <a href="javascript:if(confirm('http://www.buzzword.co.jp/profile/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.buzzword.co.jp/profile/'" tppabs="http://www.buzzword.co.jp/profile/" rel="nofollow">TATSUO IKURA</a>
					</p>

					<p>
					初心者～中級者の方を対象としたプログラミング方法や開発環境の構築の解説を行うサイトの運営を行っています。
					</p>
				</div>

			</div>

		</div>

		<div class="sidebar">

			<div class="adsticky restitle">

				<div class="adstickyinner">
<style type="text/css">
.adslot_3 { display:inline-block; width: 300px; height: 600px; }
@media (max-width: 1010px) { .adslot_3 { display: none; } }
</style>
<!-- JavaDrive PageRight Res Sticky -->
<ins class="adsbygoogle adslot_3"
     data-ad-client="ca-pub-5403370376223466"
     data-ad-slot="2926458638"></ins>
<script async src="../../../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" tppabs="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				</div>

			</div>

		</div>

	</div>

	<div id="footer">
		<p id="copyright">
		Let'sプログラミング &copy;2006-2021 <a href="javascript:if(confirm('http://www.buzzword.co.jp/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.buzzword.co.jp/'" tppabs="http://www.buzzword.co.jp/" rel="nofollow">Buzzword Inc.</a>. All Rights Reserved.
		</p>
	</div>

</body>
</html>
