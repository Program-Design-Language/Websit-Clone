<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8"utf-8">
<title>Reactå…¥é–€ - ã¨ã»ã»ã®WWWå…¥é–€</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>

<h2>Reactå…¥é–€</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">ãƒˆãƒƒãƒ—</a> &gt;
Reactå…¥é–€

<h4>ç›®æ¬¡</h4>
<div class=i>
<ul>
<li><a href="#whatis">React ã¨ã¯</a></li>
<li><a href="#cdn">CDN</a></li>
<li><a href="#install-and-run">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã¨å®Ÿè¡Œ</a></li>
<li><a href="#ReactDOM-render">ReactDOM.render()</a></li>
<li><a href="#component">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹</a></li>
<li><a href="#props">ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ¸¡ã™</a></li>
<li><a href="#jsx">JSX ã®æ›¸ãæ–¹</a></li>
<li><a href="#list">ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹</a></li>
<li><a href="#set-state">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹</a></li>
<li><a href="#routing">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ãƒšãƒ¼ã‚¸ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹</a></li>
<li><a href="#sample">ãƒ¦ãƒ¼ã‚¶ç®¡ç†ç”»é¢ã‚µãƒ³ãƒ—ãƒ«</a></li>
<li><a href="#links">ãƒªãƒ³ã‚¯</a></li>
</ul>
</div>

<h4 id="whatis">React ã¨ã¯</h4>
<div class=i>
<ul>
<li>SPA(Single-Page Application) ã‚’å®Ÿç¾ã™ã‚‹ JavaScript ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä¸€ã¤ã§ã™ã€‚
<li><a href="angular.html" tppabs="http://www.tohoho-web.com/ex/angular.html">Angular</a>, <a href="vuejs.html" tppabs="http://www.tohoho-web.com/ex/vuejs.html">Vue.js</a> ã¨ã‚ˆãæ¯”è¼ƒã•ã‚Œã¾ã™ã€‚
<li>Facebook ç¤¾ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã€Facebook ã® Web ã‚µã‚¤ãƒˆã§ã‚‚åˆ©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
<li>2020å¹´4æœˆç¾åœ¨ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 16.13.1 ã§ã™ã€‚
<li>MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§å…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€å•†ç”¨åˆ©ç”¨å¯èƒ½ã§ã™ã€‚
<li>JavaScript ã®ä¸­ã«ç›´æ¥ HTML/XML ã‚’è¨˜è¿°ã™ã‚‹ JSX ã¨ã„ã†æŠ€è¡“ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
<li>JavaScript ã¯ ES6 ã®æ–‡æ³•ã§ã‚ã‚‹ import ã‚„ã‚¢ãƒ­ãƒ¼é–¢æ•°ã‚’å–ã‚Šå…¥ã‚Œã¦ã„ã¾ã™ã€‚
<li>JSX ã‚„ ES6 æ–‡æ³•ã‚’ã€Babel ã¨ã„ã†ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ã§ ES5 ã® JavaScript ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚
<li>Chrome, Firefox ãªã©ã§å‹•ä½œã—ã¾ã™ã€‚IE8 ã§ä¸€éƒ¨æ©Ÿèƒ½ã€IE9 ã§åˆ¶é™ä»˜ãã€IE10 ã§ãƒ•ãƒ«æ©Ÿèƒ½ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¾ã™ã€‚
</ul>
</div>

<h4 id="cdn">CDN</h4>
<div class=i>
<p>CDN ã‚’ç”¨ã„ãŸä¾‹ã¯ä¸‹è¨˜ã®æ§˜ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;React Test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="root"&gt;&lt;/div&gt;
&lt;script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.10.3/babel.min.js"&gt;&lt;/script&gt;
&lt;script type="text/babel"&gt;
ReactDOM.render(
  &lt;h1&gt;Hello world!&lt;/h1&gt;,
  document.getElementById('root')
);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>ä¸Šè¨˜ã§ã¯é–‹ç™ºè€…ç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã¯ä¸‹è¨˜ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"&gt;&lt;/script&gt;
&lt;script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"&gt;&lt;/script&gt;
</pre>
</div>

<h4 id="install">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã¨å®Ÿè¡Œ</h4>
<div class=i>
<p>Node.js ç’°å¢ƒã§ React ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€<a href="npm.html" tppabs="http://www.tohoho-web.com/ex/npm.html">npm</a> ã‚’ç”¨ã„ã¾ã™ã€‚</p>
<div class="tab">Shell</div>
<pre class=c2>
$ npm install -g create-react-app
</pre>
<p>create-react-app ã‚³ãƒãƒ³ãƒ‰ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<div class="tab">Shell</div>
<pre class=c2>
$ create-react-app my-app
$ cd my-app
</pre>
<p>public/index.html ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">public/index.html</div>
<pre class=c2>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;link rel="icon" href="%PUBLIC_URL%/favicon.ico" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;meta name="theme-color" content="#000000" /&gt;
    &lt;meta name="description" content="Web site created using create-react-app" /&gt;
    &lt;link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /&gt;
    &lt;link rel="manifest" href="%PUBLIC_URL%/manifest.json" /&gt;
    &lt;title&gt;React App&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>src/index.js ã¯æ¬¡ã®ã‚ˆã†ãªå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚JavaScript ã¨ HTML ãŒåˆä½“ã—ãŸã‚ˆã†ãªã€JSX ã¨ã„ã†ç‹¬ç‰¹ãªæ–‡æ³•ã§è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">src/index.js</div>
<pre class=c2>
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById('root')
);

serviceWorker.unregister();
</pre>
<p>src/App.js ã‚’æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<div class="tab">src/App.js</div>
<pre class=c2>
import React from 'react';
import './App.css';

function App() {
  <em>return &lt;h1&gt;Hello, world!&lt;/h1&gt;;</em>
}
</pre>
<p>npm start ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€é–‹ç™ºç”¨ã®ç°¡æ˜“ã‚µãƒ¼ãƒãŒèµ·å‹•ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ http://ã‚µãƒ¼ãƒã‚¢ãƒ‰ãƒ¬ã‚¹:3000/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ "Hello, world!" ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚</p>
<div class="tab">src/App.js</div>
<pre class=c2>
$ npm start
</pre>
</div>

<h4 id="ReactDOM-render">ReactDOM.render()</h4>
<div class=i>
<p>ReactDOM.render() ã§ã¯ã€ç¬¬2å¼•æ•°ã§æŒ‡å®šã—ãŸ DOM è¦ç´ ã«å¯¾ã—ã¦ã€ç¬¬1è¦ç´ ã§æŒ‡å®šã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚React.StrintMode ã¯é–‹ç™ºè€…ç”¨ã«æ¤œæŸ»ãƒ»è­¦å‘Šã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚å†…éƒ¨ã§ App ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById('root')
);
</pre>
</div>

<h4 id="component">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©ã™ã‚‹</h4>
<div class=i>
<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®šç¾©ã¯æ§˜ã€…ãªæ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚React 15.5 ã‚ˆã‚Šå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ã€React.createClass() ã‚’ç”¨ã„ã¦å®šç¾©ã—ã¦ã„ã¾ã—ãŸãŒã€React 15.5 ã§å»ƒæ­¢ã•ã‚Œã¾ã—ãŸã€‚</p>
<div class="tab">React</div>
<pre class=c2>
var App = React.createClass({    <span class="cm">// å»ƒæ­¢</span>
  render() {
    return &lt;h1&gt;Hello!&lt;/h1&gt;;
  }
});
</pre>
<p>createReactClass() ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚npm ã§ create-react-class ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®æ›¸ãæ–¹ã‚‚ä»Šã§ã¯ã‚ã¾ã‚Šç”¨ã„ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
var createReactClass = require('create-react-class');
var App = createReactClass({
  render: function() {
    return &lt;h1&gt;Hello!&lt;/h1&gt;;
  }
});
</pre>
<p>React 15.0 ã‹ã‚‰ã¯ã€ES6 ã®ã‚¯ãƒ©ã‚¹ã‚’ç”¨ã„ã¦å®šç¾©ã™ã‚‹æ–¹æ³•ãŒä¸»æµã¨ãªã‚Šã¾ã—ãŸã€‚</p>
<div class="tab">React</div>
<pre class=c2>
class App extends React.Component {
  render() {
    return &lt;h1&gt;Hello!&lt;/h1&gt;;
  }
}
</pre>
<p>React 16.8 ä»¥é™ã§ã¯ã€é–¢æ•°ã‚’ç”¨ã„ã¦å®šç¾©ã™ã‚‹æ–¹æ³•ãŒä¸»æµã¨ãªã‚‹ã‚ˆã†ã§ã™ã€‚é–¢æ•°ã§ã¯å…ƒã€…ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ä¿æŒã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸãŒã€React 16.8 ã§ã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸ Hooks ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€é–¢æ•°ã§ã‚‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã¾ã—ãŸã€‚Hooks ã®èª¬æ˜ã¯åˆ¥é€”...</p>
<div class="tab">React</div>
<pre class=c2>
function App() {
  return &lt;h1&gt;Hello!&lt;/h1&gt;;
}
</pre>
</div>

<h4 id="props">ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ¸¡ã™</h4>
<div class=i>
<p>ä¸‹è¨˜ã®æ§˜ã«ã—ã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
ReactDOM.render(
  &lt;Hello <em>name="Tanaka"</em> /&gt;,
  document.getElementById('root')
);
</pre>
<p>é™çš„é–¢æ•°ã®å ´åˆã¯ props å¼•æ•°ã§å—ã‘å–ã‚Šã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
function Hello(<em>props</em>) {
  return &lt;h1&gt;Hello <em>{props.name}</em>!&lt;/h1&gt;;
}
</pre>
<p>ã‚¯ãƒ©ã‚¹ã®å ´åˆã¯ this.props.ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å ã‚’å‚ç…§ã—ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
class Hello extends React.Component {
  render() {
    return &lt;h1&gt;Hello <em>{this.props.name}</em>!&lt;/h1&gt;;
  }
}
</pre>
</div>

<h4 id="jsx">JSX ã®æ›¸ãæ–¹</h4>
<div class=i>
<p>React ã§ã¯ã€JavaScript ã®æ–‡æ³•ä¸­ã« XML ãƒ©ã‚¤ã‚¯ãªã‚¿ã‚°ã‚’è¨˜è¿°å¯èƒ½ãªã€JavaScript ã®æ‹¡å¼µè¨€èª JSX ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return <em>&lt;h1&gt;Hello&lt;/h1&gt;</em>;
</pre>
<p>( ... ) ã§å›²ã‚€ã“ã¨ã«ã‚ˆã‚Šã€è¤‡æ•°è¡Œã®ã‚¿ã‚°ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return <em>(</em>
  &lt;div&gt;
    &lt;h1&gt;Hello&lt;/h1&gt;
    &lt;p&gt;This is ...&lt;/p&gt;
  &lt;/div&gt;
<em>)</em>;
</pre>
<p>JSX æ§‹æ–‡ã§ã¯ã€è¦ç´ ã¯å˜ä¸€ã®è¦ç´ ã¨ã—ã¦è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã¯ã€2ã¤ã®è¦ç´ ã‚’è¿”å´ã—ã¦ã„ã‚‹ãŸã‚ã€Syntax error ã¨ãªã‚Šã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return (
  &lt;h1&gt;Hello&lt;/h1&gt;
  &lt;p&gt;This is ...&lt;/p&gt;  <span class="cm">// Syntax error</span>
);
</pre>
<p>{ å¤‰æ•°å } ã§å¤‰æ•°ã®å€¤ã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
let name = 'Tanaka';
return &lt;h1&gt;Hello <em>{name}</em>!&lt;/h1&gt;
</pre>
<p>{ å¤‰æ•°å } ã¯å±æ€§å€¤ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
let name = 'Tanaka';
return &lt;input type="text" value=<em>{name}</em> /&gt;;
</pre>
<p>{ ... } ã®ä¸­ã§ã¯ JavaScript ã®å¼ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return &lt;div&gt;3 + 5 = <em>{ 3 + 5 }</em>&lt;/div&gt;;
</pre>
<p>å±æ€§å€¤ã®ä¸­ã§ä¸€éƒ¨å¤‰æ•°ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã¯ä¸‹è¨˜ã®æ§˜ã«è¨˜è¿°ã—ã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
let name = 'Tanaka';
return &lt;input type="text" defaultValue=<em>{"Hello " + name}</em> /&gt;
</pre>
<p>{ ... } ã®ä¸­ã‹ã‚‰é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
add(x, y) { return x + y; }
render() {
  return &lt;div&gt;3 + 5 = <em>{this.add(3, 5)}</em>&lt;/div&gt;
}
</pre>
<p>{ ... } ã®ä¸­ã§è¤‡æ–‡ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ä¸‹è¨˜ã¯ Syntax error ã¨ãªã‚Šã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return &lt;div&gt;3 + 5 = <em>{a = 3; b = 5; a + b}</em>&lt;/div&gt; <span class="cm">// Syntax error</span>
</pre>
<p>class ã‚’æŒ‡å®šã™ã‚‹éš›ã¯ã€class ã®ä»£ã‚ã‚Šã« className ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return &lt;div <em>className="main"</em>&gt;...&lt;/div&gt;;
</pre>
<p>style ã‚’æŒ‡å®šã™ã‚‹éš›ã¯ã€{ ... } ã®ä¸­ã« JSON ã§è¨˜è¿°ã—ã¾ã™ã€‚ãƒ‡ãƒªãƒŸã‚¿ã¯ã‚»ãƒŸã‚³ãƒ­ãƒ³(;)ã§ã¯ãªãã‚«ãƒ³ãƒ(,)ã€å€¤ã¯æ–‡å­—åˆ—ã¨ã—ã¦æŒ‡å®šã€font-size ãªã©ã®ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã§ã¯ãªãã€fontSize ãªã©ã®ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã§æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return &lt;div <em>style={{color:'red', fontSize:'20pt'}}</em>&gt;...&lt;/div&gt;;
</pre>
<p>ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’æŒ‡å®šã™ã‚‹ã«ã¯ã€ä¸‹è¨˜ã®æ§˜ã«è¨˜è¿°ã—ã¾ã™ã€‚</p>
<div class="tab">JSX</div>
<pre class=c2>
return &lt;button <em>onClick={(e) =&gt; {
  console.log(e, this);
}}</em>&gt;OK&lt;/button&gt;;
</pre>
</div>

<h4 id="list">ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹</h4>
<div class=i>
<p>ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€users é…åˆ—ã«å¯¾ã—ã¦ map() ã‚’é©ç”¨ã—ã€ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚React ãŒé…åˆ—è¦ç´ ã®å¤‰æ›´ã‚’æ¤œå‡ºã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€é…åˆ—è¦ç´ ã«ã¯ä¸€æ„ã‚­ãƒ¼ã‚’æŒã¤ key å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
class Hello extends React.Component {
  render() {
    const users = [
      { name: "Tanaka", age: 26 },
      { name: "Suzuki", age: 32 },
      { name: "Yamada", age: 43 }
    ];
    const userList = users.<em>map((user, index) =&gt;</em>
      &lt;li <em>key={index}</em>&gt;{user.name} (Age: {user.age})&lt;/li&gt;
    <em>);</em>
    return (
      &lt;ul&gt;{userList}&lt;/ul&gt;
    );
  }
}
</pre>
</div>

<h4 id="set-state">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã™ã‚‹</h4>
<div class=i>
<p>ç”»é¢ä¸Šã®è¡¨ç¤ºã‚’ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã«å¤‰æ›´ã™ã‚‹ã«ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® state å¤‰æ•°ã«åˆæœŸå€¤ã‚’è¨­å®šã—ã¦ãŠãã€ã“ã‚Œã‚’ setState() é–¢æ•°ã§å¤‰æ›´ã—ã¾ã™ã€‚setState() é–¢æ•°ã§å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€å¤‰æ›´ã•ã‚ŒãŸå€¤ãŒå†åº¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
class Hello extends React.Component {
  constructor(props) {
    super(props);
    <em>this.state = { msg: 'Hello!' };</em>
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;<em>{this.state.msg}</em>&lt;/h1&gt;
        &lt;button onClick={() =&gt; <em>this.setState({msg: 'Bye!'})</em>}&gt;Click&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}
</pre>
<p>ãƒªã‚¹ãƒˆã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ã€state ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã—ã¦ç›´æ¥ push() ã™ã‚‹ã®ã§ã¯ãªãã€React ã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’èªè­˜ã•ã›ã‚‹ãŸã‚ã«ã€ä¸€åº¦ãƒªã‚¹ãƒˆã®ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã€setState() ã§å€¤ã‚’ç½®ãæ›ãˆã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
class Hello extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      users: [
        { name: "Tanaka", age: 26 },
        { name: "Suzuki", age: 32 }
      ]
    };
  }

  changeState() {
    <em>let users = this.state.users;</em>
    <em>users.push({ name: "Yamada", age: 43 });</em>
    <em>this.setState({ users: users });</em>
  }

  render() {
    let userList = this.state.users.map((user, index) =&gt;
      &lt;li key={index}&gt;{user.name} (Age: {user.age})&lt;/li&gt;
    );
    return (
      &lt;div&gt;
        &lt;ul&gt;{userList}&lt;/ul&gt;
        &lt;button onClick={() =&gt; this.changeState()}&gt;Click&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}
</pre>
</div>

<h4 id="routing">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ãƒšãƒ¼ã‚¸ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹</h4>
<div class=i>
<p>URL ã«å¿œã˜ã¦ã€è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã«ã¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã¾ãšã€react-router-dom ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="tab">Shell</div>
<pre class=c2>
$ npm install react-router-dom --save
</pre>
<p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä¸‹è¨˜ã®æ§˜ã«ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚&lt;BrowserRouter&gt; ã®å­è¦ç´ ã¯å˜ä¸€ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;Link&gt; ã¨ &lt;Router&gt; ã¯åŒã˜ &lt;BrowserRouter&gt; ã®å­å­«ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;Link&gt; ã‚’ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€&lt;Router&gt; ã‚’ãƒšãƒ¼ã‚¸ã¨è€ƒãˆã‚Œã°ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚ˆã£ã¦ãƒšãƒ¼ã‚¸ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ SPA ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
<em>import { BrowserRouter, Link, Route } from 'react-router-dom';</em>

function HelloA() {
  return &lt;h1&gt;HelloA&lt;/h1&gt;;
}

function HelloB() {
  return &lt;h1&gt;HelloB&lt;/h1&gt;;
}

class Hello extends React.Component {
  render() {
    return (
      <em>&lt;BrowserRouter&gt;</em>
        &lt;div&gt;
          &lt;ul&gt;
          <em>&lt;li&gt;&lt;Link to="/hello-a"&gt;HelloA&lt;/Link&gt;&lt;/li&gt;</em>
          <em>&lt;li&gt;&lt;Link to="/hello-b"&gt;HelloB&lt;/Link&gt;&lt;/li&gt;</em>
          &lt;/ul&gt;
          <em>&lt;Route path="/hello-a" component={HelloA} /&gt;</em>
          <em>&lt;Route path="/hello-b" component={HelloB} /&gt;</em>
        &lt;/div&gt;
      <em>&lt;/BrowserRouter&gt;</em>
    );
  }
}
</pre>
<p>path ã¯å‰æ–¹ä¸€è‡´ã§ãƒãƒƒãƒãƒ³ã‚°ã—ã¾ã™ã€‚å®Œå…¨ä¸€è‡´ã«ã—ãŸã„å ´åˆã¯ exact å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
          &lt;Route <em>exact</em> path="/" component={Home} /&gt;
          &lt;Route path="/hello-a" component={HelloA} /&gt;
          &lt;Route path="/hello-b" component={HelloB} /&gt;
</pre>
<p>ã„ãšã‚Œã® URL ã«ã‚‚ãƒãƒƒãƒã—ãªã„å ´åˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ Home ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¡¨ç¤ºã•ã›ã‚‹ã«ã¯ä¸‹è¨˜ã®æ§˜ã«ã—ã¾ã™ã€‚&lt;Switch&gt; ã§ã¯å­è¦ç´ ã®å†…ã€ä¸€ç•ªæœ€åˆã«ãƒãƒƒãƒã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
import { BrowserRouter, Link, Route, <em>Switch</em> } from 'react-router-dom';
  :
class Hello extends React.Component {
  render() {
    return (
            :
          <em>&lt;Switch&gt;</em>
            &lt;Route path="/hello-a" component={HelloA} /&gt;
            &lt;Route path="/hello-b" component={HelloB} /&gt;
            &lt;Route <em>path="*"</em> component={Home} /&gt;
          <em>&lt;/Switch&gt;</em>
            :
</pre>
<p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å…ˆã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« props å¼•æ•°ã‚’æ¸¡ã™ã«ã¯ä¸‹è¨˜ã®æ§˜ã«ã—ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
  &lt;Route path="/hello-a" <em>render={() =&gt; &lt;Dashboard msg="This is..." /&gt;}</em> /&gt;
</pre>
<p>ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸéš›ã«ç‰¹å®šã®ãƒšãƒ¼ã‚¸ã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã«ã¯ this.props.history.push() ã‚’ç”¨ã„ã¾ã™ã€‚</p>
<div class="tab">React</div>
<pre class=c2>
onCancel = () =&gt; { <em>this.props.history.push('/hello-a');</em> }
 :
&lt;button onClick={this.onCancel}&gt;Cancel&lt;/button&gt;
</pre>
</div>

<h4 id="sample">ãƒ¦ãƒ¼ã‚¶ç®¡ç†ç”»é¢ã‚µãƒ³ãƒ—ãƒ«</h4>
<div class=i>
<p>æœ€å¾Œã«ã€<a href="angular.html#tutrial-image" tppabs="http://www.tohoho-web.com/ex/angular.html#tutrial-image">Angularå…¥é–€</a> ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã‚‚ç´¹ä»‹ã—ãŸã‚ˆã†ãªã€ç°¡å˜ãªãƒ¦ãƒ¼ã‚¶ç®¡ç†ç”»é¢ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’æ²è¼‰ã—ã¾ã™ã€‚</p>
<div class="tab">index.js</div>
<pre class=c2>
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import { BrowserRouter, Link, Route, Switch } from 'react-router-dom';

class Users {
  constructor() {
    this.users = [
      { id: 1, name: "Tanaka", email: "tanaka@example.com" },
      { id: 2, name: "Suzuki", email: "suzuki@example.com" },
      { id: 3, name: "Yamada", email: "yamada@example.com" }
    ];
  }

  getUsers() {
    return this.users;
  }

  getUser(id) {
    for (let i = 0; i &lt; this.users.length; i++) {
      if (this.users[i].id === id) {
        return this.users[i];
      }
    }
    return undefined;
  }

  setUser(user) {
    for (let i = 0; i &lt; this.users.length; i++) {
      if (this.users[i].id === user.id) {
        this.users[i].name = user.name;
        this.users[i].email = user.email;
      }
    }
  }
}

const userList = new Users();

function Header() {
  return &lt;div className="header"&gt;React Sample Console&lt;/div&gt;;
}

function Menu() {
  return (
    &lt;ul className="menu"&gt;
      &lt;li&gt;&lt;Link to="/dashboard"&gt;Dashboard&lt;/Link&gt;&lt;/li&gt;
      &lt;li&gt;&lt;Link to="/users"&gt;Users&lt;/Link&gt;&lt;/li&gt;
    &lt;/ul&gt;
  );
}

function Dashboard() {
  return &lt;h1&gt;Dashboard&lt;/h1&gt;;
}

class UserList extends React.Component {
  constructor(props) {
    super(props);
    this.state = { users: userList.getUsers() }
  }

  render() {
    const userRows = userList.getUsers().map((user, index) =&gt;
      &lt;tr key={index}&gt;
        &lt;td&gt;{user.id}&lt;/td&gt;
        &lt;td&gt;&lt;Link to={"/users/" + user.id + "/edit"}&gt;{user.name}&lt;/Link&gt;&lt;/td&gt;
        &lt;td&gt;{user.email}&lt;/td&gt;
      &lt;/tr&gt;
    );
    return (
      &lt;div&gt;
        &lt;h1&gt;Users&lt;/h1&gt;
        &lt;table&gt;
          &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;E-mail&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
          &lt;tbody&gt;{userRows}&lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/div&gt;
    )
  }
}

class UserEdit extends React.Component {
  constructor(props) {
    super(props);
    this.state = { user: userList.getUser(Number(this.props.match.params.id)) }
  }

  onCange = (e) =&gt; {
    let user = this.state.user;
    switch (e.target.name) {
    case 'name':
      user.name = e.target.value;
      break;
    case 'email':
      user.email = e.target.value;
      break;
    default:
      break;
    }
    this.setState({ user: user });
  }

  onSubmit = (e) =&gt; {
    e.preventDefault();
    userList.setUser(this.state.user);
    this.props.history.push('/users');
  }

  onCancel = () =&gt; {
    this.props.history.push('/users');
  }

  render() {
    let user = this.state.user;
    return (
      &lt;form onSubmit={this.onSubmit}&gt;
        &lt;table&gt;
          &lt;tbody&gt;
            &lt;tr&gt;
              &lt;th&gt;Id&lt;/th&gt;
              &lt;td&gt;{user.id}&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th&gt;Name&lt;/th&gt;
              &lt;td&gt;&lt;input type="text" name="name" defaultValue={user.name} onChange={this.onCange} /&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th&gt;E-mail&lt;/th&gt;
              &lt;td&gt;&lt;input type="text" name="email" defaultValue={user.email} onChange={this.onCange} /&gt;&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
        &lt;button onClick={this.onCancel}&gt;Cancel&lt;/button&gt;
        &lt;button type="submit"&gt;OK&lt;/button&gt;
      &lt;/form&gt;
    );
  }
}

class Root extends React.Component {
  render() {
    return (
      &lt;BrowserRouter&gt;
        &lt;div&gt;
          &lt;Header /&gt;
          &lt;Menu /&gt;
          &lt;div className="main"&gt;
            &lt;Switch&gt;
              &lt;Route path="/dashboard" component={Dashboard} /&gt;
              &lt;Route path="/users/:id/edit" component={UserEdit} /&gt;
              &lt;Route path="/users" component={UserList} /&gt;
              &lt;Route path="*" component={Dashboard} /&gt;
            &lt;/Switch&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/BrowserRouter&gt;
    );
  }
}

ReactDOM.render(
  &lt;Root /&gt;,
  document.getElementById('root')
);
</pre>
<div class="tab">index.css</div>
<pre class=c2>
* {
  margin: 0;
  padding: 0;
  font-family: sans-serif;
}
.header {
  background-color: #000;
  color: #fff;
}
.menu {
  background-color: #ddd;
}
.menu li {
  display: inline-block;
  margin: 0 4px;
}
.main {
  padding: 4px;
}
table {
  border-collapse: collapse;
  margin: 4px 0;
}
table th,
table td {
  padding: 4px;
  border: 1px solid #888;
}
table th {
  background-color: #ddd;
}
input[type="text"] {
  width: 320px;
}
button {
  min-width: 120px;
  margin-right: 4px;
}
a:link,
a:visited {
  color: #000;
}
</pre>
</div>

<h4 id="links">ãƒªãƒ³ã‚¯</h4>
<div class=i>
<ul>
<li><a target="_top" href="javascript:if(confirm('https://reactjs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://reactjs.org/'" tppabs="https://reactjs.org/">https://reactjs.org/</a>
</ul>
</div>

<hr>
<div>Copyright (C) 2018-2020 æœç”«ã€…</div>
<div>åˆç‰ˆ:2018å¹´2æœˆ18æ—¥ æœ€çµ‚æ›´æ–°:2020å¹´4æœˆ26æ—¥</div>
<div>http://www.tohoho-web.com/ex/react.html</div>
</body>
</html>
