<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8"utf-8">
<title>Vagrantãƒ¡ãƒ¢ - ã¨ã»ã»ã®WWWå…¥é–€</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>Vagrantãƒ¡ãƒ¢</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">ãƒˆãƒƒãƒ—</a> &gt;
Vagrantãƒ¡ãƒ¢

<h4>ç’°å¢ƒ</h4>
<div class="i">
<ul>
<li>å®Ÿæ–½æ—¥: 2016å¹´6æœˆ26æ—¥</li>
<li>ãƒ›ã‚¹ãƒˆOS: Windows 10</li>
<li>ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶: VirtualBox 5.0.22</li>
<li>Vagrant 1.8.4</li>
</ul>
</div>

<h4>Vagrant ã¨ã¯</h4>
<div class="i">
<ul>
<li>ä»®æƒ³ãƒã‚·ãƒ³(VM)ç®¡ç†ãƒ„ãƒ¼ãƒ«ã€‚
<li>VirtualBox, VMware ãªã©ã®ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã€‚
<li>VMã‚¤ãƒ¡ãƒ¼ã‚¸ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šãªã©ã‚’ Vagrantfile ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¦ãŠãã€‚
</ul>
</div>

<h4>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4>
<div class="i">
<p>ä¸‹è¨˜ã‹ã‚‰ Vagrant ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚</p>
<ul>
<li><a target="_top" href="javascript:if(confirm('http://www.vagrantup.com/downloads.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.vagrantup.com/downloads.html'" tppabs="http://www.vagrantup.com/downloads.html">http://www.vagrantup.com/downloads.html</a>
</ul>
</div>

<h4>ãƒœãƒƒã‚¯ã‚¹</h4>
<div class="i">
<pre class="dos">
C:\&gt; vagrant box add centos67 https://github.com/CommanderK5/packer-centos-template/releases/download/0.6.7/vagrant-centos-6.7.box
C:\&gt; vagrant box list
C:\&gt; vagrant box update centos67
C:\&gt; vagrant box remove centos67
</pre>
<p>ä¸‹è¨˜ã®ã‚µã‚¤ãƒˆã§æ§˜ã€…ãª box ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<ul>
<li><a target="_top" href="javascript:if(confirm('http://www.vagrantbox.es/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.vagrantbox.es/'" tppabs="http://www.vagrantbox.es/">http://www.vagrantbox.es/</a></li>
</ul>
</div>

<h4>VMã‚’ä½œæˆã™ã‚‹</h4>
<div class="i">
<pre class="dos">
C:\&gt; mkdir centos67a
C:\&gt; cd centos67a
C:\centos67a&gt; vagrant init --minimal centos67
C:\centos67a&gt; type Vargrantfile
Vagrant.configure("2") do |config|
  config.vm.box = "centos67"
end
C:\centos67a&gt; vagrant up
</pre>
</div>

<h4>SSHã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹</h4>
<div class="i">
<p>ssh-config ã‚’å®Ÿè¡Œã™ã‚‹ã¨ SSH ã«é–¢ã™ã‚‹æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚ä¸‹è¨˜ã§ã¯ã€èµ·å‹•ã—ãŸ VM ã® SSH ãƒãƒ¼ãƒˆ(22ç•ª)ãŒã€127.0.0.1 ã® 2222 ç•ªã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚Tera Term Pro ãªã©ã® SSH ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã€127.0.0.1 ã® 2222ç•ªãƒãƒ¼ãƒˆã« SSH ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ãƒ¦ãƒ¼ã‚¶ID vagrantã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ vagrant ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã€‚</p>
<pre class="dos">
C:\centos67a&gt; vagrant ssh-config
Host default
  HostName 127.0.0.1
  User vagrant
  Port 2222
    :
</pre>
</div>

<h4>VMæ“ä½œã®ã„ã‚ã„ã‚</h4>
<div class="i">
<pre class="dos">
C:\centos67a&gt; vagrant up ...ã€€èµ·å‹•ã™ã‚‹
C:\centos67a&gt; vagrant halt ... ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã™ã‚‹
C:\centos67a&gt; vagrant status ... çŠ¶æ…‹ã‚’è¡¨ç¤ºã™ã‚‹
C:\centos67a&gt; vagrant suspend ... ä¸€æ™‚åœæ­¢ã™ã‚‹(å¾©å¸°ã¯up)
C:\centos67a&gt; vagrant destroy ... VMã‚’å‰Šé™¤ã™ã‚‹
</pre>
</div>

<h4>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°</h4>
<div class="i">
<p>ç¾åœ¨ã®ã‚²ã‚¹ãƒˆOS ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ã€ãã‚Œã‚’ box ã«åŠ ãˆã‚‹ã€‚</p>
<pre class="dos">
C:\centos67a&gt; vagrant package
C:\centos67a&gt; vagrant box add centos67-httpd package.box
C:\centos67a&gt; vagrant box list
</pre>
</div>

<h4>ãƒ•ã‚©ãƒ«ãƒ€å…±æœ‰</h4>
<div class="i">
<p>ãƒ›ã‚¹ãƒˆOS ã® C:\centos67a ã¯ã€ã‚²ã‚¹ãƒˆOS ã® /vagrant ã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ã€‚</p>
</div>

<h4>ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°</h4>
<div class="i">
<p>ä¸‹è¨˜ã®æ§˜ã«ã€ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æ™‚ã«åˆæœŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
<pre class="dos">
C:\centos67a&gt; notepad bootstrap.sh

#!/bin/sh
yum -y install httpd
chkconfig httpd on
service start httpd

C:\centos67a&gt; notepad Vagrantfile

Vagrant.configure("2") do |config|
  config.vm.box = "centos67"
  <em>config.vm.provision :shell, :path =&gt; "bootstrap.sh"</em>
end
</pre>
<p>ã‚‚ã—ãã¯ã€Vagrantfile ã«ç›´æ¥è¨˜è¿°ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚</p>
<pre class="dos">
Vagrant.configure("2") do |config|
  config.vm.box = "centos67"
  <em>config.vm.provision "shell", inline: &lt;&lt;-SHELL</em>
    <em>yum -y install httpd</em>
    <em>chkconfig httpd on</em>
    <em>service start httpd</em>
  <em>SHELL</em>
end
</pre>
</div>

<h4>ã‚¢ãƒ‰ãƒ¬ã‚¹å‰²ã‚Šå½“ã¦</h4>
<div class="i">
<pre class="dos">
C:\centos67a&gt; notepad Vagrantfile

Vagrant.configure("2") do |config|
  config.vm.box = "centos67"
  <em>config.vm.network "private_network", ip: "192.168.56.120"</em>
end
</pre>
</div>

<h4>ãƒãƒ¼ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°</h4>
<div class="i">
<pre class="dos">
C:\centos67a&gt; notepad Vagrantfile

Vagrant.configure("2") do |config|
  config.vm.box = "centos67"
  <em>config.vm.network :forwarded_port, host: 8080, guest: 80</em>
end
</pre>
</div>

<hr>
<div>Copyright (C) 2016 æœç”«ã€…</div>
<div>åˆç‰ˆ:2016å¹´10æœˆ23æ—¥ æœ€çµ‚æ›´æ–°:2016å¹´10æœˆ23æ—¥</div>
<div>http://www.tohoho-web.com/ex/vagrant.html</div>
</body>
</html>
