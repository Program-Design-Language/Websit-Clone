<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8"utf-8">
<title>Cassandraãƒ¡ãƒ¢ - ã¨ã»ã»ã®WWWå…¥é–€</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>Cassandraãƒ¡ãƒ¢</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">ãƒˆãƒƒãƒ—</a> &gt;
Cassandraãƒ¡ãƒ¢

<h4>ç’°å¢ƒ</h4>
<div class="i">
<ul>
<li>å®Ÿæ–½æ—¥: 2016å¹´6æœˆ26æ—¥</li>
<li>ãƒ›ã‚¹ãƒˆOS: Windows 10</li>
<li>ã‚²ã‚¹ãƒˆOS: CentOS 7.2</li>
<li>ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶: VirtualBox 5.0.22</li>
<li>Cassandra 2.2.6</li>
</ul>
</div>

<h4>Cassandra ã¨ã¯</h4>
<div class="i">
<ul>
<li>Facebookç¤¾ã§é–‹ç™ºã•ã‚ŒãŸåˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€‚
<li>ç¾åœ¨ã¯ Apache ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€ã¤ã€Apache Cassandra ã¨ã—ã¦é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã€‚
<li>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯ Apache License 2.0ã€‚
<li>ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ã®ã‚µãƒ¼ãƒã«åˆ†æ•£é…ç½®ã™ã‚‹ã“ã¨ã§ã€å˜ä¸€éšœå®³ç‚¹ã‚’æŒãŸãšã€ä¸€éƒ¨ã®ã‚µãƒ¼ãƒãŒæ•…éšœã—ã¦ã‚‚ç¨¼åƒã—ç¶šã‘ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚
<li>ç¨¼åƒä¸­ã«ã‚µãƒ¼ãƒã‚’å¢—è¨­ãƒ»æ¸›è¨­ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã€‚
<li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³(START TRANSACTION, ROLLBACK, COMMIT)ã¯ã‚µãƒãƒ¼ãƒˆã—ãªã„ã€‚
<li>å³å¯†ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ±‚ã‚ã‚‰ã‚Œã‚‹ACIDç‰¹æ€§ã®å†…ã€A:åŸå­æ€§(atomic)ã€I:ç‹¬ç«‹æ€§(isolated)ã€D:æ°¸ç¶šæ€§(durable) ã¯ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŒã€C:æ•´åˆæ€§(consistency) ã‚’çŠ ç‰²ã«ã™ã‚‹ã“ã¨ã§ã€åˆ†æ•£ãƒ»å¤§å®¹é‡ãƒ»é«˜é€Ÿæ€§ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã€‚
<li>åˆ—æ€è€ƒå‹(ã‚«ãƒ©ãƒ æ€è€ƒå‹)ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€‚
<li>è¡Œ(row)æ¯ã«ç•°ãªã£ãŸã‚«ãƒ©ãƒ (åˆ—)ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
<li>NoSQL(åˆ—æ€è€ƒDB) ã¨ã—ã¦é–‹ç™ºã•ã‚ŒãŸãŒã€ç¾åœ¨ã§ã¯ SQL ãƒ©ã‚¤ã‚¯ãª CQL (Cassandra Query Language) ã‚‚ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã€‚
<li>Cassandra 2.2 ã§ã¯ JSON ã«å¯¾å¿œã€‚
</ul>
</div>

<h4>Cassandraã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</h4>
<div class="i">
<pre class="dos">
# yum -y install java
# vi /etc/yum.repos.d/datastax.repo

[datastax]
name = DataStax Repo for Apache Cassandra
baseurl = http://rpm.datastax.com/community
enabled = 1
gpgcheck = 0

# yum -y install dsc22
# systemctl enable cassandra
# systemctl start cassandra
# cqlsh
cqlsh&gt; quit
</pre>
</div>

<h4>ã‚µãƒ³ãƒ—ãƒ«</h4>
<div class="i">
<pre class="dos">
cqlsh&gt; create keyspace myspace with replication = { 'class' : 'SimpleStrategy', 'replication_factor' : 1 };
cqlsh&gt; use mySpace;
cqlsh:myspace&gt; create table users ( user_id int PRIMARY KEY, user_name text );
cqlsh:myspace&gt; insert into users ( user_id, user_name ) values ( 101, 'yamada' );
cqlsh:myspace&gt; insert into users ( user_id, user_name ) values ( 102, 'suzuki' );
cqlsh:myspace&gt; insert into users ( user_id, user_name ) values ( 103, 'tanaka' );
cqlsh:myspace&gt; select * from users;
</pre>
</div>

<h4>MySQL ã¨ Cassandra ã®ç”¨èªã®å¯¾æ¯”</h4>
<div class="i">
<table class="tb1">
 <tr><th>MySQL</th><th>Cassandra</th></tr>
 <tr><td>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</td><td>ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹</td></tr>
 <tr><td>ãƒ†ãƒ¼ãƒ–ãƒ«</td><td>ã‚«ãƒ©ãƒ ãƒ•ã‚¡ãƒŸãƒªãƒ¼</td></tr>
 <tr><td>ä¸»ã‚­ãƒ¼</td><td>ã‚­ãƒ¼</td></tr>
 <tr><td>ï¼</td><td>(ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚«ãƒ©ãƒ )</td></tr>
 <tr><td>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰(ã‚«ãƒ©ãƒ )</td><td>ã‚«ãƒ©ãƒ </td></tr>
</table>
</div>

<h4>ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹ã®æ“ä½œ</h4>
<div class="i">
<pre class="dos">
cqlsh&gt; create keyspace ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹å;
cqlsh&gt; drop keyspace ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹å;
cqlsh&gt; use ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹å;
cqlsh&gt; describe keyspace;
</pre>
</div>

<h4>ãƒªãƒ³ã‚¯</h4>
<div class="i">
<ul>
<li><a target="_top" href="javascript:if(confirm('http://docs.datastax.com/ja/landing_page-jajp/doc/landing_page/current.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://docs.datastax.com/ja/landing_page-jajp/doc/landing_page/current.html'" tppabs="http://docs.datastax.com/ja/landing_page-jajp/doc/landing_page/current.html">http://docs.datastax.com/ja/landing_page-jajp/doc/landing_page/current.html</a>
<li><a target="_top" href="javascript:if(confirm('http://docs.datastax.com/ja/cql-jajp/3.1/cql/cql_reference/cqlReferenceTOC.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://docs.datastax.com/ja/cql-jajp/3.1/cql/cql_reference/cqlReferenceTOC.html'" tppabs="http://docs.datastax.com/ja/cql-jajp/3.1/cql/cql_reference/cqlReferenceTOC.html">http://docs.datastax.com/ja/cql-jajp/3.1/cql/cql_reference/cqlReferenceTOC.html</a>
</ul>
</div>

<hr>
<div>Copyright (C) 2016 æœç”«ã€…</div>
<div>åˆç‰ˆ:2016å¹´6æœˆ26æ—¥ æœ€çµ‚æ›´æ–°:2016å¹´6æœˆ26æ—¥</div>
<div>http://www.tohoho-web.com/ex/cassandra.html</div>
</body>
</html>
