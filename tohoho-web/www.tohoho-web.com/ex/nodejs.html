<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8"utf-8">
<title>Node.jså…¥é–€ - ã¨ã»ã»ã®WWWå…¥é–€</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>Node.jså…¥é–€</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">ãƒˆãƒƒãƒ—</a> &gt;
Node.jsãƒ¡ãƒ¢

<h4>ç›®æ¬¡</h4>
<div class=i>
<ul>
<li><a href="#whatis">Node.js ã¨ã¯</a>
<li><a href="#history">æ­´å²</a>
<li><a href="#techlist">JavaScripté–¢é€£æŠ€è¡“</a>
<li><a href="#install">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a>
<li><a href="#hello_console">Hello world (ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç‰ˆ)</a>
<li><a href="#hello_web">Hello World (Webç‰ˆ)</a>
<li><a href="#no_break">ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æ”¹è¡Œç„¡ã—ã§æ›¸ãå‡ºã™</a>
<li><a href="#get_client_info">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®æƒ…å ±ã‚’å¾—ã‚‹</a>
<li><a href="#app_folder">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹</a>
<li><a href="#install_package">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</a>
<li><a href="#get_get_params">GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</a>
<li><a href="#get_post_data">POST ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</a>
<li><a href="#express">Express ã§ GET POST ã‚’å‡¦ç†ã™ã‚‹</a>
<li><a href="#get_post_data_by_express">Express ã§ POST ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</a>
<li><a href="#ejs">EJS ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ç”¨ã„ã‚‹</a>
<li><a href="#read_file">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ³ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã§èª­ã¿å‡ºã™</a>
<li><a href="#make_module">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹</a>
<li><a href="#template_leteral">æ–‡å­—åˆ—ä¸­ã®å¤‰æ•°ã‚’å±•é–‹ã™ã‚‹</a>
<li><a href="#links">ãƒªãƒ³ã‚¯</a>
</ul>
</div>

<h4 id="whatis">Node.js ã¨ã¯</h4>
<div class=i>
<ul>
<li>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã® JavaScript å®Ÿè¡Œç’°å¢ƒã€‚
<li>Google V8 JavaScript ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€é«˜é€Ÿã€‚
<li>Linux ã‚µãƒ¼ãƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ãŒã€macOS ç‰ˆã‚„ã€Windows ç‰ˆã‚‚ã‚ã‚‹ã€‚
<li>npm (Node Package Manager) ã¨å‘¼ã°ã‚Œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’åŒæ¢±ã€‚
<li>ãƒãƒ³ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°I/O ã¨ ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ— ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚Šã€10Kå•é¡Œ (ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ1ä¸‡å°ãƒ¬ãƒ™ãƒ«ã«ãªã‚‹ã¨æ€§èƒ½ãŒæ¥µç«¯ã«æ‚ªåŒ–ã™ã‚‹å•é¡Œ) ã«å¯¾å¿œã€‚
<li>é€šä¿¡ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã‚’ãƒãƒ³ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°I/Oã§å‡¦ç†ã™ã‚‹ãŸã‚ã€ã‚¹ãƒ¬ãƒƒãƒ‰ãŒ I/O å¾…ã¡ã«ãªã‚‹é »åº¦ãŒå°‘ãªãã€åŠ¹ç‡çš„ã€‚
<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒ‘ã‚±ãƒƒãƒˆã‚’èª­ã¿è¾¼ã‚€ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¬¡ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’èª­ã¿å‡ºã™ãªã©ã™ã¹ã¦ãŒã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã€‚
<li>åŸºæœ¬çš„ã«ã¯ã‚·ãƒ³ã‚°ãƒ«ã‚¹ãƒ¬ãƒƒãƒ‰ã ãŒã€å†…éƒ¨ã§ã¯æš—å·åŒ–ãªã©ã®é‡ã„å‡¦ç†ã‚’è¤‡æ•°ã‚¹ãƒ¬ãƒƒãƒ‰ã§å‡¦ç†ã€‚
<li>åŸºæœ¬çš„ã«ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒ—ãƒ­ã‚»ã‚¹ã ãŒã€JavaScript ã‹ã‚‰ fork() ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€ãƒãƒ«ãƒãƒ—ãƒ­ã‚»ã‚¹ã‚‚å¯èƒ½ã€‚
<li>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯ MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã€‚å•†ç”¨åˆ©ç”¨å¯èƒ½ã€‚
<li>é•·æœŸã‚µãƒãƒ¼ãƒˆã® LTS(Long Term Support)ç‰ˆã¨ã€éLTSç‰ˆãŒã‚ã‚‹ã€‚
<li>ä»Šã®ã¨ã“ã‚ã€v6, v8 ç­‰ã®å¶æ•°ç³»ã¯ LTS ç‰ˆã€‚v7, v9 ç­‰ã®å¥‡æ•°ç³»ã¯é LTS ç‰ˆã€‚
<li>ç¾åœ¨ã®æœ€æ–°ç‰ˆã¯ v9 ç³»ã ãŒã€2018å¹´ä¸­é ƒã«ã¯ã‚µãƒãƒ¼ãƒˆçµ‚äº†ã€‚v8 ç³»ã¯ã€LTS ç‰ˆã®ãŸã‚ã€2019å¹´12æœˆã¾ã§ã‚µãƒãƒ¼ãƒˆç¶™ç¶šã€‚
<li>Node.js ä¸Šã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ã€Express, Meteor, Sails, Koa, LoobBack ãªã©ãŒã‚ã‚‹ã€‚
<li>MEAN(MongoDBï¼‹Expressï¼‹AngularJSï¼‹Node.js)ã¨å‘¼ã°ã‚Œã‚‹æ§‹æˆã§åˆ©ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚‚å¤šã„ã€‚
<li>HTTP é€šä¿¡ã®ã¿ã§ãªãã€TCP ã‚„ UDP é€šä¿¡ã‚‚å¯èƒ½ã€‚
<li>WebSocker ã‚µãƒ¼ãƒã¨ã—ã¦åˆ©ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚‚å¤šã„ã€‚
<li>æ¯”è¼ƒçš„å°è¦æ¨¡ã§ã€é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¦æ±‚ã•ã‚Œã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®åˆ©ç”¨ãŒå¤šã„ã€‚
<li>AWS Lambda, PayPal, Walmart, Uber ãªã©å¤§é‡ã‚¢ã‚¯ã‚»ã‚¹é ˜åŸŸã§åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã€‚
<li>éäº’æ›å¼·åŒ–ã‚’å«ã‚€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒã‚ã‚Šã€ä»•æ§˜ã®å®‰å®šæœŸã«å…¥ã‚‹ã«ã¯ã€ã‚‚ã†å°‘ã—ã ã‘ã‹ã‹ã‚Šãã†ã€‚
</ul>
<p>æœ¬æ›¸ã§ã¯ç¾æ™‚ç‚¹ã§æœ€æ–°ã® LTS ç‰ˆã§ã‚ã‚‹ v8.9.4 ã‚’ãƒ™ãƒ¼ã‚¹ã«èª¬æ˜ã—ã¾ã™ã€‚</p>
</div>

<h4 id="history">æ­´å²</h4>
<div class=i>
<ul>
<li>2009å¹´ ?æœˆã€ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢å·ã®ãƒ©ã‚¤ã‚¢ãƒ³ãƒ»ãƒ€ãƒ¼ãƒ«(Ryan Dahl)æ°ã€Node.js ã®é–‹ç™ºã«ç€æ‰‹ã€‚
<li>2011å¹´ 8æœˆã€Dahl æ°ã€Node.js åˆæœŸå…¬é–‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 0.1.14 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2012å¹´ ?æœˆã€Joyent ç¤¾ã€Node.js é–‹ç™ºæ”¯æ´ã‚’é–‹å§‹ã€‚Dahl æ°ã‚‚ Joyent ç¤¾ã®ç¤¾å“¡ã«ã€‚
<li>2012å¹´ 1æœˆã€BDFL(å„ªã—ã„çµ‚èº«ã®ç‹¬è£è€…)ã®æ™‚ä»£ã‚’çµ‚ãˆã€é–‹ç™ºãƒªãƒ¼ãƒ€ãŒ Dahl æ°ã‹ã‚‰ Isaac Z. Schlueter æ°ã«å¤‰æ›´ã€‚
<li>2014å¹´ ?æœˆã€é–‹ç™ºãƒªãƒ¼ãƒ€ãŒã€Schlueter æ°ã‹ã‚‰ TJ Fontaine æ°ã«å¤‰æ›´ã€‚
<li>2014å¹´ ?æœˆã€Node.js Core ã®é–‹ç™ºãŒåœæ»ã—ã¯ã˜ã‚ã€ä¸€éƒ¨ã®æ¨é€²è€…ãŒæ–°å›£ä½“ Node Forward ã‚’è¨­ç«‹ã€‚
<li>2015å¹´ 1æœˆã€Node Forwardã€ Node.js ã® fork ç‰ˆã§ã‚ã‚‹ io.js 1.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2015å¹´ 2æœˆã€Joyent ç¤¾ã€Node.js Foundation è¨­ç«‹ã‚’ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã€‚
<li>2015å¹´ 5æœˆã€Node Forwardã€io.js 2.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2015å¹´ 5æœˆã€io.js ã‚‚ Node.js Foundation ã¸ã®çµ±åˆã‚’é¸æŠã€‚
<li>2015å¹´ 7æœˆã€Joyent ç¤¾ã€Node.js Foundation ã‚’è¨­ç«‹ã€‚
<li>2015å¹´ 8æœˆã€Node Forwardã€io.js 3.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2015å¹´ 9æœˆã€Node.js ã¨ io.js ã®æœ€åˆã®çµ±åˆç‰ˆ Node.js 4.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2015å¹´10æœˆã€Node.js 5.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2016å¹´ 4æœˆã€Node.js 6.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2016å¹´ 7æœˆã€éŸ“å›½ Samsung ç¤¾ãŒã€Joyent ç¤¾ã‚’è²·åã€‚
<li>2016å¹´10æœˆã€Node.js 7.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2017å¹´ 5æœˆã€Node.js 8.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
<li>2017å¹´10æœˆã€Node.js 9.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚
</ul>
</div>

<h4 id="techlist">JavaScripté–¢é€£æŠ€è¡“</h4>
<div class=i>
<p>JavaScript/Node.js é–¢é€£æŠ€è¡“ã‚’ä¸‹è¨˜ã§ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚
<ul>
<li><a href="jstech.html" tppabs="http://www.tohoho-web.com/ex/jstech.html">JavaScript é–¢é€£æŠ€è¡“</a>
</ul>
</div>

<h4 id="install">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4>
<div class="i">
<p>Node.js ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å¤‰å‹•ãŒæ¿€ã—ãã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ãŸã‚Šæˆ»ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚CentOS/RHEL æ¨™æº–ã® yum ã‚„ã€Ubuntu/Debian æ¨™æº–ã® apt-get ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆã‚Šã‚‚ã€nvm, nodebrew, n ãªã©ã®ã€Node.js ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚’ç”¨ã„ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹ãŒãŠã™ã™ã‚ã§ã™ã€‚</p>
</div>

<h5>yum ã®å ´åˆ (CentOS)</h5>
<div class=i>
<p>CentOS ã®ã‚·ã‚¹ãƒ†ãƒ é ˜åŸŸã«ã€ç‰¹æ¨©ãƒ¢ãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯å°‘ã—å¤ã„ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
# yum -y install epel-release     <span class="cm">EPEL ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
# yum -y install nodejs           <span class="cm">Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
# yum -y install npm              <span class="cm">npm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
</pre>
</div>

<h5>apt-get ã®å ´åˆ (Ubuntu)</h5>
<div class=i>
<p>Ubuntu ã®ã‚·ã‚¹ãƒ†ãƒ é ˜åŸŸã«ã€ç‰¹æ¨©ãƒ¢ãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯å°‘ã—å¤ã„ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚æ¨™æº–ã ã¨ nodejs ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãŸã‚ã€update-alternatives ã‚’ç”¨ã„ã¦ nodejs ã‚’ node ã«å¤‰æ›´ã—ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ sudo apt-get update               <span class="cm">å¿…è¦ã«å¿œã˜ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹</span>
$ sudo apt-get install nodejs       <span class="cm">Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ sudo apt-get install npm          <span class="cm">npm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ sudo update-alternatives --install /usr/bin/node node /usr/bin/nodejs 10
</pre>
</div>

<h5 id="nvm">nvm ã®å ´åˆ (CentOS/Ubuntu)</h5>
<div class=i>
<p>å€‹äººã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«è¤‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ç’°å¢ƒå¤‰æ•°ã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ git clone https://github.com/creationix/nvm.git ~/.nvm
$ source ~/.nvm/nvm.sh
$ nvm ls-remote             <span class="cm">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹</span>
$ nvm install v8.9.4        <span class="cm">æœ€æ–°ã® LTS ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
$ nvm install v9.3.0        <span class="cm">æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
$ nvm ls                    <span class="cm">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹</span>
$ nvm use v8.9.4            <span class="cm">ä¸€æ™‚çš„ã« v8.9.4 ã‚’ä½¿ç”¨ã™ã‚‹(å†ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã‚‹)</span>
$ nvm alias default v8.9.4  <span class="cm">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ v8.9.4 ã«åˆ‡ã‚Šæ›¿ãˆã‚‹</span>
</pre>
<p>å†ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã‚‚ nvm ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ã€~/.bash_profile ã«ä¸‹è¨˜ã‚’è¿½è¨˜ã—ã¦ãŠãã¾ã™ã€‚</p>
<div class="tab">~/.bash_profile</div>
<pre class=c2>
if [ -s ~/.nvm/nvm.sh ]; then
  source ~/.nvm/nvm.sh
fi
</pre>
</div>

<h5 id="nodebrew">nodebrew ã®å ´åˆ (CentOS/Ubuntu)</h5>
<div class=i>
<p>å€‹äººã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã«è¤‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ curl -L git.io/nodebrew | perl - setup
$ echo 'export PATH=$HOME/.nodebrew/current/bin:$PATH' &gt;&gt; ~/.bashrc
$ source ~/.bashrc
$ nodebrew ls-remote                <span class="cm">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹</span>
$ nodebrew install-binary v8.9.4    <span class="cm">æœ€æ–°ã® LTS ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
$ nodebrew install-binary v9.3.0    <span class="cm">æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
$ nodebrew ls                       <span class="cm">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹</span>
$ nodebrew use v8.9.4               <span class="cm">v8.9.4 ã‚’ä½¿ç”¨ã™ã‚‹</span>
</pre>
</div>

<h5 id="n">n ã®å ´åˆ (Ubuntu)</h5>
<div class=i>
<p>Ubuntu ã®å ´åˆã€n ã‚’æ¨å¥¨ã™ã‚‹ã‚µã‚¤ãƒˆãŒå¤šã„ã‚ˆã†ã§ã™ã€‚ã¾ãšã€n ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã« apt-get ã§ nodejs ã¨ npm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€npm ã§ n ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå¾Œã€apt-get ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ nodejs ã¨ npm ã¯å‰Šé™¤ã—ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ sudo apt-get update               <span class="cm">å¿…è¦ã«å¿œã˜ã¦ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹</span>
$ sudo apt-get install -y nodejs    <span class="cm">nodejs ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ sudo apt-get install -y npm       <span class="cm">npm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ sudo npm cache clean              <span class="cm">npm ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>
$ sudo npm install -g n             <span class="cm">npm ã§ n ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ sudo n 8.9.4                      <span class="cm">n ã§ Node.js v8.9.4 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ sudo n 9.3.0                      <span class="cm">n ã§ Node.js v9.3.0 ã«åˆ‡ã‚Šæ›¿ãˆã‚‹</span>
$ sudo n 8.9.4                      <span class="cm">v8.9.4 ã«æˆ»ã™</span>
$ sudo apt-get purge -y nodejs npm  <span class="cm">apt-get ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ nodejs ã¨ npm ã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
</pre>
</div>

<h5>PPA ã®å ´åˆ (Ubuntu)</h5>
<div class=i>
<p>PPA(Personal Package Archive) ã¯ã€NodeSource ãŒç®¡ç†ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ sudo apt-get update               <span class="cm">å¿…è¦ã«å¿œã˜ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹</span>
$ sudo add-apt-repository ppa:chris-lea/node.js   <span class="cm">PPA ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
$ curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -  <span class="cm">9.x ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
$ sudo apt-get install -y nodejs    <span class="cm">Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</span>
</pre>
</div>

<h4 id="hello_console">Hello world (ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç‰ˆ)</h4>
<div class="i">
<p>ã¾ãšã¯ã€ãŠãã¾ã‚Šã® Hello world ã‹ã‚‰ã€‚$ ã¯ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ã®ã€# ã¯ç‰¹æ¨©ãƒ¦ãƒ¼ã‚¶ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç¤ºã—ã¾ã™ã€‚</p>
<div class="tab">sample1.js</div>
<pre class=c2>
<em>console.log("Hello world!");</em>
</pre>
<div class="tab">Console</div>
<pre class=c2>
$ node sample1.js
Hello world!
</pre>
</div>

<h4 id="hello_web">Hello World (Webç‰ˆ)</h4>
<div class=i>
<p>Web ã‚µãƒ¼ãƒã¨ã—ã¦å‹•ä½œã•ã›ã‚‹å ´åˆã®ã‚µãƒ³ãƒ—ãƒ«ãŒã“ã¡ã‚‰ã€‚</p>
<div class="tab">sample2.js</div>
<pre class=c2>
var http = <em>require('http')</em>;
var server = http.<em>createServer(function(req, res)</em> {
  res.write("Hello world!\n");
  res.end();
}).<em>listen(8080);</em>
</pre>
<p>ã¾ãšã€ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ node sample2.js
</pre>
<p>åˆ¥ã®ç«¯æœ«ã‹ã‚‰ã€Node.js ã‚’å‘¼ã³å‡ºã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ curl http://127.0.0.1:8080/
Hello world!
</pre>
</div>

<h4 id="no_break">ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æ”¹è¡Œç„¡ã—ã§æ›¸ãå‡ºã™</h4>
<div class=i>
<div class="tab">Node.js</div>
<pre class=c2>
<em>process.stdout.write("Hello")</em>;
</pre>
</div>

<h4 id="get_client_info">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®æƒ…å ±ã‚’å¾—ã‚‹</h4>
<div class=i>
<div class="tab">Node.js</div>
<pre class=c2>
var http = require('http');
var server = http.createServer(function(req, res) {
  console.log("URL: " + <em>req.url</em>);
  console.log("Method: " + <em>req.method</em>);
  console.log("Header[Content-Type]: " + <em>req.headers['content-type']</em>);
  res.end();
}).listen(8080);
</pre>
</div>

<h4 id="app_folder">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹</h4>
<div class=i>
<div class="tab">Console</div>
<pre class=c2>
$ mkdir ~/myapp
$ cd ~/myapp
$ <em>npm init</em>
(ç•¥)
name: (myapp) <span class="cm">[Enter]</span>
version: (1.0.0) <span class="cm">[Enter]</span>
description: <span class="cm">[Enter]</span>
entry point: (index.js) <span class="cm">[Enter]</span>
test command: <span class="cm">[Enter]</span>
git repository: <span class="cm">[Enter]</span>
keywords: <span class="cm">[Enter]</span>
author: <span class="cm">[Enter]</span>
license: (ISC) <span class="cm">[Enter]</span>
(ç•¥)
Is this ok? (yes) <span class="cm">yes</span>
$ ls -l
total 4
-rw-rw-r--. 1 taro taro 201  Jan  3 22:54 package.json
</pre>
</div>

<h4 id="install_package">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</h4>
<div class=i>
<p>ä¾‹ã¨ã—ã¦ jquery ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ cd ~/myapp
$ <em>npm install jquery</em>
$ ls -l
total 4
drwxrwxr-x. 3 taro taro  19  Jan  3 22:56 node_modules
-rw-rw-r--. 1 taro taro 290  Jan  3 22:54 package-lock.json
-rw-rw-r--. 1 taro taro 201  Jan  3 22:54 package.json
$ ls -l ./node_modules
total 4
drwxrwxr-x. 5 taro taro 4096 Jan  3 22:56 jquery
$
</pre>
<p>--save ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”¨ã„ã‚‹ã¨ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æƒ…å ±ã‚’ package.json ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ npm install jquery <em>--save</em>
</pre>
</div>

<h4 id="get_get_params">GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h4>
<div class=i>
<p>GET ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ req.url ã§å—ã‘å–ã‚Œã¾ã™ãŒã€url ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”¨ã„ã¦ã“ã‚Œã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var http = require('http');
var url = <em>require('url')</em>;

var server = http.createServer(function(req, res) {
  var url_parse = <em>url.parse(req.url, true)</em>;
  console.log(url_parse);
  res.end();
}).listen(8080);
</pre>
<div class="tab">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´</div>
<pre class=c2>
$ curl -X GET http://localhost:8080/test?name=Taro
</pre>
<div class="tab">ã‚µãƒ¼ãƒå´</div>
<pre class=c2>
$ node app.js
Url {
  protocol: null,
  slashes: null,
  auth: null,
  host: null,
  port: null,
  hostname: null,
  hash: null,
  search: '?name=Taro',
  query: { name: 'Taro' },
  pathname: '/test',
  path: '/test?name=Taro',
  href: '/test?name=Taro' }
</pre>
</div>

<h4 id="get_post_data">POST ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h4>
<div class=i>
<p>on() ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ç™»éŒ²ã—ã¾ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ req ã«å¯¾ã—ã¦ data å—ä¿¡ã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«æ–­ç‰‡ãƒ‡ãƒ¼ã‚¿(chunk)ã‚’å—ã‘å–ã‚Šã€body å¤‰æ•°ã«é€£çµã—ã¦ãŠãã€å—ä¿¡å®Œäº†ã® end ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ã€ãã®å†…å®¹ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æ›¸ãå‡ºã—ã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var http = require('http');

var server = http.createServer(function(req, res) {
  if (req.method == 'POST') {
    var body = '';
    <em>req.on('data'</em>, function(chunk) {
        body += chunk;
    });
    <em>req.on('end'</em>, function() {
      console.log(body);
      res.end();
    });
  }
}).listen(8080);
</pre>
<div class="tab">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´</div>
<pre class=c2>
$ curl -X POST -d 'name=Taro' http://localhost:8080/test
</pre>
<div class="tab">ã‚µãƒ¼ãƒ</div>
<pre class=c2>
$ node app.js
name=Taro
</pre>
</div>

<h4 id="express">Express ã§ GET POST ã‚’å‡¦ç†ã™ã‚‹</h4>
<div class=i>
<p>ã¾ãšã€express ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ cd ~/myapp            <span class="cm">ä½œæˆæ¸ˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•</span>
$ npm install express   <span class="cm">Express ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
</pre>
<p>ã‚µãƒ¼ãƒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ç”¨æ„ã—ã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var express = require('express');
var app = express();
app.listen(8080);

app.get('/test1', function(req, res) {
  res.send('TEST1\n');
});

app.post('/test2', function(req, res) {
  res.send('TEST2\n');
});
</pre>
<p>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å‘¼ã³å‡ºã—ã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
$ curl -X GET http://localhost:8080/test1
TEST1
$ curl -X POST http://localhost:8080/test2
TEST2
</pre>
</div>

<h4 id="get_post_data_by_express">Express ã§ POST ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h4>
<div class=i>
<p>Express ã§ POST ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹æ–¹æ³•ã¯ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã‹ãªã‚Šå¤‰å‹•ã—ã¦ã„ã¾ã™ã€‚Node.js 4.0 ä»¥é™ã§ã¯ body-parser ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
// <span class="cm">å¤ã„æ›¸ãæ–¹(1): bodyDecorderæ™‚ä»£</span>
app.use(express.<em>bodyDecoder()</em>);

// <span class="cm">å¤ã„æ›¸ãæ–¹(2): bodyParseræ™‚ä»£</span>
app.use(express.<em>bodyParser()</em>);

// <span class="cm">å¤ã„æ›¸ãæ–¹(3): urlencodedæ™‚ä»£</span>
app.use(express.<em>urlencoded()</em>);
app.use(express.json());

// <span class="cm">ç¾æ™‚ç‚¹ã®æ–°ã—ã„æ›¸ãæ–¹: body-parseræ™‚ä»£</span>
var express = require('express');
var app = express();
var bodyParser = require('<em>body-parser</em>');
app.use(bodyParser.urlencoded({ extended: false });
</pre>
<ul>
<li><a target="_top" href="javascript:if(confirm('https://www.npmjs.com/package/body-parser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/body-parser'" tppabs="https://www.npmjs.com/package/body-parser">https://www.npmjs.com/package/body-parser</a>
</ul>
</div>

<h5>RAW ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h5>
<div class=i>
<p>raw() ã‚’ç”¨ã„ã¦ POST ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚Šã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
app.use(bodyParser.<em>raw({ type:'*/*' })</em>);

app.post('/', function(req, res) {
  console.log(req.body);
  res.end();
});
app.listen(8080);
</pre>
<div class="tab">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´</div>
<pre class=c2>
$ curl -X POST -d 'Hello' http://localhost:8080/
</pre>
</div>

<h5>TEXT ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h5>
<div class=i>
<p>text() ã‚’ç”¨ã„ã¦ POST ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚Šã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
app.use(bodyParser.<em>text({ type:'*/*' })</em>);

app.post('/', function(req, res) {
  console.log(req.body);
  res.end();
});
app.listen(8080);
</pre>
<div class="tab">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´</div>
<pre class=c2>
$ curl -X POST -d 'Hello' http://localhost:8080/
</pre>
</div>

<h5>FORM ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h5>
<div class=i>
<p>urlencoded() ã‚’ç”¨ã„ã¦ POST ã•ã‚ŒãŸ FORM ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚ãƒ‡ã‚³ãƒ¼ãƒ€ã¨ã—ã¦ã€extended:true ã®å ´åˆã¯ qs ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã€extended:false ã®å ´åˆã¯ querystring ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ true ã§ã™ã€‚qs ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å ´åˆã¯ã€name[1]=Taro, name[2]=Jiro ãªã©ã®é…åˆ—ã‚‚è§£é‡ˆã—ã¦ãã‚Œã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
app.use(bodyParser.<em>urlencoded({extended:true}))</em>;

app.post('/', function(req, res) {
  for (key in req.body) {
    console.log(key, '=', req.body[key]);
  }
  res.end();
});
app.listen(8080);
</pre>
<div class="tab">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´</div>
<pre class=c2>
$ curl -X POST -d 'name[1]=Yamada&amp;name[2]=Taro&amp;age=36' http://localhost:8080/
</pre>
<ul>
<li><a target="_top" href="javascript:if(confirm('https://www.npmjs.com/package/qs  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/qs#readme'" tppabs="https://www.npmjs.com/package/qs#readme">https://www.npmjs.com/package/qs#readme</a>
</ul>
</div>

<h5>JSON ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹</h5>
<div class=i>
<p>json() ã‚’ç”¨ã„ã¦ JSON ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
app.use(bodyParser.<em>json()</em>);

app.post('/', function(req, res) {
  for (key in req.body) {
    console.log(key, '=', req.body[key]);
  }
  res.end();
});
app.listen(8080);
</pre>
<div class="tab">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´</div>
<pre class=c2>
$ curl -X POST \
  -H 'Content-Type: application/json' \
  -d '{"name":["Yamada","Taro"],"Age":36}' \
  http://localhost:8080/
</pre>
</div>

<h4 id="ejs">EJS ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’ç”¨ã„ã‚‹</h4>
<div class=i>
<p>EJS(Effective JavaScript templating) ã‚’ç”¨ã„ã¦ã€HTML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã©ã«å¤‰æ•°ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚ã¾ãšã€ejs ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</p>
<div class="tab">Console</div>
<pre class=c2>
$ cd ~/myapp
$ npm install ejs --save
</pre>
<p>views ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã€ãã®ä¸‹ã« test.ejs ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<div class="tab">views/test.ejs</div>
<pre class=c2>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;&lt;%=title %&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;&lt;%=title %&gt;&lt;/h1&gt;
&lt;p&gt;&lt;%-content %&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>ã‚·ãƒ³ãƒ—ãƒ«ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®æ§˜ã«ç”¨ã„ã¾ã™ã€‚</p>
<div class="tab">app.js</div>
<pre class=c2>
var fs = require('fs');
var ejs = <em>require('ejs')</em>;
var template = fs.readFileSync('./views/test.ejs', 'utf8');

var buf = ejs.<em>render</em>(template, {
  title: "EJS Sample Code",
  content: "This is EJS Sample..."
});
console.log(buf);
</pre>
<p>app.engine() ã‚’ç”¨ã„ã¦æ¨™æº–ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã«æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<div class="tab">app.js</div>
<pre class=c2>
var express = require('express');
var app = express();
var ejs = require('ejs');
<em>app.engine('ejs', ejs.renderFile);</em>
app.get('/', function(req, res) {
  res.<em>render</em>('test.ejs', {
    title: "EJS Sample Code",
    content: "This is EJS Sample..."
  });
});
app.listen(8080);
</pre>
<p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ä¸‹è¨˜ã®è¨˜æ³•ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚&lt;%= ã®å ´åˆã¯ &lt; ãªã©ã®æ–‡å­—ãŒ &amp;lt; ã«ç½®æ›ã•ã‚Œã¾ã™ã€‚%lt;%- ã®å ´åˆã¯ç½®æ›ã•ã‚Œã¾ã›ã‚“ã€‚&lt;% ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«ã‚µãƒ¼ãƒãƒ¼å´ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<div class="tab">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</div>
<pre class=c2>
<em>&lt;%=</em><span class="cm">å¤‰æ•°å(HTMLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚ã‚Š)</span> <em>%&gt;</em>
<em>&lt;%-</em><span class="cm">å¤‰æ•°å(HTMLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãªã—)</span> <em>%&gt;</em>
<em>&lt;% </em><span class="cm">ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span> <em>%&gt;</em>
<em>&lt;%#</em> <span class="cm">ã‚³ãƒ¡ãƒ³ãƒˆ</span> <em>%&gt;</em>
<em>&lt;%% </em>  <span class="cm">'&lt;%' ã‚’æ–‡å­—åˆ—ã¨ã—ã¦è¡¨ç¤ºã—ãŸã„å ´åˆã«ä½¿ç”¨</span>
<em> %&gt;</em>   <span class="cm">é€šå¸¸ã®é–‰ã˜ã‚¿ã‚°</span>
<em>-%&gt;</em>   <span class="cm">å¾Œç¶šã™ã‚‹æ”¹è¡Œã‚„ç©ºç™½æ–‡å­—ã‚’å‰Šé™¤(ãƒˆãƒªãƒ )ã™ã‚‹</span>
</pre>
<ul>
<li><a target="_top" href="javascript:if(confirm('http://ejs.co/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://ejs.co/'" tppabs="http://ejs.co/">http://ejs.co/</a>
</ul>
</div>

<h4 id="read_file">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ³ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã§èª­ã¿å‡ºã™</h4>
<div class=i>
<div class="tab">Node.js</div>
<pre class=c2>
var fs = <em>require("js")</em>;

fs.<em>readFile("./data.dat", "utf8", function(err, data)</em> {
  console.log(data);
});
</pre>
</div>

<h4 id="make_module">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹</h4>
<div class=i>
<p>exports ã‚’ç”¨ã„ã¦ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="tab">mymod.js</div>
<pre class=c2>
<em>exports</em>.hello = function() {
  return "Hello!";
}
</pre>
<div class="tab">app.js</div>
<pre class=c2>
var mymod = require(<em>'./mymod'</em>);
console.log(mymod.hello());
</pre>
<p>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åãŒ / ã§å§‹ã¾ã‚‹å ´åˆã¯çµ¶å¯¾ãƒ‘ã‚¹ã€./ ã§å§‹ã¾ã‚‹å ´åˆã¯ç›¸å¯¾ãƒ‘ã‚¹ã€ãã®ä»–ã®å ´åˆã¯ (2)ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«(module.exports._buildinLibs)ã€(2)module.paths é…åˆ—ã€(3)ç’°å¢ƒå¤‰æ•° NODE_PATH ã®é †ç•ªã§æ¢ç´¢ã—ã¾ã™ã€‚æ‹¡å¼µå­(.js) ã¯çœç•¥å¯èƒ½ã§ã™ã€‚ãƒ•ã‚©ãƒ«ãƒ€åã‚’æŒ‡å®šã—ãŸå ´åˆã¯ãã®é…ä¸‹ã® index.js ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚index.js ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¯ package.json ã® "main" ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§å¤‰æ›´å¯èƒ½ã§ã™ã€‚</p>
</div>

<h4 id="template_leteral">æ–‡å­—åˆ—ä¸­ã®å¤‰æ•°ã‚’å±•é–‹ã™ã‚‹</h4>
<div class=i>
<p>ES6(ES2015) ã§å°å…¥ã•ã‚ŒãŸ Template Literal ã«ã‚‚å¯¾å¿œã—ã¦ãŠã‚Šã€ãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆ(`) æ–‡å­—åˆ—ã®ä¸­ã§ã€${å¤‰æ•°å} ã‚’å±•é–‹ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚</p>
<div class="tab">Node.js</div>
<pre class=c2>
const PORT = 8080;
console.log(`localhost:${PORT}`);
</pre>
</div>

<h4 id="links">ãƒªãƒ³ã‚¯</h4>
<div class=i>
<ul>
<li><a target="_top" href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/">https://nodejs.org/</a>
<li><a target="_top" href="javascript:if(confirm('https://nodejs.org/api/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/'" tppabs="https://nodejs.org/api/">https://nodejs.org/api/</a>
</ul>
</div>

<hr>
<div>Copyright (C) 2016-2018 æœç”«ã€…</div>
<div>åˆç‰ˆ:2016å¹´6æœˆ4æ—¥ æœ€çµ‚æ›´æ–°:2018å¹´1æœˆ7æ—¥</div>
<div>http://www.tohoho-web.com/ex/nodejs.html</div>
</body>
</html>

