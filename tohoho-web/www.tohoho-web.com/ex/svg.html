<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8"utf-8">
<title>SVG入門 - とほほのWWW入門</title>
<meta name="viewport" content="width=device-wih4h,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>SVG入門</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">トップ</a> &gt;
SVG入門

<h4>SVGとは</h4>
<div class=i>
<p>Web でよく使用される SVG 画像フォーマットについて説明します。</p>
<ul>
<li>Scalable Vector Graphics の略。
<li>HTML を標準化している W3C が策定している。
<li>中身は XML ベースのテキストファイル。
<li><a href="../wwwgif.htm" tppabs="http://www.tohoho-web.com/wwwgif.htm">GIF</a>, PNG, JPEG がビットマップ形式なのに対し、座標情報によるベクター形式のデータ。
<li>極度に拡大したり、Retina などの高解像度ディスプレイで表示しても、ビットマップデータに見られるようなジャギーが目立たない。
<li>&lt;img&gt; タグで表示する他、HTML ファイル内に直接記述することも可能。
<li>解像度に合わせて、スマホ用、高解像度用の画像ファイルをそれぞれ用意する必要がない。
<li>直線や曲線を組み合わせて描画する画像に向いている。写真データには不向き。
<li>透過やアニメーションにも対応している。
<li>基本的にはテキストデータだが、gzip で圧縮したものも利用可能。
<li>拡張子は *.svg。gzip 圧縮したものは *.svgz。
<li>MIMEタイプは image/svg+xml。
<li>JavaScript と組み合わせることも可能。
<li>XML を手入力するのは酷なので、Illustrator などのドローソフトで描いて SVG ファイルに出力することが多い。
<li>2001年に W3C が SVG 1.0 を勧告。その後、2003年に SVG 1.1、2011年に SVG 1.1 2nd Edition を勧告。
<li>当初、Microsoft は <a href="../wwwvml.htm" tppabs="http://www.tohoho-web.com/wwwvml.htm">VML</a>、Adobe は PGML を推奨していたが、業界標準として SVG に定着。
<li>Chrome 1.0, Firefox 1.5, IE9, Edge 12, Opera 8, Safari 3 以降で使用可能。
<li>SVG と <a href="../html/memo/canvas-2d.htm" tppabs="http://www.tohoho-web.com/html/memo/canvas-2d.htm">Canvas</a> との比較論があるがメリデリは曖昧。利用は Canvas の方が多いみたい。
</ul>
<p>本ページでは、SVG のごく一部の機能のみを説明しますので、詳細は下記の仕様書や他のリファレンスを参照してください。</p>
</div>

<h4>仕様書</h4>
<div class=i>
<ul>
<li>SVG 1.0 (2001/09/04)<br>
<a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/SVG10/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.w3.org/TR/SVG10/'" tppabs="https://www.w3.org/TR/SVG10/">https://www.w3.org/TR/SVG10/</a>
<li>SVG 1.1 (2003/01/14)<br>
<a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/2003/REC-SVG11-20030114/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.w3.org/TR/2003/REC-SVG11-20030114/'" tppabs="https://www.w3.org/TR/2003/REC-SVG11-20030114/">https://www.w3.org/TR/2003/REC-SVG11-20030114/</a>
<li>SVG 1.1 2nd Edition (2011/08/16)<br>
<a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/SVG11/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.w3.org/TR/SVG11/'" tppabs="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
</ul>
</div>

<h4>SVGの書き方(1): 画像ファイルとして</h4>
<div class=i>
<p>SVG は通常の画像ファイルとして、<a href="../html/img.htm" tppabs="http://www.tohoho-web.com/html/img.htm">&lt;img&gt;</a> や <a href="../css/prop/background-image.htm" tppabs="http://www.tohoho-web.com/css/prop/background-image.htm">background-image</a> などで読み込むことができます。</p>
<div class="tab">svg-sample.svg</div>
<pre class=c2>
&lt;?xml version="1.0"?&gt;
&lt;svg xmlns="http://www.w3.org/2000/svg"&gt;
  &lt;rect x="0" y="0" width="100" height="60" fill="#ddd" /&gt;
  &lt;polygon points="50 10, 70 30, 50 50, 30 30" fill="#99f" /&gt;
&lt;/svg&gt;
</pre>
<div class="tab">HTML</div>
<pre class=c2>
&lt;img src="<em>svg-sample.svg</em>" width=100 height=60&gt;   <span class="cm">// 非圧縮の場合</span>
</pre>
<p>もしくは、上記の *.svg ファイルを gzip 圧縮し、拡張子を *.svgz に変更したものを読み込むこともできます。</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;img src="<em>svg-sample.svgz</em>" width=100 height=60&gt;  <span class="cm">// gzip 圧縮の場合</span>
</pre>
<div class="tab">表示</div>
<div class=c2>
<img src="svg-sample.svg" tppabs="http://www.tohoho-web.com/ex/svg-sample.svg" width="100" height="60" alt="SVG Image">
</div>
</div>


<h4>SVGの書き方(2): タグとして</h4>
<div class=i>
<p>下記の様に HTML 中に直接記述することもできます。</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;SVG Test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
<em>&lt;svg x=0 y=0 width=100 height=60 style="background-color: #ddd"&gt;
  &lt;polygon points="50 10, 70 30, 50 50, 30 30" fill="#99f" /&gt;
&lt;/svg&gt;</em>
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<h4>描画</h4>

<h5>◆ &lt;line x1= y1= x2= y2= ...&gt;</h5>
<div class=i>
<p>直線を描画します。x1(開始点のX座標)、y1(開始点のY座標)、x2(終了点のX座標)、y2(終了点のY座標) などを指定します。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;line x1="10" y1="30" x2="190" y2="30" stroke="black" stroke-width="2" /&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background: #ddd">
  <line x1="5" y1="20" x2="100" y2="20" stroke="black" stroke-width="2" />
</svg>
</div>
</div>

<h5>◆ &lt;rect x= y= width= height= ...&gt;</h5>
<div class=i>
<p>矩形を描画します。x(左上のX)、y(左上のY)、width(横幅)、height(高さ) などを指定します。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;rect x="5" y="5" width="30" height="30" stroke="black" fill="#fff" stroke-width="2" /&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background: #ddd">
  <rect x="5" y="5" width="30" height="30" stroke="black" fill="#fff" stroke-width="2" />
</svg>
</div>
</div>

<h5>◆ &lt;polygon points= ...&gt;</h5>
<div class=i>
<p>多角形を描画します。posts には、x1 y1, x2 y2, x3 y3, ... のように軌跡点を指定します。軌跡の最後は開始点に向けて閉じます。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;polygon points="5 20, 20 5, 35 20, 20 35" stroke="black" fill="#fff" stroke-width="2" /&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background: #ddd">
  <polygon points="5 20, 20 5, 35 20, 20 35" stroke="black" fill="#fff" stroke-width="2" />
</svg>
</div>
</div>

<h5>◆ &lt;circle cx= cy= r= ...&gt;</h5>
<div class=i>
<p>円を描画します。cx(中心点のX)、cy(中心点のY)、r(半径) などを指定します。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;circle cx="20" cy="20" r="15" stroke="black" fill="#fff" stroke-width="2" /&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background: #ddd">
  <circle cx="20" cy="20" r="15" stroke="black" fill="#fff" stroke-width="2" />
</svg>
</div>
</div>

<h5>◆ &lt;ellipse cx= cy= rx= ry= ...&gt;</h5>
<div class=i>
<p>楕円を描画します。cx(中心点のX)、cy(中心点のY)、rx(X軸方向の半径)、ry(Y軸方向の半径) などを指定します。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;ellipse cx="20" cy="20" rx="15" ry="8" stroke="black" fill="#fff" stroke-width="2" /&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background-color:#ddd">
  <ellipse cx="20" cy="20" rx="15" ry="8" stroke="black" fill="#fff" stroke-width="2" />
</svg>
</div>
</div>

<h5>◆ &lt;path d= ...&gt;</h5>
<div class=i>
<p>パスを描画します。d には、パス描画の命令を記述します。M 5 20 は、x=5, y=20 に移動せよ(Move to)、L 20 5 は x=20 y=5 に線を引け(Line to) を意味します。</p>
<ul>
<li>M (<i>x</i> <i>y</i>)+ : <i>x</i>, <i>y</i> に移動 (Move to)
<li>L (<i>x</i> <i>y</i>)+ : <i>x</i>, <i>y</i> に線を引く (Lineto)
<li>H (<i>x</i>)+ : 水平方向に線を引く (Horizontal lineto)
<li>V (<i>y</i>)+ : 垂直方向に線を引く (Vertical lineto)
<li>S (<i>x1</i> <i>y1</i> <i>x</i> <i>y</i>)+ : 制御点(x1, y1)、終点(x, y) とする二次ベジェ曲線 (Shorhand/smooth curveto)
<li>C (<i>x1</i> <i>y1</i> <i>x2</i> <i>y2</i> <i>x</i> <i>y</i>)+ : 制御点1(x1, y1)、制御点2(x2, y2)、終点(x, y) とする三次ベジェ曲線 (Curveto)
<li>Z : パスを閉じる (Closepath)
</ul>
<div class="tab">SVG</div>
<pre class=c2>
&lt;path d="M 5 20 L 20 5 L 35 20 L 20 20" stroke="black" fill="transparent" stroke-width="2" /&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background: #ddd">
  <path d="M 5 20 L 20 5 L 35 20 L 20 20" stroke="black" fill="transparent" stroke-width="2" />
</svg>
</div>
<div class="tab">二次ベジェ曲線</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40" style="background: #ddd">
  <line x1=40 y1=5 x2=130 y2=20 stroke="gray" />
  <line x1=130 y1=20 x2=40 y2=35 stroke="gray" />
  <circle cx=40 cy=5 r=2 />
  <circle cx=130 cy=20 r=2 />
  <circle cx=40 cy=35 r=2 />
  <text x=5 y=10 style="font-size:7pt">(Start)</text>
  <text x=10 y=35 style="font-size:7pt">(x, y)</text>
  <text x=135 y=22 style="font-size:7pt">(x1, y1)</text>
  <path d="M 40 5 S 130 20 40 35" stroke="black" fill="transparent" stroke-width="2" />
</svg>
</div>
<div class="tab">三次ベジェ曲線</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40" style="background: #ddd">
  <line x1=40 y1=5 x2=130 y2=15 stroke="gray" />
  <line x1=130 y1=25 x2=40 y2=35 stroke="gray" />
  <circle cx=40 cy=5 r=2 />
  <circle cx=130 cy=15 r=2 />
  <circle cx=130 cy=25 r=2 />
  <circle cx=40 cy=35 r=2 />
  <text x=5 y=10 style="font-size:7pt">(Start)</text>
  <text x=10 y=35 style="font-size:7pt">(x, y)</text>
  <text x=135 y=16 style="font-size:7pt">(x1, y1)</text>
  <text x=135 y=28 style="font-size:7pt">(x2, y2)</text>
  <path d="M 40 5 C 130 15 130 25 40 35" stroke="black" fill="transparent" stroke-width="2" />
</svg>
</div>
</div>

<h4>アニメーション</h4>

<h5>◆ &lt;animate ...&gt;</h5>
<div class=i>
<p>アニメーションを行います。attributeName で指定した属性を、from から to の値まで、dur で指定した時間で変動させます。repeatCount には回数を指定します。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;svg x="0px" y="0px" width="400px" height="40px" style="background-color:#ddd"&gt;
  &lt;rect x="5" y="5" width="30" height="30" stroke="black" fill="#fff" stroke-width="2"&gt;
    &lt;animate attributeName="x" from="-30" to="400" dur="4s" repeatCount="indefinite" /&gt;
  &lt;/rect&gt;
&lt;/svg&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="40px" style="background-color:#ddd">
  <rect x="5" y="5" width="30" height="30" stroke="black" fill="#fff" stroke-width="2">
    <animate attributeName="x" from="-30" to="400" dur="4s" repeatCount="indefinite" />
  </rect>
</svg>
</div>
</div>

<h4>その他</h4>

<h5>◆ &lt;a xlink:href="..."&gt;</h5>
<div class=i>
<p>リンクを張ります。HTML の <a href="../html/a.htm" tppabs="http://www.tohoho-web.com/html/a.htm">&lt;a&gt;</a> と同様、クリックするとその URL にジャンプします。</p>
<div class="tab">SVG</div>
<pre class=c2>
&lt;svg x="0px" y="0px" width="400px" height="60px" style="background-color:#ddd"&gt;
  &lt;a xlink:href="http://www.yahoo.co.jp"&gt;
    &lt;polygon id="logomark-polyline" fill-rule="evenodd" clip-rule="evenodd"
      fill="#99f" points="200 10, 220 30, 200 50, 180 30"/&gt;
  &lt;/a&gt;
&lt;/svg&gt;
</pre>
<div class="tab">表示</div>
<div class=c2>
<svg x="0px" y="0px" width="400px" height="60px" style="background-color:#ddd">
  <a xlink:href="javascript:if(confirm('http://www.yahoo.co.jp/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.yahoo.co.jp/'" tppabs="http://www.yahoo.co.jp/">
    <polygon id="logomark-polyline" fill-rule="evenodd" clip-rule="evenodd" fill="#99f" points="200 10, 220 30, 200 50, 180 30"/>
  </a>
</svg>
</div>
</div>

<hr>
<div>Copyright (C) 2018 杜甫々</div>
<div>初版:2018年1月28日 最終更新:2018年1月28日</div>
<div>http://www.tohoho-web.com/ex/svg.html</div>
</body>
</html>
