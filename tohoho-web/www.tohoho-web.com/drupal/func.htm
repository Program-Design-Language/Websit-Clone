<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Drupalå…¥é–€ - ã¨ã»ã»ã®WWWå…¥é–€</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<div class="page">
<h2>Drupalå…¥é–€</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">ãƒˆãƒƒãƒ—</a> &gt;
<a href="top.htm" tppabs="http://www.tohoho-web.com/drupal/top.htm">Drupalå…¥é–€</a> &gt;
<a href="module.htm" tppabs="http://www.tohoho-web.com/drupal/module.htm">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a> &gt;
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹

<h4>Drupalé–¢æ•°ä¸€è¦§</h4>

<p>ã”ãä¸€éƒ¨ã§ã™ãŒã€Drupal ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–‹ç™ºã§ã‚ˆãåˆ©ç”¨ã•ã‚Œã‚‹é–¢æ•°ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>

<h5 id="t">â—†t($string, $args = array(), $langcode = NULL)</h5>
<div class=i>
<p>ç¿»è¨³å¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚.po ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã€$msg ã§æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—ã«å¯¾å¿œã™ã‚‹ç¿»è¨³ãŒã‚ã‚Œã°ç¿»è¨³å¾Œã®æ–‡å­—åˆ—ã‚’è¿”ã—ã¾ã™ã€‚</p>
<pre class=c>
  $output = '&lt;p&gt; . t('This is Japan.') . '&lt;/p&gt;';
</pre>
<p>æ–‡ç« ä¸­ã® @å¤‰æ•°å ã‚’å¼•æ•°ã§ç½®æ›ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<pre class=c>
  $output = t('This is @contry.', array(
    '@contry' =&gt; 'Japan',
  ));
</pre>
</div>

<h5 id="user_access">â—†user_access($string, $account = NULL, $reset = FALSE)</h5>
<div class=i>
<p>ãƒ¦ãƒ¼ã‚¶ãŒæ¨©é™ã‚’æŒã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’èª¿ã¹ã¾ã™ã€‚$account ã«ã¯ãƒã‚§ãƒƒã‚¯ã—ãŸã„ãƒ¦ãƒ¼ã‚¶åã‚’æŒ‡å®šã—ã¾ã™ã€‚çœç•¥ã™ã‚‹ã¨ç¾åœ¨ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ã«ãªã‚Šã¾ã™ã€‚$reset ã« TRUE ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©é™æƒ…å ±ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚</p>
<pre class=c>
  if (user_access('administer users')) {
    :
  }
</pre>
</div>

<h5 id="variable_set">â—†variable_set($name, $value)</h5>
<div class=i>
<p>Drupal ã®æŒç¶šå¤‰æ•° $name ã«å€¤ $value ã‚’è¨­å®šã—ã¾ã™ã€‚æŒç¶šå¤‰æ•°ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã® variable ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</p>
<pre class=c>
  variable_set('my_test_counter', '1234');
</pre>
</div>

<h5 id="variable_get">â—†variable_get($name, $default)</h5>
<div class=i>
<p>Drupal ã®æŒç¶šå¤‰æ•° $name ã‚’å‚ç…§ã—ã¾ã™ã€‚å€¤ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ $default ã‚’è¿”ã—ã¾ã™ã€‚</p>
<pre class=c>
  $count = variable_get('my_test_counter', 0);
</pre>
</div>

<h5 id="db_query">â—†db_query($sql, $args...)</h5>
<div class=i>
<p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å•ã„åˆã‚ã›ã¾ã™ã€‚%d ã‚„ %s ã¯å¼•æ•°ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚</p>
<pre class=c>
  $output = "";
  $result = db_query("SELECT uid, name FROM {users} WHERE status = %d", 1);
  while ($data = db_fetch_object($result)) {
    if ($data-&gt;uid != 0) {
      $output .= "&lt;div&gt;{$data-&gt;name}(uid={$data-&gt;uid})&lt;/div&gt;\n";
    }
  }
</pre>
</div>

<h5 id="db_query_range">â—†db_query_range($sql, $arg..., $n, $m)</h5>
<div class=i>
<p><a href="#db_query">db_query()</a> ã¨ã»ã¼åŒæ§˜ã§ã™ãŒã€å®Ÿè¡Œçµæœã®ä¸­ã‹ã‚‰ $n ç•ªç›®ã‹ã‚‰ $m å€‹ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚</p>
<pre class=c>
  $output = "";
  $result = db_query("SELECT name FROM {users} ORDER BY created DESC", 0, 5);
  while ($data = db_fetch_object($result)) {
    if ($data-&gt;uid != 0) {
      $output .= "&lt;div&gt;{$data-&gt;name}&lt;/div&gt;\n";
    }
  }
</pre>
</div>

<h5 id="db_fetch_object">â—†db_fetch_object($result)</h5>
<div class=i>
<p><a href="#db_query">db_query()</a> ã‚„ <a href="#db_query_range">db_query_range()</a> ã®å®Ÿè¡Œçµæœã¨ã—ã¦å¾—ã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆã‚’ã²ã¨ã¤ãšã¤å‡¦ç†ã—ã¾ã™ã€‚ä½¿ã„æ–¹ã¯ <a href="#db_query">db_query()</a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
</div>

<h5 id="drupal_get_form">â—†drupal_get_form($form_id)</h5>
<div class=i>
<p>Drupal ã®ãƒãƒªã‚·ãƒ¼ã«å¾“ã£ãŸãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚$form_id ã«ã¯ãƒ•ã‚©ãƒ¼ãƒ IDã¨å‘¼ã°ã‚Œã‚‹ãƒ•ã‚©ãƒ¼ãƒ é–¢æ•°åã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒ•ã‚©ãƒ¼ãƒ é–¢æ•°ã§ã¯ã€ãƒ•ã‚©ãƒ¼ãƒ æƒ…å ±ã®é…åˆ—ã‚’è¿”å´ã—ã¾ã™ã€‚</p>
<pre class=c>
function test_menu() {
  $item['test'] = array(
    'title' =&gt; 'TEST',
    'page callback' =&gt; 'test_main',
    'access arguments' =&gt; array('do test'),
    'description' =&gt; 'Test module',
  );
  return $item;
}

function test_main() {
  return drupal_get_form('test_myform');
}

function test_myform() {
  $form = array();
  $form['name'] = array(
    '#title' =&gt; 'Name',
    '#type' =&gt; 'textfield',
    '#default_value' =&gt; 'Yamada Tarou',
    '#description' =&gt; 'Your name. (ex. Yamada Tarou)',
  );
  $form['age'] = array(
    '#title' =&gt; 'Age',
    '#type' =&gt; 'textfield',
    '#default_value' =&gt; '26',
    '#description' =&gt; 'Your age. (ex. 26)',
  );
  $form['sex'] = array(
    '#title' =&gt; 'Sex',
    '#type' =&gt; 'radios',
    '#options' =&gt; array('Male', 'Female'),
    '#default_value' =&gt; 0,
    '#description' =&gt; 'Your sex. (ex. Male)',
  );
  $form['submit'] = array(
    '#type' =&gt; 'submit',
    '#value' =&gt; 'OK',
    '#submit' =&gt; array('test_myform_submit'),
  );
  return $form;
}

function test_myform_submit($form, &amp;$form_state) {
  drupal_set_message(
    "&lt;div&gt;name:{$form_state['values']['name']}&lt;/div&gt;\n" .
    "&lt;div&gt;age:{$form_state['values']['age']}&lt;/div&gt;\n" .
    "&lt;div&gt;sex:{$form_state['values']['sex']}&lt;/div&gt;\n"
  );
}
</pre>
</div>

<h5 id="drupal_set_message">â—†drupal_set_message($message = NULL, $type = 'status', $repeat = TRUE)</h5>
<div class=i>
<p>ç”»é¢ä¸Šã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ $msg ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚$type ã«ã¯ 'status'ã€'warning'ã€'error' ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚$repeat ã‚’ FALSE ã«ã™ã‚‹ã¨ã€ã™ã§ã«åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãŸå ´åˆã«ç¹°ã‚Šè¿”ã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºã‚’æŠ‘åˆ¶ã—ã¾ã™ã€‚åˆ©ç”¨æ–¹æ³•ã¯ <a href="#drupal_get_form">drupal_get_form()</a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
</div>

<h5>â—†ãã®ä»–ã®Drupalé–¢æ•°</h5>
<div class=i>
<p>ãã®ä»–ã®Drupalé–¢æ•°ã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<ul>
<li><a target="_blank" href="javascript:if(confirm('http://api.drupal.org/api/place-content.htm  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://api.drupal.org/api/place-content.htm'" tppabs="http://api.drupal.org/api/functions">http://api.drupal.org/api/functions</a>
</ul>
</div>

<hr>
<div>Copyright (C) 2008 æœç”«ã€…</div>
<div>åˆç‰ˆï¼š2008å¹´9æœˆ21æ—¥</div>
<div>http://www.tohoho-web.com/drupal/</div>
</div>
</body>
</html>
