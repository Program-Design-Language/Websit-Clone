<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>「お気に入り」アイコンを指定するには？ - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>「お気に入り」アイコンを指定するには？</h2>
<a href="www.htm" tppabs="http://www.tohoho-web.com/www.htm">トップ</a> &gt;
<a href="wwwhowto.htm" tppabs="http://www.tohoho-web.com/wwwhowto.htm">How To</a> &gt;
「お気に入り」アイコンを指定するには？

<h4>IEの「お気に入り」アイコン</h4>
<div class=i>
<p>最近のInternet Explorerでは、自分のページを「お気に入り」に追加してもらったときに、「お気に入り」メニューに表示されるアイコンも自分のデザインしたアイコンで登録してもらう機能があります。「とほほのＷＷＷ入門」のＱ＆Ａコーナー「ラウンジ」でも過去に何度も何度も質問が出ているようなので、その方法を紹介しておきます。</p>
<a href="javascript:if(confirm('http://www.tohoho-web.com/lng/200003/99050122.htm  \n\nļ޷ Teleport Ultra , Ϊ , , Ŀֹͣ  \n\nڷϴ?'))window.location='http://www.tohoho-web.com/lng/200003/99050122.htm'" tppabs="http://www.tohoho-web.com/lng/200003/00030069.htm">http://www.tohoho-web.com/lng/200003/00030069.htm</a>
</div>

<h4>アイコンを作成する</h4>
<div class=i>
<p>まずは、アイコンファイルを作成する必要があります。アイコンファイルは、通常のビットマップファイル（*.bmp）の拡張子を *.ico に変更するだけでよい場合もありますが、「お気に入り」の場合は、ちゃんと *.ico をサポートしたお絵描きソフトで作成してやる必要があります。</p>
<p>自分の好きなデザインのアイコンを作成して、<b>favicon.ico</b> という名前で保存してください。favicon は favorite icon（お気に入り(用の)アイコン）という意味でしょう。</p>
</div>

<h4>アイコンをアップロードする</h4>
<div class=i>
<p>例えば、http://x.y.com/aaa/bbb.html というページが「お気に入り」に追加された場合、http://x.y.com/aaa/favicon.ico というアイコンファイルが読み出されて、メニューに追加されます。bbb.html ファイルと同じフォルダに、作成した favicon.ico を用意しておけば、準備完了です。</p>
</div>

<h4>別のフォルダのアイコンを指定するには</h4>
<div class=i>
<p>HTML文書の&lt;head&gt;～&lt;/head&gt;の間に、下記のような1行をいれておけば、アイコンファイルのURLを指定することができます。</p>
<pre class=c>
&lt;link rel="SHORTCUT ICON" href="http://なんとか/favicon.ico"&gt;
</pre>
</div>

<h4>キャッシュに注意</h4>
<div class=i>
<p>アイコンファイルを更新してアップロードしたのに、反映されないケースが多いようです。おそらく、ブラウザのキャッシュに古いイメージが残っているためだと思われますが、これがなかなか消えてくれないようです。以下のいくつかを試してみてください。</p>
<ul>
<li>Windowsフォルダの下の Temporary Internet Files フォルダの中にあるアイコンファイルを手作業で消す。</li>
<li>Windows 95/98の場合は、一度SAFEモードで起動し直す。（マシン起動時にF4を押しておくんでしたっけ）</li>
<li>数日待つ。</li>
</ul>
<p>以上のことを行っても、うまく反映されないことが多々あるようです。（Internet Explorerのバグなのでしょうか）</p>
<p>それでも駄目な場合は、何らかの方法でアイコンファイルを別途入手しておき、[お気に入り]-[お気に入りの整理]で、該当のリンクをマウスの右クリックから[プロパティ]を選び、[Webドキュメント]-[アイコンの変更]で好みのアイコンに変更する方法もあるそうです。（ただし、そのリンクを他の人が「お気に入り」に入れたときに、そのアイコンになるとは限りません。） (2000.6.20追記)</p>
<p>このアイコンキャッシュの問題は、ブラウザのキャッシュではなく、Windows の OS 自体が行っているアイコンキャッシュにも原因がありそうだという情報をいただきました。Windows フォルダ（C:\Windows など）の中の ShellIconCache ファイルを削除したり、Microsoft が配布している「Tweak UI」（「Power Toys」に含まれている？）の機能を用いたりすることで、アイコンキャッシュをクリアすることができるそうです。(2001.2.25追記)</p>
<p>下記のような JavaScript を &lt;link rel="..."&gt; の前に記述して、アイコンのキャッシュを強制的にフラッシュするとよいという情報もいただきました。(2002.9.29追記)</p>
<pre class=c>
&lt;script&gt;
image = new Image();
image.src = "favicon.ico";
&lt;/script&gt;
</pre>
</div>

<h4>参考</h4>
<div class=i>
<a href="javascript:if(confirm('http://support.microsoft.com/2.5.13  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://support.microsoft.com/2.5.13'" tppabs="http://support.microsoft.com/default.aspx?scid=kb;ja;JP415022" target="_top">http://support.microsoft.com/default.aspx?scid=kb;ja;JP415022</a>
</div>

<hr>
<div>Copyright (C) 1999-2002 杜甫々</div>
<div>初版：2002年11月21日、最終更新：2002年9月29日</div>
<div>http://www.tohoho-web.com/wwwxx031.htm</div>
</body>
</html>
