<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>日付（Date） - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>

<h2>日付（Date）</h2>
<a href="index.htm" tppabs="http://www.tohoho-web.com/js/index.htm">[up]</a>
<a href="math.htm" tppabs="http://www.tohoho-web.com/js/math.htm">[prev]</a>
<a href="function.htm" tppabs="http://www.tohoho-web.com/js/function.htm">[next]</a>

<h4>一覧</h4>
<div class=i>
<a href="#newDate">Date()</a>,
<a href="#getDate">getDate()</a>,
<a href="#getDay">getDay()</a>,
<a href="#getFullYear">getFullYear()</a>,
<a href="#getHours">getHours()</a>,
<a href="#getMilliseconds">getMilliseconds()</a>,
<a href="#getMinutes">getMinutes()</a>,
<a href="#getMonth">getMonth()</a>,
<a href="#getSeconds">getSeconds()</a>,
<a href="#getTime">getTime()</a>,
<a href="#getTimezoneOffset">getTimezoneOffset()</a>,
<a href="#getUTCDate">getUTCDate()</a>,
<a href="#getUTCDay">getUTCDay()</a>,
<a href="#getUTCFullYear">getUTCFullYear()</a>,
<a href="#getUTCHours">getUTCHours()</a>,
<a href="#getUTCMilliseconds">getUTCMilliseconds()</a>,
<a href="#getUTCMinutes">getUTCMinutes()</a>,
<a href="#getUTCMonth">getUTCMonth()</a>,
<a href="#getUTCSeconds">getUTCSeconds()</a>,
<a href="#getUTCYear">getUTCYear()</a>,
<a href="#getYear">getYear()</a>,
<a href="#now">now()</a>,
<a href="#parse">parse()</a>,
<a href="#setDate">setDate()</a>,
<a href="#setFullYear">setFullYear()</a>,
<a href="#setHours">setHours()</a>,
<a href="#setMilliseconds">setMilliseconds()</a>,
<a href="#setMinutes">setMinutes()</a>,
<a href="#setMonth">setMonth()</a>,
<a href="#setSeconds">setSeconds()</a>,
<a href="#setTime">setTime()</a>,
<a href="#setUTCDate">setUTCDate()</a>,
<a href="#setUTCFullYear">setUTCFullYear()</a>,
<a href="#setUTCHours">setUTCHours()</a>,
<a href="#setUTCMilliseconds">setUTCMilliseconds()</a>,
<a href="#setUTCMinutes">setUTCMinutes()</a>,
<a href="#setUTCMonth">setUTCMonth()</a>,
<a href="#setUTCSeconds">setUTCSeconds()</a>,
<a href="#setUTCYear">setUTCYear()</a>,
<a href="#setyear">setYear()</a>,
<a href="#toDateString">toDateString()</a>,
<a href="#toGMTString">toGMTString()</a>,
<a href="#toISOString">toISOString()</a>,
<a href="#toJSON">toJSON()</a>,
<a href="#toLocaleString">toLocaleString()</a>,
<a href="#toLocaleDateString">toLocaleDateString()</a>,
<a href="#toLoctoLocaleTimeStringaleString">toLocaleTimeString()</a>,
<a href="#toString">toString()</a>,
<a href="#toTimeString">toTimeString()</a>,
<a href="#toUTCString">toUTCString()</a>,
<a href="#UTC">Date.UTC()</a>
</div>

<h4 id="Date">日付オブジェクト</h4>

<h5 id="newDate">◆ <i>date</i> = new Date(<span class="nb"><i>yead</i>, <i>month</i>[, <i>day</i>[, <i>hour</i>[, <i>min</i>[, <i>sec</i>[, <i>msec</i>]]]]]</span>)</h5>
<h5>◆ <i>date</i> = new Date(<i>time</i>)</h5>
<h5>◆ <i>date</i> = new Date(<i>str</i>)</h5>
<h5>◆ <i>date</i> = new Date()</h5>
<div class=i>
<p>指定した日時を表す日付オブジェクトを生成します。月は 0～11 の範囲で指定してください。<i>msec</i> は JavaScript 1.3 から利用できます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
date = new Date(1999, 11);                        <span class="cm">// =&gt; 1999-12-01 00:00:00.000</span>
date = new Date(1999, 11, 31);                    <span class="cm">// =&gt; 1999-12-31 00:00:00.000</span>
date = new Date(1999, 11, 31, 23);                <span class="cm">// =&gt; 1999-12-31 23:00:00.000</span>
date = new Date(1999, 11, 31, 23, 59);            <span class="cm">// =&gt; 1999-12-31 23:59:00.000</span>
date = new Date(1999, 11, 31, 23, 59, 59);        <span class="cm">// =&gt; 1999-12-31 23:59:59.000</span>
date = new Date(1999, 11, 31, 23, 59, 59, 999);   <span class="cm">// =&gt; 1999-12-31 23:59:59.999</span>
</pre>
<p><i>time</i> には、1970-01-01 00:00:00(UTC)からの秒数(ミリ秒単位)を指定します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
date = new Date(946652399000);
</pre>
<p>文字列 <i>str</i> を指定することも可能です。フォーマットは、RFC 2822 や ISO 8601 などを参考にしていますが、ブラウザやバージョンや地域設定により解釈可能なフォーマットが異なります。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
date = new Date("Fri, Dec 03, 1999 23:59:59 +0900");  <span class="cm">// RFC 2822</span>
date = new Date("Dec 3, 1999 23:59");                 <span class="cm">// RFC 2822</span>
date = new Date("1999-12-31T23:59:59+0900");          <span class="cm">// ISO 8601</span>
date = new Date("1999-12-31T23:59:59");               <span class="cm">// ISO 8601</span>
date = new Date("1999/12/31 23:59:59");
date = new Date("12/31/1999 23:59:59");
date = new Date("99/12/31 23:59:59");
date = new Date("12/31/99 23:59:59");
</pre>
<p>日時を省略した場合は現在の日時となります。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
date = new Date();
</pre>
</div>

Mon, 31 Jan 2019 00:00:00 +0900



<h4 id="getset">日付情報の取得と設定</h4>

<h5 id="getYear">◆ <i>date</i>.getYear() <span class="nb">[非推奨]</span></h5>
<h5 id="getFullYear">◆ <i>date</i>.getFullYear()</h5>
<h5 id="getMonth">◆ <i>date</i>.getMonth()</h5>
<h5 id="getDate">◆ <i>date</i>.getDate()</h5>
<h5 id="getDay">◆ <i>date</i>.getDay()</h5>
<h5 id="getHours">◆ <i>date</i>.getHours()</h5>
<h5 id="getMinutes">◆ <i>date</i>.getMinutes()</h5>
<h5 id="getSeconds">◆ <i>date</i>.getSeconds()</h5>
<h5 id="getMilliseconds">◆ <i>date</i>.getMilliseconds()</h5>
<div class=i>
<p>現地時刻で、年、月、日、曜日、時、分、秒、ミリ秒を取得します。曜日は日曜日(0)～土曜日(6)までの値。月は 1月を 0 と数え、1月(0)～12月(11) の数値を返します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
var str = date.getFullYear()
    + '/' + ('0' + (date.getMonth() + 1)).slice(-2)
    + '/' + ('0' + date.getDate()).slice(-2)
    + ' ' + ('0' + date.getHours()).slice(-2)
    + ':' + ('0' + date.getMinutes()).slice(-2)
    + ':' + ('0' + date.getSeconds()).slice(-2)
    + '(JST)';
console.log(str);                               <span class="cm">// =&gt; 2019/03/03 13:08:52(JST)</span>
</pre>
<p>getYear() は、ブラウザやバージョンにより、1999年からの差分または 4桁の西暦を返すなど動作がまちまちなので、代わりに getFullYear() を使用してください。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date(2019, 12, 31, 23, 59, 59);
date.getYear();          <span class="cm">// ブラウザやバージョンにより 119 だったり 2019 だったり</span>
</pre>
</div>

<h5 id="setyear">◆ <i>date</i>.setYear(<i>year</i>) <span class="nb">[非推奨]</span></h5>
<h5 id="setFullYear">◆ <i>date</i>.setFullYear(<i>year</i>)</h5>
<h5 id="setMonth">◆ <i>date</i>.setMonth(<i>mon</i>)</h5>
<h5 id="setDate">◆ <i>date</i>.setDate(<i>date</i>)</h5>
<h5 id="setHours">◆ <i>date</i>.setHours(<i>hour</i>)</h5>
<h5 id="setMinutes">◆ <i>date</i>.setMinutes(<i>min</i>)</h5>
<h5 id="setSeconds">◆ <i>date</i>.setSeconds(<i>sec</i>)</h5>
<h5 id="setMilliseconds">◆ <i>date</i>.setMilliseconds(<i>msec</i>)</h5>
<div class=i>
<p>現地時刻で、年、月、日、時、分、秒、ミリ秒を <i>date</i> に設定します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.setFullYear(1999);
date.setMonth(11);
date.setDate(31);
date.setHours(23);
date.setMinutes(59);
date.setSeconds(59);
date.setMilliseconds(0);
console.log(date);                                <span class="cm">// =&gt; 1999/12/31 23:59:59(JST)</span>
</pre>
</div>

<h5 id="getUTCYear">◆ <i>date</i>.getUTCYear() <span class="nb">[非推奨]</span></h5>
<h5 id="getUTCFullYear">◆ <i>date</i>.getUTCFullYear()</h5>
<h5 id="getUTCMonth">◆ <i>date</i>.getUTCMonth()</h5>
<h5 id="getUTCDate">◆ <i>date</i>.getUTCDate()</h5>
<h5 id="getUTCDay">◆ <i>date</i>.getUTCDay()</h5>
<h5 id="getUTCHours">◆ <i>date</i>.getUTCHours()</h5>
<h5 id="getUTCMinutes">◆ <i>date</i>.getUTCMinutes()</h5>
<h5 id="getUTCSeconds">◆ <i>date</i>.getUTCSeconds()</h5>
<h5 id="getUTCMilliseconds">◆ <i>date</i>.getUTCMilliseconds()</h5>
<div class=i>
<p>世界標準時(UTC)で、年、月、日、曜日、時、分、秒、ミリ秒を取得します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
var str = date.getUTCFullYear()
    + '/' + ('0' + (date.getUTCMonth() + 1)).slice(-2)
    + '/' + ('0' + date.getUTCDate()).slice(-2)
    + ' ' + ('0' + date.getUTCHours()).slice(-2)
    + ':' + ('0' + date.getUTCMinutes()).slice(-2)
    + ':' + ('0' + date.getUTCSeconds()).slice(-2)
    + '(UTC)';
console.log(str);                               <span class="cm">// =&gt; 2019/03/03 04:08:52(UTC)</span>
</pre>
</div>

<h5 id="setUTCYear">◆ <i>date</i>.setUTCYear(<i>year</i>) <span class="nb">[非推奨]</span></h5>
<h5 id="setUTCFullYear">◆ <i>date</i>.setUTCFullYear(<i>year</i>)</h5>
<h5 id="setUTCMonth">◆ <i>date</i>.setUTCMonth(<i>month</i>)</h5>
<h5 id="setUTCDate">◆ <i>date</i>.setUTCDate(<i>date</i>)</h5>
<h5 id="setUTCHours">◆ <i>date</i>.setUTCHours(<i>hour</i>)</h5>
<h5 id="setUTCMinutes">◆ <i>date</i>.setUTCMinutes(<i>min</i>)</h5>
<h5 id="setUTCSeconds">◆ <i>date</i>.setUTCSeconds(<i>sec</i>)</h5>
<h5 id="setUTCMilliseconds">◆ <i>date</i>.setUTCMilliseconds(<i>msec</i>)</h5>
<div class=i>
<p>世界標準時(UTC)で、年、月、日、曜日、時、分、秒、ミリ秒を <i>date</i> に設定します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.setUTCFullYear(1999);
date.setUTCMonth(11);
date.setUTCDate(31);
date.setUTCHours(23);
date.setUTCMinutes(59);
date.setUTCSeconds(59);
date.setUTCMilliseconds(0);
console.log(date);              <span class="cm">// =&gt; Sat Jan 01 2000 08:59:59 GMT+0900 (日本標準時)</span>
</pre>
</div>

<h5 id="getTimezoneOffset">◆ <i>date</i>.getTimezoneOffset()</h5>
<div class=i>
<p>UTC との現地時間の差分(分単位)を取得します。日本の場合は -9時間(-540分)となります。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.getTimezoneOffset();                  <span class="cm">// =&gt; -540</span>
</pre>
</div>

<h4 id="tostr">文字列への変換</h4>

<h5 id="toString">◆ <i>date</i>.toString()</h5>
<h5 id="toUTCString">◆ <i>date</i>.toUTCString()</h5>
<h5 id="toGMTString">◆ <i>date</i>.toGMTString() <span class="nb">[非推奨]</span></h5>
<div class=i>
<p>日時を表す文字列に変換します。toString()、toLocaleString() は現地時刻、toUTCString() や toGMTString() は世界標準時(UTC)に変換します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.toString();                    <span class="cm">// =&gt; Wed Feb 27 2019 01:04:04 GMT+0900 (日本標準時)</span>
date.toGMTString();                 <span class="cm">// =&gt; Tue, 26 Feb 2019 16:04:04 GMT</span>
date.toUTCString();                 <span class="cm">// =&gt; Tue, 26 Feb 2019 16:04:04 GMT</span>
</pre>
<p>フォーマットはブラウザやバージョンや地域設定によって様々に異なります。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
12/31/00 23:59:59                   <span class="cm">// Ineternet Explorer 3</span>
12/31/2000 23:59:59                 <span class="cm">// Ineternet Explorer 4-?</span>
2000/12/31 23:59:59                 <span class="cm">// Ineternet Explorer ?-11(JST)</span>
12/31/00 23:59:59                   <span class="cm">// Netscape Navigator -4.05(win)</span>
Sunday, December 31, 2000 23:59:59  <span class="cm">// Netscape Navigator 4.7(Win)</span>
Dec 31 23:59:59 2000                <span class="cm">// Netscape Navigator 4.7(mac)</span>
Sun 31 Dec 2000 11:59:59 PM JST     <span class="cm">// Netscape Navigator 4.7(UNIX)</span>
</pre>
</div>

<h5 id="toLocaleString">◆ <i>date</i>.toLocaleString(<span class="nb">[<i>locale</i>]</span>)</h5>
<div class=i>
<p>toLocaleString() では、下記の様に各国に応じたフォーマットに変換することができます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.toLocaleString("ja");           <span class="cm">// =&gt; 2019/2/28 23:59:59 ... 日本</span>
date.toLocaleString("zh-cn");        <span class="cm">// =&gt; 2019/2/28 下午11:59:59 ... 中国</span>
date.toLocaleString("ko");           <span class="cm">// =&gt; 2019. 2. 28. 오후 11:41:52 ... 韓国</span>
date.toLocaleString("en");           <span class="cm">// =&gt; 2/28/2019, 11:41:52 PM ... 米国</span>
date.toLocaleString("fr");           <span class="cm">// =&gt; 28/02/2019 à 23:41:52 ... フランス</span>
date.toLocaleString("de");           <span class="cm">// =&gt; 28.2.2019, 23:41:52 ... ドイツ</span>
</pre>
</div>

<h5 id="toDateString">◆ <i>date</i>.toDateString()</h5>
<h5 id="toTimeString">◆ <i>date</i>.toTimeString()</h5>
<h5 id="toLocaleDateString">◆ <i>date</i>.toLocaleDateString()</h5>
<h5 id="toLocaleTimeString">◆ <i>date</i>.toLocaleTimeString()</h5>
<div class=i>
<p>toDateString(), toLocaleDateString() は <i>date</i> の日付のみを文字列に変換します。toTimeString(), toLocaleTimeString() は <i>date</i> の時刻のみを文字列に変換します。toDateString(), toTimeString() は UTC、toLocaleDateString(), toLocaleTimeString() は現地時刻で返します。フォーマットはブラウザやバージョンや地域設定によって様々に異なります。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.toDateString()                 <span class="cm">// =&gt; Sat Mar 02 2019</span>
date.toTimeString()                 <span class="cm">// =&gt; 09:42:16 GMT+0900 (日本標準時)</span>
date.toLocaleDateString()           <span class="cm">// =&gt; 2019/3/2</span>
date.toLocaleTimeString()           <span class="cm">// =&gt; 9:42:16</span>
</pre>
</div>

<h5 id="toISOString">◆ <i>date</i>.toISOString()</h5>
<div class=i>
<p><i>date</i> の日時を UTC として ISO 8601 に基づいたフォーマット YYYY-MM-DDThh:mm:ss.uuuZ で返します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.toISOString()                  <span class="cm">// =&gt; 2019-03-02T00:42:16.000Z</span>
</pre>
</div>

<h5 id="toJSON">◆ <i>date</i>.toJSON()</h5>
<div class=i>
<p>toISOString() とほぼ同様の結果を返します。JSON.stringify() でオブジェクトを JSON 文字列に変換する際に内部的に呼ばれます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date();
date.toJSON()                       <span class="cm">// =&gt; 2019-03-02T00:42:16.000Z</span>
</pre>
</div>

<h4 id="tonum">数値への変換</h4>

<h5 id="getTime">◆ <i>date</i>.getTime()</h5>
<div class=i>
<p><i>date</i> で与えられた日時を、1970-01-01 00:00:00(UTC)からの秒数(ミリ秒単位)で取得します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date('1999/12/31 23:59:59');
date.getTime();                                <span class="cm">// =&gt; 946652399000</span>
</pre>
</div>

<h5 id="setTime">◆ <i>date</i>.setTime(<i>time</i>)</h5>
<div class=i>
<p><i>time</i> を 1970-01-01 00:00:00(UTC)からの秒数(ミリ秒単位)とみなし、<i>date</i> に設定します。下記の例では、date よりも24時間後の日時を date に設定しています。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var date = new Date('1999/12/31 23:59:59');
var time = date.getTime();
time += 24 * 60 * 60 * 1000;
date.setTime(time);                            <span class="cm">// =&gt; 2000/01/01 23:59:59</span>
</pre>
</div>

<h5 id="now">◆ Date.now()</h5>
<div class=i>
<p>現在の日時を、1970-01-01 00:00:00(UTC)からの秒数(ミリ秒単位)で取得します。Fingerprint 攻撃を避けるために、Firefox では数ミリ秒誤差のある数値を返します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
Date.now()                                     <span class="cm">// =&gt; 1551189569670</span>
</pre>
</div>

<h5 id="parse">◆ Date.parse(<i>string</i>)</h5>
<div class=i>
<p><i>string</i> を現地時間の文字列と解釈して得られた日時を、1970-01-01 00:00:00(UTC)からの秒数(ミリ秒単位)で取得します。<i>string</i> の形式は new Date(<i>string</i>) と同じです。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
Date.parse('1999/12/31 23:59:59')              <span class="cm">// =&gt; 946652399000</span>
</pre>
</div>

<h5 id="UTC">◆ Date.UTC(<span class="nb"><i>year</i>, <i>mon</i>[, <i>day</i>[, <i>hour</i>[, <i>min</i>[, <i>sec</i>[, <i>msec</i>]]]]]</span>)</h5>
<div class=i>
<p>引数で指定した日時の、1970-01-01 00:00:00(UTC)からの秒数(ミリ秒単位)を取得します。引数は UTC で指定します。<i>mon</i> は 0～11で指定します。<i>msec</i> は JavaScript 1.3 から指定可能です。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
Date.UTC(1999, 11, 31, 23, 59, 59)             <span class="cm">// =&gt; 946684799000</span>
</pre>
</div>

<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/js/index.htm">[up]</a>
<a href="math.htm" tppabs="http://www.tohoho-web.com/js/math.htm">[prev]</a>
<a href="function.htm" tppabs="http://www.tohoho-web.com/js/function.htm">[next]</a>
<div>Copyright (C) 1996-2019 杜甫々</div>
<div>改訂版初版：2001年5月20日、最終更新：2019年3月3日</div>
<div>http://www.tohoho-web.com/js/date.htm</div>
</body>
</html>
