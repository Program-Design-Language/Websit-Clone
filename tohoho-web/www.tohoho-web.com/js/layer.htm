<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>レイヤ（Layer） - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>

<h2>レイヤ（Layer）</h2>
<a href="index.htm" tppabs="http://www.tohoho-web.com/js/index.htm">[up]</a>
<a href="event.htm" tppabs="http://www.tohoho-web.com/js/event.htm">[prev]</a>
<a href="image.htm" tppabs="http://www.tohoho-web.com/js/image.htm">[next]</a>

<h4>一覧</h4>
<div class=i>
<a href="#above">above</a>,
<a href="#background">background</a>,
<a href="#below">below</a>,
<a href="#bgColor">bgColor</a>,
<a href="#clipBottom">bottom</a>,
<a href="#captureEvent">captureEvents()</a>,
<a href="#document">document</a>,
<a href="#handleEvent">handleEvent()</a>,
<a href="#clipHeight">height</a>,
<a href="#layers">layers</a>,
<a href="#left">left</a>,
<a href="#clipLeft">left(clip)</a>,
<a href="#length">length</a>,
<a href="#load">load()</a>,
<a href="#moveAbove">moveAbove()</a>,
<a href="#moveBelow">moveBelow()</a>,
<a href="#moveBy">moveBy()</a>,
<a href="#moveTo">moveTo()</a>,
<a href="#moveToAbsolute">moveToAbsolute()</a>,
<a href="#name">name</a>,
<a href="#pageX">pageX</a>,
<a href="#pageY">pageY</a>,
<a href="#parentLayer">parentLayer</a>,
<a href="#releaseEvents">releaseEvents()</a>,
<a href="#resizeBy">resizeBy()</a>,
<a href="#resizeTo">resizeTo()</a>,
<a href="#routeEvent">routeEvent()</a>,
<a href="#clipRight">right</a>,
<a href="#siblingAbove">siblingAbove</a>,
<a href="#siblingBelow">siblingBelow</a>,
<a href="#src">src</a>,
<a href="#top">top</a>,
<a href="#clipTop">top(clip)</a>,
<a href="#visibility">visibility</a>,
<a href="#clipWidth">width</a>,
<a href="#zIndex">zIndex</a>
</div>

<h4 id="Layer">レイヤオブジェクト</h4>

<h5 id="layers">◆ <i>window</i>.document.layers</h5>
<h5 id="length">◆ <i>window</i>.document.layers.length</h5>
<h5 id="layer">◆ <i>window</i>.document.layers[<i>n</i>]</h5>
<h5 id="layer2">◆ <i>window</i>.document.layers[<i>name</i>]</h5>
<div class=i>
<p>layers はこのドキュメントに含まれるレイヤオブジェクトの配列、length はその個数を示します。個々のレイヤオブジェクトは layers[<i>n</i>] や layers[<i>name</i>] で参照します。レイヤは、Netscape Communicator 4.0 のダイナミック HTML 技術の中核として実装されていた機能です。&lt;layer&gt; や &lt;ilayer&gt; タグで囲まれたレイヤや、スタイルシートの position:absolute を指定した要素に関して、その位置や表示のオン・オフなどをダイナミックに変更することができます。Netscape 6 ではレイヤの機能は削除され、代わりに W3C 勧告の DOM（Document Object Model）がサポートされました。</p>
</div>

<h5 id="name">◆ <i>layer</i>.name</h5>
<div class=i>
<p>レイヤの名前。&lt;layer&gt; タグの名前（name）属性に相当します。</p>
</div>

<h4 id="Contents">レイヤの中身</h4>

<h5 id="src">◆ <i>layer</i>.src</h5>
<h5 id="background">◆ <i>layer</i>.background</h5>
<h5 id="bgColor">◆ <i>layer</i>.bgColor</h5>
<div class=i>
<p>src はレイヤの中身に表示する内容のアドレス、background は背景画像、bgColor は背景色を示します。&lt;layer&gt; タグの名前（name）、背景画像（background）、背景色（bgcolor）属性に対応します。</p>
</div>

<h5 id="document">◆ <i>layer</i>.document</h5>
<div class=i>
<p>レイヤの内部のドキュメントオブジェクト。しかし、レイヤに対して document.write() を用いると、ブラウザがダウンするなどいろいろ問題があるらしい。</p>
</div>

<h5 id="load">◆ <i>layer</i>.load(<i>src</i>, <i>width</i>)</h5>
<div class=i>
<p>レイヤの中身を書き換えます。</p>
</div>

<h4 id="Info">レイヤを隠す</h4>

<h5 id="visibility">◆ <i>layer</i>.visibility</h5>
<div class=i>
<p>&lt;layer&gt; タグの可視性（visibility）に対応する属性値。"hide" を設定することでこのレイヤを非表示状態に、"show" を設定することでこのレイヤを表示状態に変更することができます。</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;ilayer name="L1"&gt;こんにちわ!!&lt;/ilayer&gt;
&lt;form action="#"&gt;
&lt;input type="button" value="表示"
  onclick="document.layers["L1"].visibility = 'show'"&gt;
&lt;input type="button" value="非表示"
  onclick="document.layers["L1"].visibility = 'hide'"&gt;
&lt;/form&gt;
</pre>
</div>

<h5 id="clipTop">◆ <i>layer</i>.clip.top</h5>
<h5 id="clipBottom">◆ <i>layer</i>.clip.bottom</h5>
<h5 id="clipLeft">◆ <i>layer</i>.clip.left</h5>
<h5 id="clipRight">◆ <i>layer</i>.clip.right</h5>
<h5 id="clipHeight">◆ <i>layer</i>.clip.height</h5>
<h5 id="clipWidth">◆ <i>layer</i>.clip.width</h5>
<div class=i>
<p>レイヤの可視領域の位置とサイズを示します。&lt;layer&gt; タグの、clip 属性で指定する上端（top）、下端（bottom）、左端（left）、右端（right）、高さ（height）、幅（width）に相当します。</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;script&gt;
function func(img) {
  if (document.layers[img].clip.width &gt; 1) {
    document.layers[img].clip.width -= 5;
    window.setTimeout("func('" + img + "')", 10);
  }
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;ilayer name="L1" height=100 width=100 src="xx.gif"&gt;
&lt;/ilayer&gt;
&lt;form action="#"&gt;
&lt;input type="button" onclick="func('L1')"&gt;
&lt;/form&gt;
</pre>
</div>

<h4 id="Position">レイヤの位置と大きさ</h4>

<h5 id="top">◆ <i>layer</i>.top</h5>
<h5 id="left">◆ <i>layer</i>.left</h5>
<h5 id="pageX">◆ <i>layer</i>.pageX</h5>
<h5 id="pageY">◆ <i>layer</i>.pageY</h5>
<div class=i>
<p>top は上からの位置、left は左からの位置、pageX は上からの相対位置、pageY は左からの相対位置を示します。それぞれ、&lt;layer&gt; タグの top、left、page-x、page-y 属性に相当します。</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;テスト&lt;/title&gt;
&lt;script&gt;
function func() {
  document.layers["L1"].left++;
  setTimeout("func()", 100);
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="func()"&gt;
&lt;layer name="L1"&gt;こんにちわ&lt;/layer&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<h5 id="moveTo">◆ <i>layer</i>.moveTo(<i>x</i>, <i>y</i>)</h5>
<h5 id="moveBy">◆ <i>layer</i>.moveBy(<i>x</i>, <i>y</i>)</h5>
<h5 id="moveToAbsolute">◆ <i>layer</i>.moveToAbsolute(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>レイヤの位置を移動します。moveTo() は画面内の絶対座標、moveBy() は画面内の相対座標、moveToAbsolute() はスクリーン上の絶対座標に移動します。</p>
</div>

<h5 id="resizeTo">◆ <i>layer</i>.resizeTo(<i>x</i>, <i>y</i>)</h5>
<h5 id="resizeBy">◆ <i>layer</i>.resizeBy(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>レイヤの大きさを変更します。resizeTo() は絶対的に、resizeBy() は相対的にリサイズします。layer.width と layer.height が無いのは妙ですが、layer.clip.width と layer.clip.height で取得できるようです。</p>
</div>

<h4 id="Pile">レイヤの重なり制御</h4>

<h5 id="siblingAbove">◆ <i>layer</i>.siblingAbove</h5>
<h5 class="t0" id="siblingBelow">◆ <i>layer</i>.siblingBelow</h5>
<div class=i>
<p>siblingAbove はこのレイヤの上部（または下部）にあるレイヤオブジェクトを示します。</p>
</div>

<h5 id="above">◆ <i>layer</i>.above</h5>
<h5 id="below">◆ <i>layer</i>.below</h5>
<h5 id="zIndex">◆ <i>layer</i>.zIndex</h5>
<div class=i>
<p>above は上になるべきレイヤ、below は下になるべきレイヤ、zIndex は重なり順序を示します。それぞれ、&lt;layer&gt; タグの above、below、z-index 属性に相当します。</p>
</div>

<h5 id="moveAbove">◆ <i>layer</i>.moveAbove(<i>layer</i>)</h5>
<h5 id="moveBelow">◆ <i>layer</i>.moveBelow(<i>layer</i>)</h5>
<div class=i>
<p>このレイヤを <i>layer</i> で指定したレイヤオブジェクトの上（または下）に移動します。</p>
<div class="tab">HTML</div>
<pre class=c2>
&lt;layer bgcolor="#ff0000" top=100 left=100 height=100 width=100"
  onmouseover="this.moveAbove(this.siblingAbove)"&gt;&lt;/layer&gt;
&lt;layer bgcolor="#00ff00" top=120 left=120 height=100 width=100
  onmouseover="this.moveAbove(this.siblingAbove)"&gt;&lt;/layer&gt;
&lt;layer bgcolor="#0000ff" top=140 left=140 height=100 width=100
  onmouseover="this.moveAbove(this.siblingAbove)"&gt;&lt;/layer&gt;
</pre>
</div>

<h5 id="parentLayer">◆ <i>layer</i>.parentLayer</h5>
<div class=i>
<p>親レイヤオブジェクトを示します。</p>
</div>

<h4 id="Event">イベント</h4>

<h5 id="handleEvent">◆ <i>layer</i>.handleEvent(<i>event</i>)</h5>
<h5 id="captureEvent">◆ <i>layer</i>.captureEvents(<i>event</i>)</h5>
<h5 id="releaseEvents">◆ <i>layer</i>.releaseEvents(<i>event</i>)</h5>
<h5 id="routeEvent">◆ <i>layer</i>.routeEvent(<i>event</i>)</h5>
<div class=i>
<p>レイヤに関するイベントを処理します。</p>
</div>

<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/js/index.htm">[up]</a>
<a href="event.htm" tppabs="http://www.tohoho-web.com/js/event.htm">[prev]</a>
<a href="image.htm" tppabs="http://www.tohoho-web.com/js/image.htm">[next]</a>
<div>Copyright (C) 1996-2001 杜甫々</div>
<div>改訂版初版：2001年6月30日、最終更新：2001年7月29日</div>
<div>http://www.tohoho-web.com/js/layer.htm</div>
</body>
</html>
