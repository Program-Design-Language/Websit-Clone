<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>セット（Set） - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>

<h2>セット（Set）</h2>
<a href="index.htm" tppabs="http://www.tohoho-web.com/js/index.htm">[up]</a>
<a href="map.htm" tppabs="http://www.tohoho-web.com/js/map.htm">[prev]</a>
<a href="math.htm" tppabs="http://www.tohoho-web.com/js/math.htm">[next]</a>

<h4>一覧</h4>
<div class=i>
<a href="#Set">Set()</a>,
<a href="#add">add()</a>,
<a href="#clear">clear()</a>,
<a href="#delete">delete()</a>,
<a href="#entries">entries()</a>,
<a href="#forEach">forEach()</a>,
<a href="#has">has()</a>,
<a href="#keys">keys()</a>,
<a href="#size">size</a>,
<a href="#values">values()</a>
</div>

<h4 id="setObject">セット</h4>

<h5 id="newSet">◆ <i>set</i> = new Set([<i>iterable</i>])</h5>
<h5 id="set">◆ <i>set</i>.add(<i>value</i>)</h5>
<div class=i>
<p><a href="what.htm#version" tppabs="http://www.tohoho-web.com/js/what.htm#version">ES6(ES2015)</a> でサポートされたオブジェクトで、値のリストを保持します。Chrome 38, Firefox 13, Internet Explorer 11, Opera 25, Safari 7.1 以降で使用できます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var set = <em>new Set()</em>;
set.<em>add</em>("Tanaka");
set.<em>add</em>("Suzuki");
console.log(set);     <span class="cm">// "Tanaka", "Suzuki"</span>
</pre>
<p>同じ値を追加してもリストは増えません。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
set.add("Tanaka");
set.add(<em>"Suzuki"</em>);
set.add(<em>"Suzuki"</em>);
console.log(set);     <span class="cm">// "Tanaka", "Suzuki"</span>
</pre>
<p>コンストラクタには値の配列を指定できます。Internet Explorer と Safari ではサポートされていません。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var set = new Set(<em>["Tanaka", "Suzuki"]</em>);
</pre>
</div>

<h5 id="size">◆ <i>set</i>.size</h5>
<div class=i>
<p>リストの個数を返します。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var set = new Set();
set.add("Tanaka");
set.add("Suzuki");
set.<em>size</em>;                  <span class="cm">// =&gt; 2</span>
</pre>
</div>

<h5 id="has">◆ <i>set</i>.has(<i>value</i>)</h5>
<div class=i>
<p>has() を用いて、値が含まれているか確認することができます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var set = new Set()
set.add("Tanaka");
set.add("Suzuki");
if (set.<em>has(</em>"Tanaka"<em>)</em>) {
  console.log("Exist!");
}
</pre>
</div>

<h5 id="delete">◆ <i>set</i>.delete(<i>value</i>)</h5>
<h5 id="get">◆ <i>set</i>.clear()</h5>
<div class=i>
<p>delete() は指定した値を、clear() はすべての値をクリアします。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
var set = new Set();
set.add("Tanaka");
set.add("Suzuki");
set.<em>delete(</em>"Tanaka"<em>)</em>;
set.<em>clear()</em>;
</pre>
</div>

<h5 id="keys">◆ <i>set</i>.keys()</h5>
<h5 id="values">◆ <i>set</i>.values()</h5>
<h5 id="entries">◆ <i>set</i>.entries()</h5>
<div class=i>
<p>for ... of 文でキー・バリューのリストを扱うことができます。Internet Explorer と Opera ではサポートされていません。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
<em>for</em> (var value <em>of</em> set) {
  console.log(value);
}
</pre>
<p>keys(), value(), entries() も使用できますが、key にも value にも同じ値が格納されます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
for (var key of set.<em>keys()</em>) {
  console.log(key);
}
for (var value of set.<em>values()</em>) {
  console.log(value);
}
for (var [key, value] of set.<em>entries()</em>) {
  console.log(key, "=", value);
}
</pre>
</div>

<h5 id="forEach">◆ <i>set</i>.forEach(<i>function</i>[, <i>this</i>)</h5>
<div class=i>
<p>forEach 文でキー・バリューのリストを扱うことができます。こちらは、Internet Explorer でもサポートされていますが、Opera でサポートされていません。key も指定できますが、key と value に同じ値が格納されます。</p>
<div class="tab">JavaScript</div>
<pre class=c2>
set.<em>forEach(</em>function(<em>value</em>) {
  console.log(value);
})
set.forEach(function(value, <em>key</em>) {
  console.log(key, ":", value);
})
set.forEach(function(value, key, <em>set</em>) {
  console.log(key, value, set);
});
set.forEach(function(value, key) {
  console.log(key, value, <em>this</em>);
}, <em>set</em>);   <span class="cm">// setをthisとして引き渡す</span>
</pre>
</div>

<h4 id="weakset">弱参照セット(WeakSet)</h4>
<div class="i">
<p>WeakSet は WeakMap のセット版です。詳細は <a href="map.htm#weakmap" tppabs="http://www.tohoho-web.com/js/map.htm#weakmap">WeakMap</a> を参照してください。</p>
</div>

<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/js/index.htm">[up]</a>
<a href="map.htm" tppabs="http://www.tohoho-web.com/js/map.htm">[prev]</a>
<a href="math.htm" tppabs="http://www.tohoho-web.com/js/math.htm">[next]</a>
<div>Copyright (C) 2018-2019 杜甫々</div>
<div>初版：2018年1月21日、最終更新：2019年12月31日</div>
<div>http://www.tohoho-web.com/js/set.htm</div>
</body>
</html>
