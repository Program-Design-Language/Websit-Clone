<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>&lt;video&gt; - ビデオ - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>&lt;video&gt; - ビデオ</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">トップ</a> &gt;
<a href="index.htm" tppabs="http://www.tohoho-web.com/html/index.htm">HTMLリファレンス</a> &gt;
&lt;video&gt;

<h4>概要</h4>
<div class=i>
<dl class="htmlelem">
<dt><a href="memo/intro.htm#Form" tppabs="http://www.tohoho-web.com/html/memo/intro.htm#Form">形式</a></dt>
<dd>&lt;video&gt;～&lt;/video&gt;</dd>
<dt><a href="memo/intro.htm#Support" tppabs="http://www.tohoho-web.com/html/memo/intro.htm#Support">サポート</a></dt>
<dd><em>LS</em> / H5 / e9 / Ch1 / Fx3.5 / Sa3.1 / Op10.5</dd>
<dt><a href="memo/html5.htm#category" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#category">カテゴリ</a></dt>
<dd><a href="memo/html5.htm#flow" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#flow">フローコンテンツ</a></dd>
<dd><a href="memo/html5.htm#phrasing" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#phrasing">フレージングコンテンツ</a></dd>
<dd><a href="memo/html5.htm#embedded" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#embedded">エンベデッドコンテンツ</a></dd>
<dd><a href="memo/html5.htm#interactive" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#interactive">インタラクティブコンテンツ</a> (controls 属性を持つ場合)</dd>
<dd><a href="memo/html5.htm#palpable" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#palpable">パルパブルコンテンツ</a></dd>
<dt><a href="memo/html5.htm#category" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#category">親要素</a></dt>
<dd><a href="memo/html5.htm#embedded" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#embedded">エンベデッドコンテンツ</a> を子要素に持てるもの</dd>
<dt><a href="memo/html5.htm#category" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#category">子要素</a></dt>
<dd>src 属性がある場合: 0個以上の <a href="track.htm" tppabs="http://www.tohoho-web.com/html/track.htm">track</a> 要素と、それに続く <a href="memo/html5.htm#transparent" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#transparent">トランスペアレント要素</a>。ただし、メディア要素を子孫に持つことはできない。</dd>
<dd>src 属性がない場合: 0個以上の <a href="source.htm" tppabs="http://www.tohoho-web.com/html/source.htm">source</a> 要素と、それに続く <a href="track.htm" tppabs="http://www.tohoho-web.com/html/track.htm">track</a> 要素と、それに続く <a href="memo/html5.htm#transparent" tppabs="http://www.tohoho-web.com/html/memo/html5.htm#transparent">トランスペアレント要素</a>。ただし、メディア要素を子孫に持つことはできない。</dd>
<dt><a href="memo/intro.htm#Optional" tppabs="http://www.tohoho-web.com/html/memo/intro.htm#Optional">タグの省略</a></dt>
<dd>開始タグ:必須 / 終了タグ:必須</dd>
<dt><a href="memo/attr.htm" tppabs="http://www.tohoho-web.com/html/memo/attr.htm">属性</a></dt>
<dd><a href="attr/globals.htm" tppabs="http://www.tohoho-web.com/html/attr/globals.htm">グローバル属性</a></dd>
<dd><a href="#src">src</a></dd>
<dd><a href="#crossorigin">crossorigin</a></dd>
<dd><a href="#poster">poster</a></dd>
<dd><a href="#preload">preload</a></dd>
<dd><a href="#autoplay">autoplay</a></dd>
<dd><a href="#playsinline">playsinline</a> (HTML Living Standard)</dd>
<dd><a href="#loop">loop</a></dd>
<dd><a href="#muted">muted</a></dd>
<dd><a href="#controls">controls</a></dd>
<dd><a href="#width">width</a></dd>
<dd><a href="#height">height</a></dd>
</dl>
</div>

<h4>説明</h4>
<div class=i>
<p>ビデオファイルを再生します。</p>
<p>&lt;video&gt;～&lt;/video&gt; の間には、video未対応のブラウザに表示するメッセージを記述することができます。</p>
<p>ブラウザによってサポートするコーデックやフォーマットが異なるため、<a href="source.htm" tppabs="http://www.tohoho-web.com/html/source.htm">&lt;source&gt;</a> を用いて複数のフォーマットを指定することも可能です。</p>
</div>

<h4>属性</h4>
<div class=i>
<dl class="htmlattr">
<dt><a href="attr/globals.htm" tppabs="http://www.tohoho-web.com/html/attr/globals.htm">グローバル属性</a></dt>
<dd>詳細は <a href="attr/globals.htm" tppabs="http://www.tohoho-web.com/html/attr/globals.htm">グローバル属性</a> を参照してください。</dd>
<dt id="autoplay">autoplay</dt>
<dd><em>LS</em>/H5</dd>
<dd>自動的に再生を開始します。</dd>
<dt id="controls">controls</dt>
<dd><em>LS</em>/H5</dd>
<dd>コントローラを表示します。</dd>
<dt id="loop">loop</dt>
<dd><em>LS</em>/H5</dd>
<dd>ループ再生します。</dd>
<dt id="preload">preload=<i>value</i></dt>
<dd><em>LS</em>/H5</dd>
<dd>ページ表示時にメディアリソースを事前ロードするか指定します。指定に従うかどうかはブラウザの実装にまかされます。<br>
  <dl class="htmlvalue">
  <dt>auto</dt><dd>事前ロードする</dd>
  <dt>none</dt><dd>事前ロードしない</dd>
  <dt>metadata</dt><dd>メタデータのみを事前ロードする</dd>
  </dl>
autoplayが指定された場合は無視されます。</dd>
<dt id="playsinline">playsinline</dt>
<dd><em>LS</em></dd>
<dd>ビデオを要素のプレイバック領域にインラインで表示します。</dd>
<dt id="src">src=<i>url</i></dt>
<dd><em>LS</em>/H5</dd>
<dd>メディアリソースのURLを指定します。</dd>
<dt id="height">height=<i>n</i></dt>
<dd><em>LS</em>/H5</dd>
<dd>高さを指定します。</dd>
<dt id="width">width=<i>n</i></dt>
<dd><em>LS</em>/H5</dd>
<dd>横幅を指定します。</dd>
<dt id="poster">poster=<i>url</i></dt>
<dd><em>LS</em>/H5</dd>
<dd>ブラウザが表示可能な形式のビデオが無い場合に表示する画像ファイルのURLを指定します。</dd>
<dt id="muted">muted</dt>
<dd><em>LS</em>/H5</dd>
<dd>音をミュートします。</dd>
<dt id="crossorigin">crossorigin=<i>state</i></dt>
<dd><em>LS</em>/H5</dd>
<dd>CORS(Cross-Origin Resource Sharing)で使用される属性で、他のサイトのリソースにアクセスする際に、認証情報を使用するかどうかを指定します。<br>
  <dl class="htmlvalue">
  <dt>anonymous</dt><dd>認証情報を使用しない</dd>
  <dt>use-credintials</dt><dd>認証情報を使用する</dd>
  </dl>
</dd>
<dt>mediagroup=<i>name</i></dt>
<dd><em>[非推奨]</em> H5-5</dd>
<dd>複数のメディアリソースをグルーピングする際のグループ名を指定します。HTML5 で定義されていましたが、HTML 5.1 で廃止されました。</dd>
</dl>
</div>

<h4>使用例</h4>
<div class=i>
<div class="title-tab">HTML</div>
<pre class="c2">
<em>&lt;video src="sample.mp4" autoplay loop&gt;</em>
  &lt;p&gt;このブラウザは video に未対応です。&lt;/p&gt;
<em>&lt;/video&gt;</em>
</pre>
<p>MP4 に対応していないブラウザのために、WBEM 形式の動画も指定するには下記の様に記述します。</p>
<div class="title-tab">HTML</div>
<pre class="c2">
<em>&lt;video autoplay loop&gt;</em>
  &lt;source src="sample.mp4" type="video/mp4"&gt;
  &lt;source src="sample.webm" type="video/webm"&gt;
  &lt;p&gt;このブラウザは video に未対応です。&lt;/p&gt;
<em>&lt;/video&gt;</em>
</pre>
</div>

<h4>フォーマット</h4>
<div class=i>
<p>よく利用されるのは MPEG-4(*.mp4, *.m4v) と WEBM(*.webm) です。</p>
<table class="tb1">
<tr><th></th><th>IE</th><th>Chrome</th><th>Firefox</th><th>Safari</th><th>Opera</th></tr>
<tr><th>MPEG-4</th><td>9～</td><td>31～</td><td>38～</td><td>8～</td><td>31～</td></tr>
<tr><th>WEBM</th><td>未対応</td><td>31～</td><td>38～</td><td>未対応</td><td>31～</td></tr>
</table>
</div>

<h4>IE8対応</h4>
<div class=i>
<p>下記のライブラリを読み込むことで、IE8 を &lt;video&gt; タグに対応させることが可能です。</p>
<div class="title-tab">HTML</div>
<pre class="c2">
&lt;!--[if lt IE 9]&gt;
&lt;script src="http://api.html5media.info/1.1.8/html5media.min.js"&gt;&lt;/script&gt;
&lt;![endif]--&gt;
</pre>
</div>

<h4>メソッド</h4>
<div class=i>
<p>JavaScript から動画を一時停止、再開することができます。</p>
<div class="title-tab">HTML</div>
<pre class="c2">
&lt;script&gt;
function playVideo() {
    document.getElementById('v1').<em>play()</em>;
}
function pauseVideo() {
    document.getElementById('v1').<em>pause()</em>;
}
&lt;/script&gt;
&lt;video id="v1" autoplay loop&gt;
  &lt;source src="sample.mp4" type="video/mp4"&gt;
  &lt;source src="sample.webm" type="video/webm"&gt;
&lt;/video&gt;
&lt;input type="button" onclick="playVideo()" value="PLAY"&gt;
&lt;input type="button" onclick="pauseVideo()" value="PAUSE"&gt;
</pre>
<table class="tb1">
<tr><th>イベント名</th><th>説明</th></tr>
<tr><td><b>play()</b></td><td>再生する。</td></tr>
<tr><td><b>pause()</b></td><td>一時停止する。</td></tr>
<tr><td><b>load()</b></td><td>src プロパティで指定したリソースをロードする。</td></tr>
<tr><td><b>canPlayType(<i>type</i>)</b></td><td>再生可能な形式か調べる。<i>type</i> には 'video/mp4; codecs="avc1.42E01E"' などを指定する。空文字列、"maybe", "probably" のいずれかが返される。</td></tr>
<tr><td><b>addTextTrack(<i>king</i>[<i>, label</i>[<i>, language</i>]])</b></td><td>テキストトラックを追加する。</td></tr>
</table>
</div>

<h4>イベント</h4>
<div class=i>
<p>下記の様にして、動画が再生された時、一時停止された時、終了した時などにイベントハンドラを呼び出すことができます。</p>
<div class="title-tab">HTML</div>
<pre class="c2">
&lt;script src="https://code.jquery.com/jquery-1.11.3.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(function() {
    var video = document.getElementById('v1');
    video.addEventListener("<em>play</em>", function() {
        alert("play");
    });
    video.addEventListener("<em>pause</em>", function() {
        alert("pause");
    });
    video.addEventListener("<em>ended</em>", function() {
        alert("ended");
    });
});
&lt;/script&gt;
</pre>
<table class="tb1">
<tr><th>イベント名</th><th>説明</th></tr>
<tr><td><b>play</b></td><td>play() などで再生を開始したとき。</td></tr>
<tr><td><b>pause</b></td><td>pause() などで一時停止したとき。</td></tr>
<tr><td><b>ended</b></td><td>再生が終わったとき。</td></tr>
<tr><td><b>resize</b></td><td>サイズが変更されたとき。</td></tr>
<tr><td><b>volumechange</b></td><td>ボリュームが変更されたとき。</td></tr>
<tr><td><b>loadstart</b></td><td>メディアデータの検索を開始したとき。</td></tr>
<tr><td><b>progress</b></td><td>メディアデータをフェッチ(取り出し)するとき。</td></tr>
<tr><td><b>suspend</b></td><td>メディアデータを意図的にフェッチしないとき。</td></tr>
<tr><td><b>abort</b></td><td>エラー以外の理由でメディアデータのダウンロードを中断したとき。</td></tr>
<tr><td><b>error</b></td><td>エラーが発生したとき。</td></tr>
<tr><td><b>emptied</b></td><td>メディア要素がエンプティ状態になったとき。(load通知時のエラーや、リソース選択時に load() が開始されたとき)</td></tr>
<tr><td><b>stalled</b></td><td>メディアデータをフェッチしようとしたが、データが取得できないとき。</td></tr>
<tr><td><b>loadedmetadata</b></td><td>メディアリソースとテキストトラックの大きさと時間を取得できたとき。</td></tr>
<tr><td><b>loadeddata</b></td><td>最初にメディアデータを表示する準備が整ったとき。</td></tr>
<tr><td><b>canplay</b></td><td>再生可能となったとき。</td></tr>
<tr><td><b>canplaythrough</b></td><td>現在のレートのままであれば最後まで途切れずに再生可能となったとき。</td></tr>
<tr><td><b>playing</b></td><td>pause またはメディアデータの欠落によりしばらく遅延した後に再開したとき。</td></tr>
<tr><td><b>waiting</b></td><td>次のフレームの準備が整わず、一時的に停止するとき。</td></tr>
<tr><td><b>seeking</b></td><td>シークを始めたとき。</td></tr>
<tr><td><b>seeked</b></td><td>シークが完了したとき。</td></tr>
<tr><td><b>durationchange</b></td><td>再生時間が変更されたとき。</td></tr>
<tr><td><b>timeupdate</b></td><td>現在の再生位置が変動したとき。</td></tr>
<tr><td><b>ratechange</b></td><td>レートが変動したとき。</td></tr>
</table>
</div>

<h4>プロパティ</h4>
<div class=i>
<p>下記の様にして、動画の全体時間や現在の再生時間を得ることができます。</p>
<div class="title-tab">HTML</div>
<pre class="c2">
&lt;script src="https://code.jquery.com/jquery-1.11.3.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(function() {
    var video = document.getElementById('v1');
    document.getElementById('v1').addEventListener("timeupdate", function() {
        $('#t1').text(video.<em>currentTime</em> + "/" + video.<em>duration</em>);
    });
});
&lt;/script&gt;
</pre>
<table class="tb1">
<tr><th>プロパティ名</th><th>説明</th></tr>
<tr><td><b>volume</b></td><td>音量。0.0～1.0。変更可能。</td></tr>
<tr><td><b>muted</b></td><td>ミュート(true / false)。変更可能。</td></tr>
<tr><td><b>currentTime</b></td><td>現在の再生時間(秒)。値を代入することにより、再生位置を変更することが可能。</td></tr>
<tr><td><b>duration</b></td><td>全体時間(秒)。</td></tr>
<tr><td><b>bufferd</b></td><td>バッファされた時間が TimeRange型オブジェクトで返却される。bufferd.length が要素の数を示し。bufferd.start(<i>N</i>), bufferd.end(<i>N</i>) が N 番目の開始時刻、終了時刻を示す。</td></tr>
<tr><td><b>played</b></td><td>再生された時間が、TimeRange型オブジェクトで返却される。played.length が要素の数を示し。played.start(<i>N</i>), played.end(<i>N</i>) が N 番目の開始時刻、終了時刻を示す。</td></tr>
<tr><td><b>seekable</b></td><td>シーク可能な時間が、TimeRange型オブジェクトで返却される。seekable.length が要素の数を示し。seekable.start(<i>N</i>), seekable.end(<i>N</i>) が N 番目の開始時刻、終了時刻を示す。</td></tr>
<tr><td><b>error</b></td><td>エラーオブジェクト。error が null の場合はエラー無し。null 以外の場合は error.code にエラーコードが設定される。</td></tr>
<tr><td><b>error.code</b></td><td>エラー番号。1:アボート, 2:ネットワークエラー、3:デコードエラー、4:未サポート。</td></tr>
<tr><td><b>currentSrc</b></td><td>現在のメディアリソースのURL。</td></tr>
<tr><td><b>networkState</b></td><td>ネットワークの状態。0:未設定、1:ネットワーク未使用、2:ローディング中、3:リソースが見つからない。</td></tr>
<tr><td><b>readyState</b></td><td>ロード状態。0:未ロード、1:メタデータロード済、2:現在のフレーム分のデータをロード済、3:次のフレーム分のデータをロード済、4:再生開始に十分なデータをロード済</td></tr>
<tr><td><b>paused</b></td><td>一時停止されている(true / false)。</td></tr>
<tr><td><b>seeking</b></td><td>シーク中である(true / false)。</td></tr>
<tr><td><b>ended</b></td><td>最後に達している(true / false)。</td></tr>
<tr><td><b>defaultPlaybackRate</b></td><td>デフォルトの再生レート。変更可能。</td></tr>
<tr><td><b>audioTracks</b></td><td>オーディオトラックリスト。audioTracks.length が個数、audioTracks[<i>N</i>] がオーディオトラックオブジェクトを返す。</td></tr>
<tr><td><b>videoTracks</b></td><td>ビデオトラックリスト。videoTracks.length が個数、videoTracks[<i>N</i>] がビデオトラックオブジェクトを返す。</td></tr>
<tr><td><b>textTracks</b></td><td>テキストトラックリスト。textTracks.length が個数、textTracks[<i>N</i>] がテキストトラックオブジェクトを返す。</td></tr>
<tr><td><b>controller</b></td><td>メディアコントローラを MediaController オブジェクトで返す。</td></tr>
</table>
</div>

<h4>関連項目</h4>
<div class=i>
<a href="audio.htm" tppabs="http://www.tohoho-web.com/html/audio.htm">&lt;audio&gt;</a>、
<a href="source.htm" tppabs="http://www.tohoho-web.com/html/source.htm">&lt;source&gt;</a>、
<a href="track.htm" tppabs="http://www.tohoho-web.com/html/track.htm">&lt;track&gt;</a>
</div>

<h4>リンク</h4>
<div class=i>
<ul>
<li><a target="_top" href="javascript:if(confirm('https://html.spec.whatwg.org/multipage/wwwxx037.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://html.spec.whatwg.org/multipage/wwwxx037.htm#the-video-element'" tppabs="https://html.spec.whatwg.org/multipage/media.html#the-video-element">https://html.spec.whatwg.org/multipage/media.html#the-video-element</a>
<li><a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/html52/swagger.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.w3.org/TR/html52/swagger.html#elementdef-video'" tppabs="https://www.w3.org/TR/html52/semantics-embedded-content.html#elementdef-video">https://www.w3.org/TR/html52/semantics-embedded-content.html#elementdef-video</a>
<li><a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/html51/swagger.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.w3.org/TR/html51/swagger.html#elementdef-video'" tppabs="https://www.w3.org/TR/html51/semantics-embedded-content.html#elementdef-video">https://www.w3.org/TR/html51/semantics-embedded-content.html#elementdef-video</a>
<li><a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/2014/REC-html5-20141028/docker.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://www.w3.org/TR/2014/REC-html5-20141028/docker.html#the-video-element'" tppabs="https://www.w3.org/TR/2014/REC-html5-20141028/embedded-content-0.html#the-video-element">https://www.w3.org/TR/2014/REC-html5-20141028/embedded-content-0.html#the-video-element</a>
<li><a target="_top" href="javascript:if(confirm('https://developer.mozilla.org/ja/docs/Web/HTML/Element/transition.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://developer.mozilla.org/ja/docs/Web/HTML/Element/transition.htm'" tppabs="https://developer.mozilla.org/ja/docs/Web/HTML/Element/video">https://developer.mozilla.org/ja/docs/Web/HTML/Element/video</a>
<li><a target="_top" href="javascript:if(confirm('https://caniuse.com/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='https://caniuse.com/#feat=video'" tppabs="https://caniuse.com/#feat=video">https://caniuse.com/#feat=video</a>
</ul>
</div>

<hr>
<div>Copyright (C) 2011-2017 杜甫々</div>
<div>初版:2011年6月11日 最終更新:2017年12月31日</div>
<div>http://www.tohoho-web.com/html/video.htm</div>
</body>
</html>
