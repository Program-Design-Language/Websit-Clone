<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Canvas 2Dãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ - ã¨ã»ã»ã®WWWå…¥é–€</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
<script src="../../../code.jquery.com/wwwxx035.htm" tppabs="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<style>
canvas {
    background-color: #cccccc;
}
i {
    font-weight: normal;
}
</style>
</head>
<body>

<h2>Canvas 2Dãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</h2>
<a href="../../www.htm" tppabs="http://www.tohoho-web.com/www.htm">ãƒˆãƒƒãƒ—</a> &gt;
<a href="../index.htm" tppabs="http://www.tohoho-web.com/html/index.htm">HTMLãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a> &gt;
Canvas 2Dãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

<h4>ç›®æ¬¡</h4>
<div class=i>
<ul>
<li><a href="#spec">ä»•æ§˜æ›¸</a>
<li><a href="#example">ã‚µãƒ³ãƒ—ãƒ«</a>
<li><a href="#context">ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ</a>
  <ul>
  <li><a href="#canvas"><i>context</i>.canvas</a>
  </ul>
<li><a href="#save-restore">ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹çŠ¶æ…‹ã®ä¿å­˜ã¨å–ã‚Šå‡ºã—</a>
  <ul>
  <li><a href="#save"><i>context</i>.save()</a>
  <li><a href="#restore"><i>context</i>.restore()</a>
  </ul>
<li><a href="#line-style">ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«</a>
  <ul>
  <li><a href="#lineWidth"><i>context</i>.lineWidth [= <i>value</i>]</a>
  <li><a href="#lineCap"><i>context</i>.lineCap [= <i>value</i>]</a>
  <li><a href="#lineJoin"><i>context</i>.lineJoin [= <i>value</i>]</a>
  <li><a href="#miterLimit"><i>context</i>.miterLimit [= <i>value</i>]</a>
  <li><a href="#setLineDash"><i>context</i>.setLineDash(<i>segments</i>)</a>
  <li><a href="#getLineDash"><i>segments</i> = <i>context</i>.getLineDash()</a>
  <li><a href="#lineDashOffset"><i>context</i>.lineDashOffset [= <i>value</i>]</a>
  </ul>
<li><a href="#text-style">ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«</a>
  <ul>
  <li><a href="#font"><i>context</i>.font [= <i>value</i>]</a>
  <li><a href="#textAlign"><i>context</i>.textAlign [= <i>value</i>]</a>
  <li><a href="#textBaseline"><i>context</i>.textBaseline [= <i>value</i>]</a>
  </ul>
<li><a href="#building-path">ãƒ“ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ãƒã‚¹</a>
  <ul>
  <li><a href="#moveTo"><i>context</i>.moveTo(<i>x</i>, <i>y</i>)</a>
  <li><a href="#lineTo"><i>context</i>.lineTo(<i>x</i>, <i>y</i>)</a>
  <li><a href="#quadraticCurveTo"><i>context</i>.quadraticCurveTo(<i>cpx</i>, <i>cpy</i>, <i>x</i>, <i>y</i>)</a>
  <li><a href="#bezierCurveTo"><i>context</i>.bezierCurveTo(<i>cp1x</i>, <i>cp1y</i>, <i>cp2x</i>, <i>cp2y</i>, <i>x</i>, <i>y</i>)</a>
  <li><a href="#arcTo"><i>context</i>.arcTo(<i>x1</i>, <i>y1</i>, <i>x2</i>, <i>y2</i>, <i>radius</i>)</a>
  <li><a href="#arc"><i>context</i>.arc(<i>x</i>, <i>y</i>, <i>radius</i>, <i>startAngle</i>, <i>endAngle</i> [, <i>counterclockwise</i> ] )</a>
  <li><a href="#rect"><i>context</i>.rect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</a>
  <li><a href="#closePath"><i>context</i>.closePath()</a>
  </ul>
<li><a href="#transformation">ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</a>
  <ul>
  <li><a href="#scale"><i>context</i>.scale(<i>x</i>, <i>y</i>)</a>
  <li><a href="#rotate"><i>context</i>.rotate(<i>angle</i>)</a>
  <li><a href="#translate"><i>context</i>.translate(<i>x</i>, <i>y</i>)</a>
  <li><a href="#transform"><i>context</i>.transform(<i>x1</i>, <i>x2</i>, <i>y2</i>, <i>y1</i>, <i>x3</i>, <i>y3</i>)</a>
  <li><a href="#setTransform"><i>context</i>.setTransform(<i>x1</i>, <i>x2</i>, <i>y2</i>, <i>y1</i>, <i>x3</i>, <i>y3</i>)</a>
  </ul>
<li><a href="#fill-stroke-style">ãƒ•ã‚£ãƒ«ï¼†ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚¹ã‚¿ã‚¤ãƒ«</a>
  <ul>
  <li><a href="#fillStyle"><i>context</i>.fillStyle [= <i>value</i>]</a>
  <li><a href="#strokeStyle"><i>context</i>.strokeStyle [= <i>value</i>]</a>
  <li><a href="#createLinearGradient"><i>gradient</i> = <i>context</i>.createLinearGradient(<i>x0</i>, <i>y0</i>, <i>x1</i>, <i>y1</i>)</a>
  <li><a href="#addColorStop"><i>gradient</i>.addColorStop(<i>offset</i>, <i>color</i>)</a>
  <li><a href="#createRadialGradient"><i>gradient</i> = <i>context</i>.createRadialGradient(<i>x0</i>, <i>y0</i>, <i>r0</i>, <i>x1</i>, <i>y1</i>, <i>r1</i>)</a>
  <li><a href="#createPattern"><i>pattern</i> = <i>context</i>.createPattern(<i>image</i>, <i>repetition</i>)</a>
  </ul>
<li><a href="#draw-rect">çŸ©å½¢æç”»</a>
  <ul>
  <li><a href="#clearRect"><i>context</i>.clearRect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</a>
  <li><a href="#fillRect"><i>context</i>.fillRect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</a>
  <li><a href="#strokeRect"><i>context</i>.strokeRect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</a>
  </ul>
<li><a href="#draw-text">ãƒ†ã‚­ã‚¹ãƒˆæç”»</a>
  <ul>
  <li><a href="#fillText"><i>context</i>.fillText(<i>text</i>, <i>x</i>, <i>y</i> [, <i>maxWidth</i> ] )</a>
  <li><a href="#strokeText"><i>context</i>.strokeText(<i>text</i>, <i>x</i>, <i>y</i> [, <i>maxWidth</i> ] )</a>
  <li><a href="#measureText"><i>metrics</i> = <i>context</i>.measureText(<i>text</i>)</a>
  <li><a href="#metrics-width"><i>metrics</i>.width</a>
  </ul>
<li><a href="#draw-path">ãƒ‘ã‚¹æç”»</a>
  <ul>
  <li><a href="#beginPath"><i>context</i>.beginPath()</a>
  <li><a href="#stroke"><i>context</i>.stroke()</a>
  <li><a href="#fill"><i>context</i>.fill()</a>
  <li><a href="#drawFocusIfNeeded"><i>context</i>.drawFocusIfNeeded(<i>element</i>)</a>
  <li><a href="#clip"><i>context</i>.clip()</a>
  <li><a href="#isPointInPath"><i>context</i>.isPointInPath(<i>x</i>, <i>y</i>)</a>
  </ul>
<li><a href="#draw-image">ã‚¤ãƒ¡ãƒ¼ã‚¸æç”»</a>
  <ul>
  <li><a href="#drawImage1"><i>context</i>.drawImage(<i>image</i>, <i>dx</i>, <i>dy</i>)</a>
  <li><a href="#drawImage2"><i>context</i>.drawImage(<i>image</i>, <i>dx</i>, <i>dy</i>, <i>dw</i>, <i>dh</i>)</a>
  <li><a href="#drawImage3"><i>context</i>.drawImage(<i>image</i>, <i>sx</i>, <i>sy</i>, <i>sw</i>, <i>sh</i>, <i>dx</i>, <i>dy</i>, <i>dw</i>, <i>dh</i>)</a>
  </ul>
<li><a href="#hit-region">ãƒ’ãƒƒãƒˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³</a>
  <ul>
  <li><a href="#addHitRegion"><i>context</i>.addHitRegion(<i>options</i>)</a>
  <li><a href="#removeHitRegion"><i>context</i>.removeHitRegion(<i>id</i>)</a>
  <li><a href="#clearHitRegions"><i>context</i>.clearHitRegions()</a>
  <li><a href="#event-region"><i>event</i>.region</a>
  </ul>
<li><a href="#picel">ãƒ”ã‚¯ã‚»ãƒ«æ“ä½œ</a>
  <ul>
  <li><a href="#createImageData1"><i>imagedata</i> = <i>context</i>.createImageData(<i>sw</i>, <i>sh</i>)</a>
  <li><a href="#createImageData2"><i>imagedata</i> = <i>context</i>.createImageData(<i>imagedata</i>)</a>
  <li><a href="#getImageData"><i>imagedata</i> = <i>context</i>.getImageData(<i>sx</i>, <i>sy</i>, <i>sw</i>, <i>sh</i>)</a>
  <li><a href="#imagedata-width"><i>imagedata</i>.width</a>
  <li><a href="#imagedata-height"><i>imagedata</i>.height</a>
  <li><a href="#imagedata-data"><i>imagedata</i>.data</a>
  <li><a href="#putImageData"><i>context</i>.putImageData(<i>imagedata</i>, <i>dx</i>, <i>dy</i> [, <i>dirtyX</i>, <i>dirtyY</i>, <i>dirtyWidth</i>, <i>dirtyHeight</i> ])</a>
  </ul>
<li><a href="#composing">ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ³ã‚°</a>
  <ul>
  <li><a href="#globalAlpha"><i>context</i>.globalAlpha [ = <i>value</i> ]</a>
  <li><a href="#globalCompositeOperation"><i>context</i>.globalCompositeOperation [ = <i>value</i> ]</a>
  <li><a href="#shadowColor"><i>context</i>.shadowColor [ = <i>value</i> ]</a>
  <li><a href="#shadowOffsetX"><i>context</i>.shadowOffsetX [ = <i>value</i> ]</a>
  <li><a href="#shadowOffsetY"><i>context</i>.shadowOffsetY [ = <i>value</i> ]</a>
  </ul>
<li><a href="#shadow">å½±</a>
  <ul>
  <li><a href="#shadowBlur"><i>context</i>.shadowBlur [ = <i>value</i> ]</a>
  </ul>
<li><a href="#links">ãƒªãƒ³ã‚¯</a>
</ul>
</div>

<h4 id="spec">ä»•æ§˜æ›¸</h4>
<div class=i>
<p>Canvas 2D ã¯ä¸‹è¨˜ã®æ–‡æ›¸ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<ul>
<li><a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/2dcontext/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.w3.org/TR/2dcontext/'" tppabs="https://www.w3.org/TR/2dcontext/">https://www.w3.org/TR/2dcontext/</a>
<li><a target="_top" href="javascript:if(confirm('https://www.w3.org/TR/2015/REC-2dcontext-20151119/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.w3.org/TR/2015/REC-2dcontext-20151119/'" tppabs="https://www.w3.org/TR/2015/REC-2dcontext-20151119/">https://www.w3.org/TR/2015/REC-2dcontext-20151119/</a>
</ul>
</div>

<h4 id="example">ã‚µãƒ³ãƒ—ãƒ«</h4>
<div class=i>
<div class="tab">HTML</div>
<pre class="c2">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;CANVAS TEST&lt;/title&gt;
&lt;!--[if lt IE 9]&gt;                               // Explorer Canvasã‚’èª­ã¿è¾¼ã‚€
&lt;script src="js/excanvas.js"&gt;&lt;/script&gt;
&lt;![endif]--&gt;
&lt;script&gt;
window.onload = function() {
    var cv = document.getElementById('cv1');    // è¦ç´ ã‚’å¾—ã‚‹
    if (!cv) { return; }

    var ct = cv.getContext('2d');               // 2D(å¹³é¢)ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å¾—ã‚‹
    if (!ct) { return; }

    ct.fillStyle = '#ffcccc';
    ct.fillRect(0, 0, cv.width, cv.height);     // çŸ©å½¢ã‚’å¡—ã‚Šã¤ã¶ã™

    ct.strokeStyle = '#ff0000';
    ct.strokeRect(0, 0, cv.width, cv.height);   // çŸ©å½¢ã‚’æç”»ã™ã‚‹

    ct.beginPath();
    ct.strokeStyle = '#ff0000';
    ct.arc(70, 50, 40, 0, Math.PI * 2, false);  // å††ã‚’æç”»ã™ã‚‹
    ct.stroke();

    ct.beginPath();
    ct.strokeStyle = '#0000ff';
    ct.moveTo(0, 0);
    ct.lineTo(140, 100);                        // ç·šã‚’æç”»ã™ã‚‹
    ct.stroke();
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
 &lt;canvas id="cv1" width="140" height="100"&gt;&lt;/canvas&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<h4 id="context">ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ</h4>

<h5 id="canvas">â—† <i>context</i>.canvas</h5>
<div class=i>
<p>ã‚­ãƒ£ãƒ³ãƒã‚¹è¦ç´ ã‚’è¿”ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
ct.<em>canvas</em>.style.height = "300px";
</pre>
</div>

<h4 id="save-restore">ã‚­ãƒ£ãƒ³ãƒã‚¹çŠ¶æ…‹ã®ä¿å­˜ã¨å–ã‚Šå‡ºã—</h4>
<h5 id="save">â—† <i>context</i>.save()</h5>
<h5 id="restore">â—† <i>context</i>.restore()</h5>
<div class=i>
<p><b>save()</b> ã¯ã€ç¾åœ¨ã®çŠ¶æ…‹ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«æ ¼ç´ã—ã¾ã™ã€‚çŠ¶æ…‹ã¯ã€å¤‰æ›ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã€ã‚¯ãƒªãƒƒãƒ—é ˜åŸŸã€ãŠã‚ˆã³ strokeStyle, fillStyle, globalAlpha, lineWidth, lineCap, lineJoin, miterLimit, shadowOffsetX, shadowOffsetY, shadowBlur, shadowColor, globalCompositeOperation, font, textAlign, textBaseline ã®çŠ¶æ…‹ã‚’å«ã¿ã¾ã™ã€‚<b>restore()</b> ã¯ã€ã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰æœ€æ–°ã®ã‚‚ã®ã‚’ã²ã¨ã¤å–ã‚Šå‡ºã—ã€ç¾åœ¨ã®çŠ¶æ…‹ã«ãƒªã‚¹ãƒˆã‚¢ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
ct.strokeStyle = '#ff0000';
ct.<em>save()</em>;           // strokeStyle ç­‰ã®çŠ¶æ…‹ãŒã‚¹ã‚¿ãƒƒã‚¯ã«æ ¼ç´ã•ã‚Œã‚‹
ct.strokeStyle = '#0000ff';
ct.beginPath();
ct.moveTo(0, 50);
ct.lineTo(300, 50);
ct.stroke();
ct.<em>restore()</em>;        // strokeStyle ç­‰ã®çŠ¶æ…‹ãŒå…ƒã«æˆ»ã•ã‚Œã‚‹
</pre>
</div>

<h4 id="line-style">ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«</h4>

<h5 id="lineWidth">â—† <i>context</i>.lineWidth [= <i>value</i>]</h5>
<div class=i>
<p>ç·šã®å¹…ã‚’è¿”å´ã—ã¾ã™ã€‚è¨­å®šã‚‚å¯èƒ½ã§ã™ã€‚åˆæœŸå€¤ã¯ 1.0 ã§ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
ct.<em>lineWidth</em> = 8;
ct.beginPath();
ct.moveTo(20, 20);
ct.lineTo(280, 20);
ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-lineWidth" width="300" height="50"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-lineWidth'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 8;
  ct.font = "9pt Arial";
  ct.beginPath(); ct.moveTo(20, 20); ct.lineTo(280, 20); ct.stroke();
  ct.fillText("lineWidth = 8", 100, 35);
});
</script>
</div>
</div>

<h5 id="lineCap">â—† <i>context</i>.lineCap [= <i>value</i>]</h5>
<div class=i>
<p>ç·šã®ä¸¡ç«¯ã®å½¢çŠ¶ã‚’è¿”å´ã—ã¾ã™ã€‚è¨­å®šã‚‚å¯èƒ½ã§ã™ã€‚åˆ‡ã‚Œç«¯(<b>butt</b>), è§’ä¸¸(<b>round</b>), çŸ©å½¢(<b>square</b>) ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚åˆæœŸå€¤ã¯ <b>butt</b> ã§ã™ã€‚</p>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-lineCap" width="300" height="80"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-lineCap'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 8;
  ct.font = "9pt Arial";
  ct.lineCap = "butt";
  ct.beginPath(); ct.moveTo(20, 20); ct.lineTo(200, 20); ct.stroke();
  ct.fillText("butt", 215, 24);
  ct.lineCap = "round";
  ct.beginPath(); ct.moveTo(20, 40); ct.lineTo(200, 40); ct.stroke();
  ct.fillText("round", 215, 44);
  ct.lineCap = "square";
  ct.beginPath(); ct.moveTo(20, 60); ct.lineTo(200, 60); ct.stroke();
  ct.fillText("square", 215, 64);

});
</script>
</div>
</div>

<h5 id="lineJoin">â—† <i>context</i>.lineJoin [= <i>value</i>]</h5>
<div class=i>
<p>ç·šã®çµåˆã‚¹ã‚¿ã‚¤ãƒ«è¿”å´ã—ã¾ã™ã€‚è¨­å®šã‚‚å¯èƒ½ã§ã™ã€‚é¢å–ã‚Š(<b>bevel</b>), è§’ä¸¸(<b>round</b>), ç•™ã‚ç¶™ã(<b>miter</b>) ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚åˆæœŸå€¤ã¯ <b>miter</b> ã§ã™ã€‚</p>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-lineJoin" width="300" height="80"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-lineJoin'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 12;
  ct.font = "9pt Arial";
  ct.lineJoin = "bevel";
  ct.beginPath(); ct.moveTo(20, 50); ct.lineTo(40, 20); ct.lineTo(60, 50); ct.stroke();
  ct.fillText("bevel", 23, 70);
  ct.lineJoin = "round";
  ct.beginPath(); ct.moveTo(100, 50); ct.lineTo(120, 20); ct.lineTo(140, 50); ct.stroke();
  ct.fillText("round", 102, 70);
  ct.lineJoin = "miter";
  ct.beginPath(); ct.moveTo(180, 50); ct.lineTo(200, 20); ct.lineTo(220, 50); ct.stroke();
  ct.fillText("miter", 185, 70);

});
</script>
</div>
</div>

<h5 id="miterLimit">â—† <i>context</i>.miterLimit [= <i>value</i>]</h5>
<div class=i>
<p>ç·šã®ä¸­å¿ƒãŒäº¤ã‚ã‚‹ãƒã‚¤ãƒ³ãƒˆã¨ã€ç·šã®å¤–å´ãŒäº¤ã‚ã‚‹ãƒã‚¤ãƒ³ãƒˆã¨ã®è·é›¢ã‚’ãƒã‚¤ã‚¿ãƒ¼é•·ã¨å‘¼ã³ã¾ã™ãŒã€liineJoin = "miter" ã§ç·šã‚’é‹­è§’ã§çµåˆã™ã‚‹ã¨ã€çµåˆéƒ¨(ãƒã‚¤ã‚¿ãƒ¼é•·)ãŒå¦™ã«é•·ããªã‚Šã™ãã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãƒã‚¤ã‚¿ãƒ¼é•·ãŒã€ç·šã®å¤ªã•ã® miterLimit å€ã‚’è¶…ãˆã¦ã—ã¾ã†å ´åˆã€ç·šã¯ miter ã§ã¯ãªãã€bevel ã§æç”»ã™ã‚‹ã“ã¨ã§ã“ã®å•é¡Œã‚’é˜²ãã¾ã™ã€‚<b>miterLimit</b> ã®åˆæœŸå€¤ã¯ 10.0 ã§ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€ä¸Šã®ç·šã«ã¯ miterLimit = 100.0 ã‚’ã€ä¸‹ã®ç·šã«ã¯ miterLimit = 10.0 ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-miterLimit" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-miterLimit'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 8;
  ct.font = "9pt Arial";
  ct.lineJoin = "miter";
  ct.miterLimit = 100.0;
  ct.beginPath(); ct.moveTo(10, 10); ct.lineTo(160, 20); ct.lineTo(10, 30); ct.stroke();
  ct.fillText("miterLimit = 100.0", 120, 40);
  ct.miterLimit = 10.0;
  ct.beginPath(); ct.moveTo(10, 60); ct.lineTo(160, 70); ct.lineTo(10, 80); ct.stroke();
  ct.fillText("miterLimit = 10.0", 120, 90);
});
</script>
</div>
</div>

<h5 id="setLineDash">â—† <i>context</i>.setLineDash(<i>segments</i>)</h5>
<h5 id="getLineDash">â—† <i>segments</i> = <i>context</i>.getLineDash()</h5>
<div class=i>
<p><b>setLineDash()</b> ã¯ç‚¹ç·šã®æç”»æ–¹æ³•ã‚’æŒ‡å®šã—ã¾ã™ã€‚<i>seguments</i> ã« [ 20, 5, 10, 5 ] ã‚’æŒ‡å®šã™ã‚‹ã¨ã€é•·ã• 20 ã®å®Ÿç·šã€é•·ã• 5 ã®ç©ºç™½ã€é•·ã• 10 ã®å®Ÿç·šã€é•·ã• 5 ã®ç©ºç™½ã‚’ç¹°ã‚Šè¿”ã—ã¦ç‚¹ç·šã‚’æç”»ã—ã¾ã™ã€‚<b>getLineDash()</b> ã¯ã€ç¾åœ¨ã®ç‚¹ç·šæç”»ã®ãƒªã‚¹ãƒˆã‚’é…åˆ—ã§è¿”å´ã—ã¾ã™ã€‚</p>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-setLineDash" width="300" height="50"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-setLineDash'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 2;
  ct.font = "8pt Arial";
  ct.setLineDash([20, 5, 10, 5]);
  ct.beginPath(); ct.moveTo(20, 20); ct.lineTo(280, 20); ct.stroke();
  ct.fillText("20", 24, 16);
  ct.fillText("5", 38, 32);
  ct.fillText("10", 44, 16);
  ct.fillText("5", 54, 32);
  ct.fillText("setLineDash([20, 5, 10, 5]) = 15", 70, 45);
});
</script>
</div>
</div>

<h5 id="lineDashOffset">â—† <i>context</i>.lineDashOffset [= <i>value</i>]</h5>
<div class=i>
<p>ç‚¹ç·šã‚’æç”»ã™ã‚‹éš›ã®ã€å§‹ç‚¹ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã®é•·ã•ã‚’å‚ç…§(æŒ‡å®š)ã—ã¾ã™ã€‚ä¸Šã®ã‚µãƒ³ãƒ—ãƒ«ã§ lineDashOffset = 15 ã‚’æŒ‡å®šã™ã‚‹ã¨ã€æœ€åˆã®ç·šã®é•·ã• 20 ã®å†…ã€15 ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã‚’å¼•ã„ãŸé•·ã• 5 ã§ã€æœ€åˆã®ç·šã‚’æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-lineDashOffset" width="300" height="50"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-lineDashOffset'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 2;
  ct.font = "8pt Arial";
  ct.setLineDash([20, 5, 10, 5]);
  ct.lineDashOffset = 15;
  ct.beginPath(); ct.moveTo(20, 20); ct.lineTo(280, 20); ct.stroke();
  ct.fillText("5", 20, 16);
  ct.fillText("5", 23, 32);
  ct.fillText("10", 29, 16);
  ct.fillText("5", 39, 32);
  ct.fillText("lineDashOffset = 15", 70, 45);
});
</script>
</div>
</div>

<h4 id="text-style">ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«</h4>

<h5 id="font">â—† <i>context</i>.font [= <i>value</i>]</h5>
<div class=i>
<p>æ–‡å­—ã‚’æç”»ã™ã‚‹éš›ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’å‚ç…§(è¨­å®š)ã—ã¾ã™ã€‚è©³ç´°ã¯ CSS ã® <a href="javascript:if(confirm('http://div.wifi-cloud.jp/redir/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://div.wifi-cloud.jp/redir/'" tppabs="http://www.tohoho-web.com/css/font.htm">font</a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.<em>font</em> = 'italic 9pt Arial';
</pre>
</div>

<h5 id="textAlign">â—† <i>context</i>.textAlign [= <i>value</i>]</h5>
<div class=i>
<p>æ–‡å­—ã®è¡¨ç¤ºä½ç½®ã‚’å‚ç…§(æŒ‡å®š)ã—ã¾ã™ã€‚<b>start</b>, <b>end</b>, <b>left</b>, <b>right</b>, <b>center</b> ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚åˆæœŸå€¤ã¯ <b>start</b> ã§ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.<em>textAlign</em> = 'center';
</pre>
</div>

<h5 id="textBaseline">â—† <i>context</i>.textBaseline [= <i>value</i>]</h5>
<div class=i>
<p>æ–‡å­—ã®ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’å‚ç…§(æŒ‡å®š)ã—ã¾ã™ã€‚<b>top</b>, <b>hanging</b>, <b>middle</b>, <b>alphabetic</b>, <b>ideographic</b>, <b>bottom</b> ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚åˆæœŸå€¤ã¯ <b>alphabetic</b> ã§ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.<em>textBaseline</em> = 'bottom';
</pre>
</div>

<h4 id="building-path">ãƒ“ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ãƒ‘ã‚¹</h4>

<h5 id="moveTo">â—† <i>context</i>.moveTo(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>æ–°ã—ã„ã‚µãƒ–ãƒ‘ã‚¹ã®å§‹ç‚¹ã‚’ <i>x</i>, <i>y</i> ã§æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.<em>moveTo(40, 40)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-moveTo" width="300" height="80"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-moveTo'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.beginPath(); ct.arc(40, 40, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(40, 40)", 23, 32);
});
</script>
</div>
</div>

<h5 id="lineTo">â—† <i>context</i>.lineTo(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®ä½ç½®ã‹ã‚‰ <i>x</i>, <i>y</i> ã®ä½ç½®ã¾ã§ç·šã‚’æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(40, 40);
  ct.<em>lineTo(200, 40)</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-lintTo" width="300" height="80"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-lintTo'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.lineWidth = 2;
  ct.beginPath(); ct.moveTo(40, 40); ct.lineTo(200, 40); ct.stroke();
  ct.beginPath(); ct.arc(40, 40, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(200, 40, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(40, 40)", 23, 32);
  ct.fillText("(200, 40)", 180, 32);
});
</script>
</div>
</div>

<h5 id="quadraticCurveTo">â—† <i>context</i>.quadraticCurveTo(<i>cpx</i>, <i>cpy</i>, <i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®ä½ç½®ã‹ã‚‰ã€<i>cpx</i>, <i>cpy</i> ã‚’åˆ¶å¾¡ç‚¹ã€<i>x</i>, <i>y</i> ã‚’çµ‚ç‚¹ã¨ã™ã‚‹äºŒæ¬¡ãƒ™ã‚¸ã‚§æ›²ç·šã‚’æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(50, 90);
  ct.<em>quadraticCurveTo(100, 10, 150, 90)</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-quadraticCurveTo" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-quadraticCurveTo'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(50, 90); ct.lineTo(100, 10); ct.lineTo(150, 90); ct.stroke();
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.moveTo(50, 90); ct.quadraticCurveTo(100, 10, 150, 90); ct.stroke();
  ct.beginPath(); ct.arc(50, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(100, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(150, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(50, 90)", 55, 92);
  ct.fillText("(100, 10)", 105, 12);
  ct.fillText("(150, 90)", 155, 92);
});
</script>
</div>
</div>

<h5 id="bezierCurveTo">â—† <i>context</i>.bezierCurveTo(<i>cp1x</i>, <i>cp1y</i>, <i>cp2x</i>, <i>cp2y</i>, <i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®ä½ç½®ã‹ã‚‰ã€(<i>cp1x</i>, <i>cp1y</i>), (<i>cp2x</i>, <i>cp2y</i>) ã‚’åˆ¶å¾¡ç‚¹ã€<i>x</i>, <i>y</i> ã‚’çµ‚ç‚¹ã¨ã™ã‚‹ä¸‰æ¬¡ãƒ™ã‚¸ã‚§æ›²ç·šã‚’æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(50, 90);
  ct.<em>bezierCurveTo(90, 10, 110, 10, 150, 90)</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-bezierCurveTo" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-bezierCurveTo'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(50, 90); ct.lineTo(90, 10); ct.stroke();
  ct.beginPath(); ct.moveTo(110, 10); ct.lineTo(150, 90); ct.stroke();
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.moveTo(50, 90); ct.bezierCurveTo(90, 10, 110, 10, 150, 90); ct.stroke();
  ct.beginPath(); ct.arc(50, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(90, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(110, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(150, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(50, 90)", 55, 92);
  ct.fillText("(90, 10)", 45, 12);
  ct.fillText("(110, 10)", 115, 12);
  ct.fillText("(150, 90)", 155, 92);
});
</script>
</div>
</div>

<h5 id="arcTo">â—† <i>context</i>.arcTo(<i>x1</i>, <i>y1</i>, <i>x2</i>, <i>y2</i>, <i>radius</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®ä½ç½®ã‹ã‚‰ã€(<i>x1</i>, <i>y1</i>)ã‚’çµŒç”±ã—ã¦ (<i>x2</i>, <i>y2</i>) ã«å‘ã‹ã†ç·šã‚’æç”»ã—ã¾ã™ã€‚ãŸã ã—ã€è§’ã‚’åŠå¾„ <i>radius</i> ã®å††å¼§ã¨ã—ã€å††å¼§ã®çµ‚ç‚¹ã§çµ‚äº†ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(50, 90);
  ct.<em>arcTo(50, 10, 130, 10, 30)</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-arcTo" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-arcTo'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(50, 90); ct.lineTo(50, 10); ct.lineTo(130, 10); ct.stroke();
  ct.beginPath(); ct.moveTo(50, 40); ct.lineTo(80, 40); ct.lineTo(80, 10); ct.stroke();
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.moveTo(50, 90); ct.arcTo(50, 10, 130, 10, 30); ct.stroke();
  ct.beginPath(); ct.arc(50, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(50, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(130, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(50, 90)", 55, 92);
  ct.fillText("(50, 10)", 5, 12);
  ct.fillText("(130, 10)", 135, 12);
  ct.fillText("30", 85, 30);
});
</script>
</div>
</div>

<h5 id="arc">â—† <i>context</i>.arc(<i>x</i>, <i>y</i>, <i>radius</i>, <i>startAngle</i>, <i>endAngle</i> [, <i>counterclockwise</i> ] )</h5>
<div class=i>
<p><i>x</i>, <i>y</i> ã‚’ä¸­å¿ƒã€<i>radius</i> ã‚’åŠå¾„ã€<i>startAngle</i> ã‚’é–‹å§‹è§’ã€<i>endAngle</i> ã‚’çµ‚äº†è§’ã¨ã™ã‚‹å††å¼§ã‚’æç”»ã—ã¾ã™ã€‚è§’åº¦ã«ã¯ 0 ã‹ã‚‰ Math.PI * 2 ã¾ã§ã®å€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚x è»¸ã®æ–¹å‘ãŒè§’åº¦ 0 ã¨ãªã‚Šã¾ã™ã€‚<i>counterclockwise</i> ã« <b>true</b> ã‚’æŒ‡å®šã™ã‚‹ã¨æ™‚è¨ˆå‘¨ã‚Šã¨ãªã‚Šã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.<em>arc(50, 50, 40, 0, (Math.PI * 2) * (3 / 4))</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-arc" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-arc'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 2;
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(50, 50); ct.lineTo(150, 50); ct.stroke();
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.arc(50, 50, 40, 0, Math.PI * 2 * 3 / 4); ct.stroke();
  ct.beginPath(); ct.arc(50, 50, 2, 0, Math.PI * 2); ct.fill();
  ct.fillText("(50, 50)", 31, 64);
  ct.fillText("angle = 0", 155, 53);
});
</script>
</div>
</div>

<h5 id="rect">â—† <i>context</i>.rect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</h5>
<div class=i>
<p><i>x</i>, <i>y</i> ã‚’å·¦ä¸Šç«¯ã¨ã™ã‚‹ã€æ¨ªå¹… <i>w</i>ã€é«˜ã• <i>h</i> ã®çŸ©å½¢ã‚’æãã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.<em>rect(20, 20, 100, 60)</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-rect" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-rect'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.arc(20, 20, 2, 0, Math.PI * 2); ct.fill();
  ct.beginPath(); ct.rect(20, 20, 100, 60); ct.stroke();
  ct.fillText("(20, 20)", 22, 14);
  ct.fillText("100", 60, 75);
  ct.fillText("60", 105, 55);
});
</script>
</div>
</div>

<h5 id="closePath">â—† <i>context</i>.closePath()</h5>
<div class=i>
<p>ç¾åœ¨ã®ã‚µãƒ–ãƒ‘ã‚¹ã‚’é–‰ã˜ã¦ã€å§‹ç‚¹ã¨çµ‚ç‚¹ã‚’ç·šã§çµã³ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(10, 10);
  ct.lineTo(10, 90);
  ct.lineTo(90, 90);
  ct.<em>closePath()</em>;
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-closePath" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-closePath'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 2;
  ct.font = "8pt Arial";
  ct.beginPath(); ct.moveTo(10, 10); ct.lineTo(10, 90); ct.lineTo(90, 90); ct.closePath(); ct.stroke();
  ct.beginPath(); ct.arc(10, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(10, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(90, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(10, 10)", 15, 12);
  ct.fillText("(10, 90)", 14, 86);
  ct.fillText("(90, 90)", 95, 92);
});
</script>
</div>
</div>

<h4 id="transformation">ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h4>

<h5 id="scale">â—† <i>context</i>.scale(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®åº§æ¨™ã‚’ã€æ¨ªã« <i>x</i> å€ã€ç¸¦ã« <i>y</i> å€ã«ã‚¹ã‚±ãƒ¼ãƒ«å¤‰æ›´ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.rect(20, 20, 30, 30);
  ct.stroke();
  ct.<em>scale(2.0, 2.0)</em>;
  ct.beginPath();
  ct.rect(50, 10, 30, 30);
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-scale" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-scale'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.lineWidth = 2;
  ct.font = "8pt Arial";
  ct.beginPath(); ct.rect(20, 20, 30, 30); ct.stroke();
  ct.save();
  ct.scale(2.0, 2.0);
  ct.beginPath(); ct.rect(50, 10, 30, 30); ct.stroke();
  ct.restore();
  ct.fillText("(20, 20)", 22, 15);
  ct.fillText("(50, 10)", 100, 15);
  ct.fillText("30", 30, 62);
  ct.fillText("30", 54, 40);
  ct.fillText("30", 125, 92);
  ct.fillText("30", 163, 55);
});
</script>
</div>
</div>

<h5 id="rotate">â—† <i>context</i>.rotate(<i>angle</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®åº§æ¨™ã‚’ã€<i>angle</i> åº¦å›è»¢ã•ã›ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.rect(40, 5, 60, 20);
  ct.stroke();
  ct.<em>rotate(45 * Math.PI / 180)</em>;
  ct.beginPath();
  ct.rect(40, 5, 60, 20);
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-rotate" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-rotate'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(0, 0); ct.lineTo(100, 100); ct.stroke();
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.rect(40, 5, 60, 20); ct.stroke();
  ct.rotate(45 * Math.PI / 180);
  ct.beginPath(); ct.rect(40, 5, 60, 20); ct.stroke();
  ct.fillText("45Â°", 15, 10);
});
</script>
</div>
</div>

<h5 id="translate">â—† <i>context</i>.translate(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>ç¾åœ¨ã®åº§æ¨™ã‚’ã€å³æ–¹å‘ã« <i>x</i>ã€ä¸‹æ–¹å‘ã« <i>y</i> åˆ†ç§»å‹•ã•ã›ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.rect(20, 20, 60, 20);
  ct.stroke();
  ct.<em>translate(100, 0)</em>;
  ct.beginPath();
  ct.rect(20, 20, 60, 20);
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-translate" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-translate'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(10, 90); ct.lineTo(10, 10); ct.lineTo(90, 10); ct.stroke();
  ct.beginPath(); ct.moveTo(110, 90); ct.lineTo(110, 10); ct.lineTo(190, 10); ct.stroke();
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.rect(20, 20, 60, 20); ct.stroke();
  ct.translate(100, 0);
  ct.beginPath(); ct.rect(20, 20, 60, 20); ct.stroke();
  ct.translate(-100, 0);
  ct.beginPath(); ct.arc(20, 20, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(120, 20, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(20, 20)", 23, 32);
  ct.fillText("(20, 20)", 123, 32);
  ct.fillText("60", 45, 52);
  ct.fillText("20", 85, 35);
  ct.fillText("60", 145, 52);
  ct.fillText("20", 185, 35);
});
</script>
</div>
</div>

<h5 id="transform">â—† <i>context</i>.transform(<i>x1</i>, <i>x2</i>, <i>y2</i>, <i>y1</i>, <i>x3</i>, <i>y3</i>)</h5>
<h5 id="setTransform">â—† <i>context</i>.setTransform(<i>x1</i>, <i>x2</i>, <i>y2</i>, <i>y1</i>, <i>x3</i>, <i>y3</i>)</h5>
<div class=i>
<p>ã‚¹ã‚±ãƒ¼ãƒ«å¤‰æ›´ã€å›è»¢ã€åº§æ¨™ã‚·ãƒ•ãƒˆã®åº§æ¨™å¤‰æ›ã‚’ã¾ã¨ã‚ã¦è¡Œã„ã¾ã™ã€‚ç¾åœ¨ã®åº§æ¨™ã‚’ã€<i>x1</i>, <i>y1</i> å€ã«ã‚¹ã‚±ãƒ¼ãƒ«å¤‰æ›´ã—ã€<i>x2</i>, <i>y2</i> ã ã‘å›è»¢ã—ã€<i>x3</i>, <i>y3</i> åˆ†ç§»å‹•ã•ã›ã¾ã™ã€‚<b>transform()</b> ã‚„ <b>setTransform()</b> ã‚’è¤‡æ•°å›å‘¼ã³å‡ºã—ãŸå ´åˆã€<b>transform()</b> ã®å ´åˆã¯ç¾åœ¨ã®åº§æ¨™ã«å¯¾ã—ã¦ã•ã‚‰ã«åº§æ¨™å¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚<b>setTransform()</b> ã¯åˆæœŸåº§æ¨™ã«å¯¾ã—ã¦å¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.rect(20, 20, 60, 20);
  ct.stroke();
  ct.<em>transform(1.3, 10 * Math.PI / 180, 10 * Math.PI / 180, 1.3, 100, 0)</em>;
  ct.beginPath();
  ct.rect(20, 20, 60, 20);
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-transform" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-transform'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(10, 90); ct.lineTo(10, 10); ct.lineTo(90, 10); ct.stroke();
  ct.beginPath(); ct.moveTo(120, 90); ct.lineTo(110, 10); ct.lineTo(220, 25); ct.stroke();
  ct.lineWidth = 2;
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.rect(20, 20, 60, 20); ct.stroke();
  ct.fillText("(20, 20)", 23, 32);
  ct.fillText("60", 45, 52);
  ct.fillText("20", 85, 35);
  ct.save();
  ct.transform(1.3, 10 * Math.PI / 180, 10 * Math.PI / 180, 1.3, 100, 0);
  ct.beginPath(); ct.rect(20, 20, 60, 20); ct.stroke();
  ct.restore();
  ct.fillText("(20, 20)", 132, 26);
  ct.fillText("60", 160, 72);
  ct.fillText("20", 213, 55);
});
</script>
</div>
</div>


<h4 id="fill-stroke-style">ãƒ•ã‚£ãƒ«ï¼†ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚¹ã‚¿ã‚¤ãƒ«</h4>

<h5 id="fillStyle">â—† <i>context</i>.fillStyle [= <i>value</i>]</h5>
<div class=i>
<p>å¡—ã‚Šã¤ã¶ã—ã®è‰²ã‚’å‚ç…§(è¨­å®š)ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.<em>fillStyle = "rgb(255, 120, 120)"</em>;
  ct.arc(50, 50, 30, 0, Math.PI * 2, 40);
  ct.fill();

  ct.beginPath();
  ct.<em>fillStyle = "rgba(120, 120, 255, 0.4)"</em>;
  ct.arc(90, 50, 30, 0, Math.PI * 2, 40);
  ct.fill();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-fillStyle" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-fillStyle'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.beginPath(); ct.fillStyle = "rgb(255, 120, 120)"; ct.arc(50, 50, 30, 0, Math.PI * 2, 40); ct.fill();
  ct.beginPath(); ct.fillStyle = "rgba(120, 120, 255, 0.4)"; ct.arc(90, 50, 30, 0, Math.PI * 2, 40); ct.fill();
});
</script>
</div>
</div>

<h5 id="strokeStyle">â—† <i>context</i>.strokeStyle [= <i>value</i>]</h5>
<div class=i>
<p>ç·šã®è‰²ã‚’å‚ç…§(è¨­å®š)ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.lineWidth = 10;
  ct.beginPath();
  ct.<em>strokeStyle = "rgb(255, 120, 120)"</em>;
  ct.arc(50, 50, 30, 0, Math.PI * 2, 40);
  ct.stroke();
  ct.beginPath();
  ct.<em>strokeStyle = "rgba(120, 120, 255, 0.4)"</em>;
  ct.arc(90, 50, 30, 0, Math.PI * 2, 40);
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-strokeStyle" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-strokeStyle'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.lineWidth = 10;
  ct.beginPath(); ct.strokeStyle = "rgb(255, 120, 120)"; ct.arc(50, 50, 30, 0, Math.PI * 2, 40); ct.stroke();
  ct.beginPath(); ct.strokeStyle = "rgba(120, 120, 255, 0.4)"; ct.arc(90, 50, 30, 0, Math.PI * 2, 40); ct.stroke();
});
</script>
</div>
</div>

<h5 id="createLinearGradient">â—† <i>gradient</i> = <i>context</i>.createLinearGradient(<i>x0</i>, <i>y0</i>, <i>x1</i>, <i>y1</i>)</h5>
<h5 id="addColorStop">â—† <i>gradient</i>.addColorStop(<i>offset</i>, <i>color</i>)</h5>
<div class=i>
<p>ç·šå½¢ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚<b>createLinearGradient()</b> ã§ (<i>x0</i>, <i>y0</i>) ã‹ã‚‰ (<i>x1</i>, <i>y1</i>) ã¸ã®ç·šå½¢ã®ä»®æƒ³ç·šã‚’å¼•ãã€é–‹å§‹ç‚¹ã‚’ 0.0ã€çµ‚äº†ç‚¹ã‚’ 1.0 ã¨ã—ã€<b>addColorStop()</b> ã§ãã‚Œãã‚Œã®ãƒã‚¤ãƒ³ãƒˆã®è‰²ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var gradient = ct.<em>createLinearGradient(10, 10, 90, 90)</em>;
  gradient.<em>addColorStop(0.0, 'rgb(255, 90, 90)')</em>;
  gradient.<em>addColorStop(0.5, 'rgb(90, 255, 90)')</em>;
  gradient.<em>addColorStop(1.0, 'rgb(90, 90, 255)')</em>;
  ct.beginPath();
  ct.fillStyle = gradient;
  ct.rect(10, 10, 80, 80);
  ct.fill();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-addColorStop" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-addColorStop'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  var gradient = ct.createLinearGradient(10, 10, 90, 90);
  gradient.addColorStop(0.0, 'rgb(255, 90, 90)');
  gradient.addColorStop(0.5, 'rgb(90, 255, 90)');
  gradient.addColorStop(1.0, 'rgb(90, 90, 255)');
  ct.beginPath(); ct.fillStyle = gradient; ct.rect(10, 10, 80, 80); ct.fill();
  ct.fillStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.arc(10, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(90, 90, 2, 0, Math.PI * 2, false); ct.fill();
  ct.strokeStyle = "rgb(120, 120, 120)";
  ct.beginPath(); ct.moveTo(10, 10); ct.lineTo(90, 90); ct.stroke();
  ct.fillText("(10, 10)", 13, 9);
  ct.fillText("(90, 90)", 92, 90);
});
</script>
</div>
</div>

<h5 id="createRadialGradient">â—† <i>gradient</i> = <i>context</i>.createRadialGradient(<i>x0</i>, <i>y0</i>, <i>r0</i>, <i>x1</i>, <i>y1</i>, <i>r1</i>)</h5>
<div class=i>
<p>å††å½¢ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚<b>createRadialGradient()</b> ã§ä¸­å¿ƒ (<i>x0</i>, <i>y0</i>)ã€åŠå¾„ <i>r0</i> ã®é–‹å§‹å††ã€ä¸­å¿ƒ (<i>x1</i>, <i>y1</i>)ã€åŠå¾„ <i>r1</i> ã®çµ‚äº†å††ã‚’ä½œæˆã—ã€é–‹å§‹å††ã‚’ 0.0ã€çµ‚äº†å††ã‚’ 1.0 ã¨ã—ã€<b>addColorStop()</b> ã§ãã‚Œãã‚Œã®å††å¼§ã®è‰²ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä½œæˆã—ãŸã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ <b>fillStyle</b> ã‚„ <b>strokeStyle</b> ã«è¨­å®šã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var gradient = ct.<em>createRadialGradient(40, 40, 0, 50, 50, 50)</em>;
  gradient.addColorStop(0.0, 'rgb(90, 90, 255)');
  gradient.addColorStop(0.5, 'rgb(90, 255, 90)');
  gradient.addColorStop(1.0, 'rgb(255, 90, 90)');
  ct.beginPath();
  ct.fillStyle = gradient;
  ct.arc(50, 50, 40, 0, Math.PI * 2);
  ct.fill();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-createRadialGradient" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-createRadialGradient'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  var gradient = ct.createRadialGradient(40, 40, 0, 50, 50, 50);
  gradient.addColorStop(0.0, 'rgb(90, 90, 255)');
  gradient.addColorStop(0.5, 'rgb(90, 255, 90)');
  gradient.addColorStop(1.0, 'rgb(255, 90, 90)');
  ct.beginPath(); ct.fillStyle = gradient; ct.arc(50, 50, 40, 0, Math.PI * 2); ct.fill();
  ct.fillStyle = "rgb(0, 0, 0)";
  ct.beginPath(); ct.arc(40, 40, 2, 0, Math.PI * 2, false); ct.fill();
  ct.beginPath(); ct.arc(50, 50, 2, 0, Math.PI * 2, false); ct.fill();
  ct.strokeStyle = "rgb(120, 120, 120)";
  ct.fillText("(40, 40)", 43, 43);
  ct.fillText("(50, 50)", 53, 53);
});
</script>
</div>
</div>

<h5 id="createPattern">â—† <i>pattern</i> = <i>context</i>.createPattern(<i>image</i>, <i>repetition</i>)</h5>
<div class=i>
<p>å¡—ã‚Šã¤ã¶ã—ã«ä½¿ç”¨ã™ã‚‹ç”»åƒã‚’æŒ‡å®šã—ã¾ã™ã€‚<i>repetition</i> ã«ã¯ã€ç¹°ã‚Šè¿”ã—(<b>repeat</b>)ã€Xæ–¹å‘ã®ã¿ç¹°ã‚Šè¿”ã—(<b>repeat-x</b>)ã€Yæ–¹å‘ã®ã¿ç¹°ã‚Šè¿”ã—(<b>repeat-y</b>)ã€ç¹°ã‚Šè¿”ã•ãªã„(<b>no-repeat</b>) ã®ã„ãšã‚Œã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚fillRecv() ãªã©ã®æç”»é–¢æ•°ã¯ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã® onload ãƒãƒ³ãƒ‰ãƒ©ã®ä¸­ã«è¨˜è¿°ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var img = new Image();
  img.src = './image/back.png?' + new Date().getTime();
  img.onload = function() {
    var pattern = ct.<em>createPattern(img, 'repeat')</em>;
    ct.fillStyle = pattern;
    ct.fillRect(10, 10, 80, 80);
  };
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-createPattern" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-createPattern'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  var img = new Image();
  img.src = '../../image/kingyo.gif?' + new Date().getTime();
  img.onload = function() {
    var pattern = ct.createPattern(img, 'repeat');
    ct.fillStyle = pattern;
    ct.fillRect(10, 10, 80, 80);
  };
});
</script>
</div>
</div>

<h4 id="draw-rect">çŸ©å½¢æç”»</h4>

<h5 id="clearRect">â—† <i>context</i>.clearRect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</h5>
<div class=i>
<p>å·¦ä¸Šç«¯ã‚’ (<i>x</i>, <i>y</i>)ã€æ¨ªå¹… <i>w</i>ã€é«˜ã• <i>h</i> ã¨ã™ã‚‹çŸ©å½¢é ˜åŸŸã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.fillRect(10, 10, 80, 80);
  ct.<em>clearRect(30, 30, 40, 40)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-clearRect" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-clearRect'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.fillRect(10, 10, 80, 80);
  ct.clearRect(30, 30, 40, 40);
});
</script>
</div>
</div>

<h5 id="fillRect">â—† <i>context</i>.fillRect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</h5>
<div class=i>
<p>å·¦ä¸Šç«¯ã‚’ (<i>x</i>, <i>y</i>)ã€æ¨ªå¹… <i>w</i>ã€é«˜ã• <i>h</i> ã¨ã™ã‚‹çŸ©å½¢é ˜åŸŸã‚’ <a href="#fillStyle">fillStyle</a> ã§æŒ‡å®šã—ãŸè‰²ã§å¡—ã‚Šã¤ã¶ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.fillStyle = 'rgb(160, 160, 255)';
  ct.<em>fillRect(10, 10, 80, 80)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-fillRect" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-fillRect'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.fillStyle = 'rgb(160, 160, 255)';
  ct.fillRect(10, 10, 80, 80);
  ct.font = "8pt Arial";
  ct.fillStyle = 'rgb(0, 0, 0)';
  ct.beginPath(); ct.arc(10, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(10, 10)", 13, 22);
  ct.fillText("80", 43, 88);
  ct.fillText("80", 76, 55);
});
</script>
</div>
</div>

<h5 id="strokeRect">â—† <i>context</i>.strokeRect(<i>x</i>, <i>y</i>, <i>w</i>, <i>h</i>)</h5>
<div class=i>
<p>å·¦ä¸Šç«¯ã‚’ (<i>x</i>, <i>y</i>)ã€æ¨ªå¹… <i>w</i>ã€é«˜ã• <i>h</i> ã¨ã™ã‚‹çŸ©å½¢ã‚’ <a href="#strokeStyle">strokeStyle</a> ã§æŒ‡å®šã—ãŸè‰²ã§æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.strokeStyle = 'rgb(0, 0, 255)';
  ct.<em>strokeRect(10, 10, 80, 80)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-strokeRect" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-strokeRect'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.strokeStyle = 'rgb(0, 0, 255)';
  ct.strokeRect(10, 10, 80, 80);
  ct.font = "8pt Arial";
  ct.fillStyle = 'rgb(0, 0, 0)';
  ct.beginPath(); ct.arc(10, 10, 2, 0, Math.PI * 2, false); ct.fill();
  ct.fillText("(10, 10)", 13, 22);
  ct.fillText("80", 43, 88);
  ct.fillText("80", 76, 55);
});
</script>
</div>
</div>

<h4 id="draw-text">ãƒ†ã‚­ã‚¹ãƒˆæç”»</h4>

<h5 id="fillText">â—† <i>context</i>.fillText(<i>text</i>, <i>x</i>, <i>y</i> [, <i>maxWidth</i> ] )</h5>
<div class=i>
<p>ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã®å·¦ç«¯ã‚’ (<i>x</i>, <i>y</i>) ã¨ã—ã¦ã€ãƒ†ã‚­ã‚¹ãƒˆ <i>text</i> ã‚’æç”»ã—ã¾ã™ã€‚<i>maxWidth</i> ã¯ã€æœ€å¤§ã®æ¨ªå¹…ã‚’æŒ‡å®šã—ã¾ã™ã€‚æ¨ªå¹…ã‚’è¶…ãˆã‚‹å ´åˆã€ãƒ†ã‚­ã‚¹ãƒˆã¯æ¨ªæ–¹å‘ã«åœ§ç¸®ã•ã‚Œã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.font = "20pt Arial";
  ct.<em>fillText("Hello world!!", 20, 60)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-fillText" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-fillText'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "20pt Arial";
  ct.fillText("Hello world!!", 20, 60);
  ct.beginPath(); ct.arc(20, 60, 2, 0, Math.PI * 2, false); ct.fill();
  ct.font = "8pt Arial";
  ct.fillText("(20, 60)", 20, 72);
});
</script>
</div>
</div>

<h5 id="strokeText">â—† <i>context</i>.strokeText(<i>text</i>, <i>x</i>, <i>y</i> [, <i>maxWidth</i> ] )</h5>
<div class=i>
<p>ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã®å·¦ç«¯ã‚’ (<i>x</i>, <i>y</i>) ã¨ã—ã¦ã€ãƒ†ã‚­ã‚¹ãƒˆ <i>text</i> ã‚’ç™½æŠœãã§æç”»ã—ã¾ã™ã€‚<i>maxWidth</i> ã¯ã€æœ€å¤§ã®æ¨ªå¹…ã‚’æŒ‡å®šã—ã¾ã™ã€‚æ¨ªå¹…ã‚’è¶…ãˆã‚‹å ´åˆã€ãƒ†ã‚­ã‚¹ãƒˆã¯æ¨ªæ–¹å‘ã«åœ§ç¸®ã•ã‚Œã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.font = "20pt Arial";
  ct.<em>strokeText("Hello world!!", 20, 60)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-strokeText" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-strokeText'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "20pt Arial";
  ct.strokeText("Hello world!!", 20, 60);
  ct.beginPath(); ct.arc(20, 60, 2, 0, Math.PI * 2, false); ct.fill();
  ct.font = "8pt Arial";
  ct.fillText("(20, 60)", 20, 72);
});
</script>
</div>
</div>

<h5 id="measureText">â—† <i>metrics</i> = <i>context</i>.measureText(<i>text</i>)</h5>
<h5 id="metrics-width">â—† <i>metrics</i>.width</h5>
<div class=i>
<p><b>measureText()</b> ã¯ <i>text</i> ã®ãƒ¡ãƒˆãƒªãƒƒã‚¯æƒ…å ± <i>metrics</i> ã‚’è¿”ã—ã¾ã™ã€‚<i>metrics</i>.<b>width</b> ã¯ãƒ†ã‚­ã‚¹ãƒˆã®æ¨ªå¹…ã‚’å‚ç…§ã—ã¾ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€æ–‡å­—å¹…ã‚’è¨ˆç®—ã—ã€çŸ©å½¢ã®ä¸­å¤®ã«æ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.font = '12pt Arial';
  ct.strokeRect(10, 10, 220, 80);
  var text = "HTML5 Canvas Reference";
  var metrics = ct.<em>measureText(text)</em>;
  ct.fillText(text, 120 - metrics.width / 2, 50);
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-measureText" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-measureText'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.beginPath(); ct.moveTo(120, 10); ct.lineTo(120, 90); ct.stroke();
  ct.strokeStyle = "rgb(0, 0, 0)";
  ct.font = '12pt Arial';
  ct.strokeRect(10, 10, 220, 80);
  var text = "HTML5 Canvas Reference";
  var metrics = ct.measureText(text);
  ct.fillText(text, 120 - metrics.width / 2, 50);
  ct.font = '8pt Arial';
  ct.fillText("120", 122, 85);
});
</script>
</div>
</div>

<h4 id="draw-path">ãƒ‘ã‚¹æç”»</h4>

<h5 id="beginPath">â—† <i>context</i>.beginPath()</h5>
<div class=i>
<p>æ–°ã—ã„ãƒ‘ã‚¹ã‚’å§‹ã‚ã‚‹ãŸã‚ã«ã€ç¾åœ¨ã®ãƒ‘ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚</p>
</div>

<h5 id="stroke">â—† <i>context</i>.stroke()</h5>
<div class=i>
<p>ç¾åœ¨ã®ç·šå¼•ãã‚¹ã‚¿ã‚¤ãƒ«ã§ã€ç¾åœ¨ã®ã‚µãƒ–ãƒ‘ã‚¹ã‚’æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(30, 30); ct.lineTo(30, 70); ct.lineTo(70, 70);
  ct.moveTo(130, 30); ct.lineTo(130, 70); ct.lineTo(170, 70);
  ct.<em>stroke()</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-stroke" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-stroke'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.beginPath();
  ct.moveTo(30, 30); ct.lineTo(30, 70); ct.lineTo(70, 70);
  ct.moveTo(130, 30); ct.lineTo(130, 70); ct.lineTo(170, 70);
  ct.stroke();
});
</script>
</div>
</div>

<h5 id="fill">â—† <i>context</i>.fill()</h5>
<div class=i>
<p>ç¾åœ¨ã®å¡—ã‚Šã¤ã¶ã—ã‚¹ã‚¿ã‚¤ãƒ«ã§ã€ç¾åœ¨ã®ã‚µãƒ–ãƒ‘ã‚¹ã‚’å¡—ã‚Šã¤ã¶ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.moveTo(30, 30); ct.lineTo(30, 70); ct.lineTo(70, 70);
  ct.moveTo(130, 30); ct.lineTo(130, 70); ct.lineTo(170, 70);
  ct.<em>fill()</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-fill" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-fill'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.beginPath();
  ct.moveTo(30, 30); ct.lineTo(30, 70); ct.lineTo(70, 70);
  ct.moveTo(130, 30); ct.lineTo(130, 70); ct.lineTo(170, 70);
  ct.fill();
});
</script>
</div>
</div>

<h5 id="drawFocusIfNeeded">â—† <i>context</i>.drawFocusIfNeeded(<i>element</i>)</h5>
<div class=i>
<p><i>element</i> ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå½“ãŸã£ã¦ã„ã‚Œã°ã€ç¾åœ¨ã®ãƒ‘ã‚¹ã®å‘¨ã‚Šã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ã‚’æç”»ã—ã¾ã™ã€‚</p>
<div class="tab">HTML</div>
<pre class="c2">
&lt;canvas id="cv1" width="300" height="100"&gt;
  &lt;input type="button" id="b1" value="B1"&gt;
&lt;/canvas&gt;
</pre>
<div class="tab">JavaScript</div>
<pre class="c2">
  var cv = document.getElementById('cv1'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  var b1 = document.getElementById('b1');
  b1.focus();
  ct.beginPath();
  ct.rect(30, 10, 100, 30);
  ct.<em>drawFocusIfNeeded(b1)</em>;
</pre>
</div>

<h5 id="clip">â—† <i>context</i>.clip()</h5>
<div class=i>
<p>ç¾åœ¨ã®ãƒ‘ã‚¹ã®å†…å´ã‚’ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°é ˜åŸŸã¨ã—ã¾ã™ã€‚ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ã‚’è§£é™¤ã™ã‚‹ã«ã¯ã€<a href="#save">save()</a> ã¨ <a href="#restore">restore()</a> ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.arc(80, 50, 40, 0, Math.PI * 2);
  ct.<em>clip()</em>;
  var img = new Image();
  img.src = './image/neko.jpg?' + new Date().getTime();
  img.onload = function() {
    ct.fillStyle = ct.createPattern(img, 'repeat');
    ct.fillRect(10, 10, 110, 80);
  };
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-clip" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-clip'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.save();
  ct.strokeStyle = "rgb(150, 150, 150)";
  ct.strokeRect(10, 10, 110, 80);
  ct.beginPath();
  ct.arc(80, 50, 40, 0, Math.PI * 2);
  ct.clip();
  var img = new Image();
  img.src = '../../image/lemon.jpg?' + new Date().getTime();
  img.onload = function() {
    ct.fillStyle = ct.createPattern(img, 'repeat');
    ct.fillRect(10, 10, 110, 80);
    ct.restore();
    ct.font = '8pt Arial';
    ct.beginPath(); ct.arc(10, 10, 2, 0, Math.PI * 2, false); ct.fill();
    ct.beginPath(); ct.arc(80, 50, 2, 0, Math.PI * 2, false); ct.fill();
    ct.fillText("(10, 10)", 15, 20);
    ct.fillText("(80, 50)", 80, 50);
  };
});
</script>
</div>
</div>

<h5 id="isPointInPath">â—† <i>context</i>.isPointInPath(<i>x</i>, <i>y</i>)</h5>
<div class=i>
<p>æŒ‡å®šã—ãŸåº§æ¨™ãŒã€ç¾åœ¨ã®ãƒ‘ã‚¹ã®å†…å´ã«ã‚ã‚‹ã‹å¦ã‹ã‚’ true, false ã§è¿”ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.beginPath();
  ct.rect(10, 10, 100, 80);
  var ret1 = ct.<em>isPointInPath(50, 50)</em>;
  ct.fillText(ret1, 50, 50);
  var ret2 = ct.<em>isPointInPath(150, 50)</em>;
  ct.fillText(ret2, 150, 50);
  ct.stroke();
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-isPointInPath" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-isPointInPath'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = "8pt Arial";
  ct.beginPath();
  ct.rect(10, 10, 100, 80);
  var ret1 = ct.isPointInPath(50, 50);
  ct.fillText(ret1, 50, 50);
  var ret2 = ct.isPointInPath(150, 50);
  ct.fillText(ret2, 150, 50);
  ct.stroke();
});
</script>
</div>
</div>

<h4 id="draw-image">ã‚¤ãƒ¡ãƒ¼ã‚¸æç”»</h4>

<h5 id="drawImage1">â—† <i>context</i>.drawImage(<i>image</i>, <i>dx</i>, <i>dy</i>)</h5>
<h5 id="drawImage2">â—† <i>context</i>.drawImage(<i>image</i>, <i>dx</i>, <i>dy</i>, <i>dw</i>, <i>dh</i>)</h5>
<h5 id="drawImage3">â—† <i>context</i>.drawImage(<i>image</i>, <i>sx</i>, <i>sy</i>, <i>sw</i>, <i>sh</i>, <i>dx</i>, <i>dy</i>, <i>dw</i>, <i>dh</i>)</h5>
<div class=i>
<p>ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æç”»ã—ã¾ã™ã€‚(<i>dx</i>, <i>dy</i>) ã¯ç”»åƒã‚’æç”»ã™ã‚‹åº§æ¨™ã‚’ç¤ºã—ã¾ã™ã€‚<i>dw</i>, <i>dh</i> ã¯ç”»åƒã®æ¨ªå¹…ã€é«˜ã•ã‚’æŒ‡å®šã—ã¾ã™ã€‚3ç•ªç›®ã®å½¢å¼ã¯ã€è¡¨ç¤ºã™ã‚‹ç”»åƒã® (<i>sx</i>, <i>sy</i>) ã‹ã‚‰æ¨ªå¹… <i>sw</i>ã€é«˜ã• <i>sh</i> ã®é ˜åŸŸã‚’ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ã—ã¦è¡¨ç¤ºã—ã¾ã™ã€‚Internet Explorer ã§ã€ç”»åƒãŒä¸€åº¦èª­ã¿è¾¼ã¾ã‚Œã‚‹ã¨ã€åˆ¥ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¦ã‚‚ onload ãƒãƒ³ãƒ‰ãƒ©ãŒå‘¼ã³å‡ºã•ã‚Œãªã„å•é¡Œã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã«ã€ç”»åƒ URL ã®æœ«å°¾ã« new Date().getTime() ã‚’è¿½åŠ ã—ã€ç”»åƒ URL ãŒæ¯å›å¤‰åŒ–ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var img = new Image();
  img.src = '../../image/ki2.gif?' + new Date().getTime();
  img.onload = function() {
    ct.<em>drawImage(img, 40, 40)</em>;
    ct.<em>drawImage(img, 100, 40, 15, 15)</em>;
    ct.<em>drawImage(img, 4, 4, 16, 16, 160, 40, 30, 30)</em>;
  };
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-drawImage" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-drawImage'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.font = '8pt Arial';
  var img = new Image();
  img.src = '../../image/ki2.gif?' + new Date().getTime();
  img.onload = function() {
    ct.drawImage(img, 40, 40);
    ct.drawImage(img, 100, 40, 15, 15);
    ct.drawImage(img, 4, 4, 16, 16, 160, 40, 30, 30);
    ct.beginPath(); ct.arc(40, 40, 2, 0, Math.PI * 2, false); ct.fill();
    ct.fillText("(40, 40)", 42, 38);
    ct.beginPath(); ct.arc(100, 40, 2, 0, Math.PI * 2, false); ct.fill();
    ct.fillText("(100, 40)", 102, 38);
    ct.fillText("15", 100, 66);
    ct.fillText("15", 116, 53);
    ct.beginPath(); ct.arc(160, 40, 2, 0, Math.PI * 2, false); ct.fill();
    ct.fillText("(160, 40)", 162, 38);
    ct.fillText("30", 170, 80);
    ct.fillText("30", 192, 58);
  };
});
</script>
</div>
</div>

<h4 id="hit-region">ãƒ’ãƒƒãƒˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³</h4>

<h5 id="addHitRegion">â—† <i>context</i>.addHitRegion(<i>options</i>)</h5>
<h5 id="removeHitRegion">â—† <i>context</i>.removeHitRegion(<i>id</i>)</h5>
<h5 id="clearHitRegion">â—† <i>context</i>.clearHitRegions()</h5>
<h5 id="region">â—† <i>event</i>.region</h5>
<div class=i>
<p>ç¾åœ¨ã®ãƒ‘ã‚¹ã«å¯¾ã—ã¦ãƒ’ãƒƒãƒˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¿½åŠ ãƒ»å‰Šé™¤ãƒ»ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚Chrome ã¨ Firefox ã§è©¦é¨“çš„ã«å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€çŸ©å½¢ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒãƒ³ãƒ‰ãƒ©ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚Chrome ã®å ´åˆã¯ã€chrome://flags/#enable-experimental-canvas-features ã‚’ã€Firefox ã®å ´åˆã¯ about:config ã§ canvas.hitregions.enabled ã‚’ true ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var cv = document.getElementById('cv-addHitRegion'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  cv.addEventListener("click", function(event) {
    if (event.<em>region</em>) {
      alert(event.region);
    }
  });
  ct.beginPath();
  ct.rect(30, 30, 40, 40);
  ct.stroke();
  try {
    ct.<em>addHitRegion({id:'Reagion#1'})</em>;
  } catch (e) {
    console.log("Not supported");
  }
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-addHitRegion" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-addHitRegion'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }

  cv.addEventListener("click", function(event) {
    if (event.region) {
      alert(event.region);
    }
  });

  ct.beginPath();
  ct.rect(30, 30, 40, 40);
  ct.stroke();
  try {
    ct.addHitRegion({id:'Reagion#1'});
  } catch (e) {
    console.log("Not supported");
  }
});
</script>
</div>
<p><b>addHitRegion()</b> ã«ã¯ã€ä¸‹è¨˜ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»»æ„ã§æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div><b>id</b>: ãƒ’ãƒƒãƒˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã® ID ã‚’æŒ‡å®šã—ã¾ã™ã€‚<i>event</i>.<b>region</b> ã§å‚ç…§ã§ãã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºæ–‡å­—ã§ã™ã€‚</div>
<div><b>control</b>: ã‚¤ãƒ™ãƒ³ãƒˆãŒãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹è¦ç´ ã‚’æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ null ã§ã™ã€‚</div>
</div>

<h4 id="picel">ãƒ”ã‚¯ã‚»ãƒ«æ“ä½œ</h4>

<h5 id="createImageData1">â—† <i>imagedata</i> = <i>context</i>.createImageData(<i>sw</i>, <i>sh</i>)</h5>
<h5 id="createImageData2">â—† <i>imagedata</i> = <i>context</i>.createImageData(<i>imagedata</i>)</h5>
<h5 id="getImageData">â—† <i>imagedata</i> = <i>context</i>.getImageData(<i>sx</i>, <i>sy</i>, <i>sw</i>, <i>sh</i>)</h5>
<h5 id="imagedata-width">â—† <i>imagedata</i>.width</h5>
<h5 id="imagedata-height">â—† <i>imagedata</i>.height</h5>
<h5 id="imagedata-data">â—† <i>imagedata</i>.data</h5>
<h5 id="putImageData">â—† <i>context</i>.putImageData(<i>imagedata</i>, <i>dx</i>, <i>dy</i> [, <i>dirtyX</i>, <i>dirtyY</i>, <i>dirtyWidth</i>, <i>dirtyHeight</i> ])</h5>
<div class=i>
<p><b>createImageData()</b> ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã™ã€‚<b>width</b> ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã®æ¨ªå¹…ã‚’ã€<b>height</b> ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã®é«˜ã•ã‚’ç¤ºã—ã¾ã™ã€‚<b>data</b> ã¯ <b>height</b> * <b>width</b> * 4 å€‹ã®é…åˆ—ã§ã€Rå€¤ã€Gå€¤ã€Bå€¤ã€é€æ˜åº¦(0ï½255) ã® 4å€‹ã®å€¤ãŒã€æ¨ªå¹…åˆ† Ã— é«˜ã•åˆ†ä¸¦ã³ã¾ã™ã€‚ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€80 Ã— 80 ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã€RGBAå€¤ã‚’æŒ‡å®šã—ã€<b>putImageData()</b> ã§æç”»ã—ã¦ã„ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var img = ct.<em>createImageData(80, 80)</em>;
  for (var y = 0; y &lt; img.<em>height</em>; y++) {
    for (var x = 0; x &lt; img.<em>width</em>; x++) {
      img.<em>data</em>[(y * img.width + x) * 4 + 0] = (y / img.height) * 255;
      img.<em>data</em>[(y * img.width + x) * 4 + 1] = (x / img.width) * 255;
      img.<em>data</em>[(y * img.width + x) * 4 + 2] = 255;
      img.<em>data</em>[(y * img.width + x) * 4 + 3] = 255;
    }
  }
  ct.<em>putImageData(img, 10, 10)</em>;
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-createImageData" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-createImageData'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  var img = ct.createImageData(80, 80);
  for (var y = 0; y < img.height; y++) {
    for (var x = 0; x < img.width; x++) {
      img.data[(y * img.width + x) * 4 + 0] = (y / img.height) * 255;
      img.data[(y * img.width + x) * 4 + 1] = (x / img.width) * 255;
      img.data[(y * img.width + x) * 4 + 2] = 255;
      img.data[(y * img.width + x) * 4 + 3] = 255;
    }
  }
  ct.putImageData(img, 10, 10);
});
</script>
</div>
<p>ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€ç”»åƒ img1 ã‚’è¡¨ç¤ºã—ã€ãã®ç”»åƒã‚’ <b>getImageData()</b> ã§ img2 ã«èª­ã¿å–ã‚Šã€å·¦å³ã‚’é€†è»¢ã•ã›ãªãŒã‚‰ img3 ã«è¤‡è£½ã—ã€æç”»ã—ã¦ã„ã¾ã™ã€‚Chrome ã‚„ Firefox ã§ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶ç´„ã«ã‚ˆã‚Šã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var img1 = new Image();
  img1.src = '../../image/ki2.gif?' + new Date().getTime();
  img1.onload = function() {
    ct.drawImage(img1, 10, 10, 30, 30);
    try {
      var img2 = ct.<em>getImageData(10, 10, 30, 30)</em>;
    } catch (e) {
      console.log(e);
      return;
    }
    var img3 = ct.createImageData(30, 30);
    for (var y = 0; y &lt; img2.height; y++) {
      for (var x = 0; x &lt; img2.width; x++) {
        img3.data[(y * img2.width + x) * 4 + 0] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 0];
        img3.data[(y * img2.width + x) * 4 + 1] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 1];
        img3.data[(y * img2.width + x) * 4 + 2] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 2];
        img3.data[(y * img2.width + x) * 4 + 3] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 3];
      }
    }
    ct.putImageData(img3, 50, 10);
  };
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-createImageData2" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-createImageData2'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  var img1 = new Image();
  img1.src = '../../image/ki2.gif?' + new Date().getTime();
  img1.onload = function() {
    ct.drawImage(img1, 10, 10, 30, 30);
    try {
      var img2 = ct.getImageData(10, 10, 30, 30);
    } catch (e) {
      console.log(e);
      return;
    }
    var img3 = ct.createImageData(30, 30);
    for (var y = 0; y < img2.height; y++) {
      for (var x = 0; x < img2.width; x++) {
        img3.data[(y * img2.width + x) * 4 + 0] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 0];
        img3.data[(y * img2.width + x) * 4 + 1] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 1];
        img3.data[(y * img2.width + x) * 4 + 2] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 2];
        img3.data[(y * img2.width + x) * 4 + 3] = img2.data[(y * img2.width + (img2.width - x - 1)) * 4 + 3];
      }
    }
    ct.putImageData(img3, 50, 10);
  };
});
</script>
</div>
<p>ä¸‹è¨˜ã®ä¾‹ã§ã¯ã€RGBå€¤ã®å¹³å‡å€¤ã‚’è¤‡è£½ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ãƒ¢ãƒãƒˆãƒ¼ãƒ³ç”»åƒã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚Chrome ã‚„ Firefox ã§ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶ç´„ã«ã‚ˆã‚Šã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  var img1 = new Image();
  img1.src = '../../image/ki2.gif?' + new Date().getTime();
  img1.onload = function() {
    ct.drawImage(img1, 10, 10, 30, 30);
    try {
      var img2 = ct.<em>getImageData(10, 10, 30, 30)</em>;
    } catch (e) {
      console.log(e);
      return;
    }
    var img3 = ct.createImageData(30, 30);
    for (var y = 0; y &lt; img2.height; y++) {
      for (var x = 0; x &lt; img2.width; x++) {
        var r = img2.data[(y * img2.width + x) * 4 + 0];
        var g = img2.data[(y * img2.width + x) * 4 + 1];
        var b = img2.data[(y * img2.width + x) * 4 + 2];
        img3.data[(y * img2.width + x) * 4 + 0] = (r + g + b) / 3;
        img3.data[(y * img2.width + x) * 4 + 1] = (r + g + b) / 3;
        img3.data[(y * img2.width + x) * 4 + 2] = (r + g + b) / 3;
        img3.data[(y * img2.width + x) * 4 + 3] = img2.data[(y * img2.width + x) * 4 + 3];
      }
    }
    ct.putImageData(img3, 50, 10);
  };
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-createImageData3" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-createImageData3'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  var img1 = new Image();
  img1.src = '../../image/ki2.gif?' + new Date().getTime();
  img1.onload = function() {
    ct.drawImage(img1, 10, 10, 30, 30);
    try {
      var img2 = ct.getImageData(10, 10, 30, 30);
    } catch (e) {
      console.log(e);
      return;
    }
    var img3 = ct.createImageData(30, 30);
    for (var y = 0; y < img2.height; y++) {
      for (var x = 0; x < img2.width; x++) {
        var r = img2.data[(y * img2.width + x) * 4 + 0];
        var g = img2.data[(y * img2.width + x) * 4 + 1];
        var b = img2.data[(y * img2.width + x) * 4 + 2];
        img3.data[(y * img2.width + x) * 4 + 0] = (r + g + b) / 3;
        img3.data[(y * img2.width + x) * 4 + 1] = (r + g + b) / 3;
        img3.data[(y * img2.width + x) * 4 + 2] = (r + g + b) / 3;
        img3.data[(y * img2.width + x) * 4 + 3] = img2.data[(y * img2.width + x) * 4 + 3];
      }
    }
    ct.putImageData(img3, 50, 10);
  };
});
</script>
</div>
</div>

<h4 id="composing">ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ³ã‚°</h4>

<h5 id="globalAlpha">â—† <i>context</i>.globalAlpha [ = <i>value</i> ]</h5>
<div class=i>
<p>é€æ˜åº¦ã‚’å‚ç…§(è¨­å®š)ã—ã¾ã™ã€‚é€æ˜åº¦ã¯ã€0.0ï½1.0 ã®æ•°å€¤ã§æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  // é’ã„çŸ©å½¢
  ct.fillStyle = 'rgb(160, 160, 255)';
  ct.fillRect(10, 40, 160, 20);
  // èµ¤ã„çŸ©å½¢
  ct.fillStyle = 'rgb(255, 160, 160)';
  ct.fillRect(20, 20, 60, 60);
  // èµ¤ã„çŸ©å½¢(åŠé€æ˜)
  ct.<em>globalAlpha = 0.5</em>;
  ct.fillRect(100, 20, 60, 60);
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-globalAlpha" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-globalAlpha'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.fillStyle = 'rgb(160, 160, 255)';
  ct.fillRect(10, 40, 160, 20);
  ct.fillStyle = 'rgb(255, 160, 160)';
  ct.fillRect(20, 20, 60, 60);
  ct.globalAlpha = 0.5;
  ct.fillRect(100, 20, 60, 60);
});
</script>
</div>
</div>

<h5 id="globalCompositeOperation">â—† <i>context</i>.globalCompositeOperation [ = <i>value</i> ]</h5>
<div class=i>
<p>globalCompositeOperation ã¯ã€è¤‡æ•°ã®ç”»åƒãŒé‡ãªã£ãŸå ´åˆã®å‹•ä½œã‚’å‚ç…§(è¨­å®š)ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.fillStyle = 'rgb(160, 160, 255)';
  ct.fillRect(10, 10, 40, 40);
  ct.<em>globalCompositeOperation = 'xor'</em>;
  ct.fillStyle = 'rgb(255, 160, 160)';
  ct.fillRect(30, 30, 40, 40);
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-globalCompositeOperation" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-globalCompositeOperation'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.fillStyle = 'rgb(160, 160, 255)';
  ct.fillRect(10, 10, 40, 40);
  ct.globalCompositeOperation = 'xor';
  ct.fillStyle = 'rgb(255, 160, 160)';
  ct.fillRect(30, 30, 40, 40);
});
</script>
</div>
<div><b>source-atop</b>: ä¸¡æ–¹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä¸é€æ˜ãªéƒ¨åˆ†ã«æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã€ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä¸é€æ˜ã§æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒé€æ˜ãªéƒ¨åˆ†ã«ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>source-in</b>: æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ã¯ã¿å‡ºã™éƒ¨åˆ†ã®ã¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>source-out</b>: æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã«é‡ãªã‚‹éƒ¨åˆ†ã®ã¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>source-over</b>: é‡ãªã‚‹éƒ¨åˆ†ã«æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>destination-atop</b>: ä¸¡æ–¹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä¸é€æ˜ãªéƒ¨åˆ†ã«ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã€æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä¸é€æ˜ã§ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒé€æ˜ãªéƒ¨åˆ†ã«æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>destination-in</b>: ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ã¯ã¿å‡ºã™éƒ¨åˆ†ã®ã¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>destination-out</b>: ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã«é‡ãªã‚‹éƒ¨åˆ†ã®ã¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>destination-over</b>: é‡ãªã‚‹éƒ¨åˆ†ã«ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>lignter</b>: é‡ãªã£ãŸéƒ¨åˆ†ã«ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã® RGBAå€¤ ã‚’åˆè¨ˆã—ãŸã‚‚ã®(æœ€å¤§255)ã‚’æç”»ã—ã¾ã™ã€‚</div>
<div><b>copy</b>: ç›¸æ‰‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä»£ã‚ã‚Šã«æç”»ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
<div><b>xor</b>: é‡ãªã‚‹éƒ¨åˆ†ã‚’é€æ˜ã«ã—ã¾ã™ã€‚</div>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-globalCompositeOperation-source-atop" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-source-in" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-source-out" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-source-over" width="100" height="100"></canvas><br>
<canvas id="cv-globalCompositeOperation-destination-atop" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-destination-in" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-destination-out" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-destination-over" width="100" height="100"></canvas><br>
<canvas id="cv-globalCompositeOperation-lighter" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-copy" width="100" height="100"></canvas>
<canvas id="cv-globalCompositeOperation-xor" width="100" height="100"></canvas>
<script>
$(function() {
  var typeList = [
    'source-atop', 'source-in', 'source-out', 'source-over',
    'destination-atop', 'destination-in', 'destination-out', 'destination-over',
    'lighter', 'copy', 'xor'
  ];

  typeList.forEach(function(item) {
    var cv = document.getElementById('cv-globalCompositeOperation-' + item); if (!cv) { return; }
    var ct = cv.getContext('2d'); if (!ct) { return; }
    ct.font = '8pt Arial';
    ct.fillStyle = 'rgb(160, 160, 255)';
    ct.fillRect(20, 10, 40, 40);
    ct.globalCompositeOperation = item;
    ct.fillStyle = 'rgb(255, 160, 160)';
    ct.fillRect(40, 30, 40, 40);
    ct.fillStyle = 'rgb(0, 0, 0)';
    ct.globalCompositeOperation = 'source-over';
    ct.fillText(item, 50 - ct.measureText(item).width / 2, 90);
  });
});
</script>
</div>
</div>

<h4 id="shadow">å½±</h4>

<h5 id="shadowColor">â—† <i>context</i>.shadowColor [ = <i>value</i> ]</h5>
<h5 id="shadowOffsetX">â—† <i>context</i>.shadowOffsetX [ = <i>value</i> ]</h5>
<h5 id="shadowOffsetY">â—† <i>context</i>.shadowOffsetY [ = <i>value</i> ]</h5>
<h5 id="shadowBlur">â—† <i>context</i>.shadowBlur [ = <i>value</i> ]</h5>
<div class=i>
<p>å½±ã‚’æŒ‡å®šã—ã¾ã™ã€‚<b>shadowColor</b> ã¯å½±ã®è‰²ã€<b>shadowOffsetX</b>, <b>shadowOffsetY</b> ã¯å½±ã®ä½ç½®ã€<b>shadowBlur</b> ã¯ã¼ã‹ã—ãƒ¬ãƒ™ãƒ«ã‚’å‚ç…§(è¨­å®š)ã—ã¾ã™ã€‚</p>
<div class="tab">JavaScript</div>
<pre class="c2">
  ct.<em>shadowColor</em> = 'rgb(90, 90, 90)';
  ct.<em>shadowOffsetX</em> = 5;
  ct.<em>shadowOffsetY</em> = 5;
  ct.<em>shadowBlur</em> = 5;
  ct.fillRect(10, 10, 60, 60);
</pre>
<div class="tab">Example</div>
<div class="c2">
<canvas id="cv-shadowColor" width="300" height="100"></canvas>
<script>
$(function() {
  var cv = document.getElementById('cv-shadowColor'); if (!cv) { return; }
  var ct = cv.getContext('2d'); if (!ct) { return; }
  ct.shadowColor = 'rgb(90, 90, 90)';
  ct.shadowOffsetX = 5;
  ct.shadowOffsetY = 5;
  ct.shadowBlur = 5;
  ct.fillRect(10, 10, 60, 60);
});
</script>
</div>
</div>

<h4 id="links">ãƒªãƒ³ã‚¯</h4>
<div class=i>
<ul>
<li><a href="javascript:if(confirm('http://www.w3.org/TR/2dcontext/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.w3.org/TR/2dcontext/'" tppabs="http://www.w3.org/TR/2dcontext/">http://www.w3.org/TR/2dcontext/</a>
</ul>
</div>

<hr>
<div>Copyright (C) 2015-2017 æœç”«ã€…</div>
<div>åˆç‰ˆ:2015å¹´10æœˆ4æ—¥ æœ€çµ‚æ›´æ–°:2017å¹´12æœˆ31æ—¥</div>
<div>http://www.tohoho-web.com/html/canvas/index.html</div>
</body>
</HTML>
