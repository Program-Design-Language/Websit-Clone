<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ruby入門 - 数値・文字列・型 - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="../style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>Ruby入門 - 数値・文字列・型</h2>
<a href="../www.htm" tppabs="http://www.tohoho-web.com/www.htm">トップ</a> &gt;
<a href="index.html" tppabs="http://www.tohoho-web.com/ruby/index.html">Ruby入門</a> &gt;
数値・文字列・型

<h4 id="integer">整数(Integer)</h4>
<div class=i>
<p><b>整数</b>(<b>Integer</b>)は下記の様に記述します。</p>
<div class="tab">Ruby</div>
<pre class=c2>
num = <em>1234</em>        // 正の整数
num = <em>-1234</em>       // 負の整数
</pre>
<p><b>0d</b>, <b>0x</b>, <b>0o</b>, <b>0b</b> はそれぞれ、10進数、16進数、8進数、2進数を意味します。</p>
<div class="tab">Ruby</div>
<pre class=c2>
num = <em>0d1234</em>       // 10進数 (0dで始まる数値は10進数とみなされる)
num = <em>0xffff</em>       // 16進数 (0xで始まる数値は16進数とみなされる)
num = <em>0o777</em>        //  8進数 (0oで始まる数値は 8進数とみなされる)
num = <em>0b11000100</em>   //  2進数 (0bで始まる数値は 2進数とみなされる)
</pre>
<p>数値の途中のアンダーバー(<b>_</b>)は無視されます。これは、桁数の多い数値をわかりやすく表現する際に利用されます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
num = <em>1_230_000_000</em>       // 1,230,000,000
</pre>
</div>

<h4 id="float">浮動小数点数(Float)</h4>
<div class=i>
<p><b>浮動少数点数</b>(<b>Float</b>)は下記の様に記述します。</p>
<div class="tab">Ruby</div>
<pre class=c2>
num = <em>1.234</em>     // 浮動小数点数
num = <em>1.2e3</em>     // 浮動小数点数(指数表記) 1.2 × 10<sup><small>3</small></sup>
</pre>
</div>

<h4 id="boolean">論理型(Boolean)</h4>
<div class=i>
<p><b>論理値</b>(<b>Boolean</b>)は、<b>true</b> または <b>false</b> で表します。これらは、TrueClass, FalseClass クラスの唯一のインスタンスです。</p>
<div class="tab">Ruby</div>
<pre class=c2>
bool = <em>true</em>
bool = <em>false</em>
</pre>
</div>

<h4 id="string">文字列(String)</h4>
<div class=i>
<p><b>文字列</b>(<b>String</b>)は、ダブルクォート(<b>"</b>)、またはシングルクォート(<b>'</b>)で囲みます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
str = <em>"Hello world"</em>
str = <em>'Hello world'</em>
</pre>
<p>"..." の中では ' を、'...' の中では " を使うことができます。"..." の中で " を、'...' の中で ' を使用するには、バックスラッシュ(<b>\</b>)を用いて引用符をエスケープ(無効化)します。</p>
<div class="tab">Ruby</div>
<pre class=c2>
str = "He said <em>\"</em>I<em>'</em>ll be back.<em>\"</em>"
str = 'He said <em>"</em>I<em>\'</em>ll be back.<em>"</em>'
</pre>
<p>"..." の中では、後述のバックスラッシュ記法や、式展開を用いることができます。'...' の中では \\ と \' のみが意味を持ちます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
str = "My name is <em>#{name}</em>.<em>\n</em>"
</pre>
</div>

<h4 id="escape">エスケープシーケンス(\x)</h4>
<div class=i>
<p>"..." の中では、バックスラッシュ(<b>\</b>)を用いて、下記の<b>エスケープシーケンス</b>を使用できます。</p>
<div class="tab">エスケープシーケンス</div>
<pre class=c2>
<em>\t</em> : タブ(TAB:0x09)
<em>\v</em> : 垂直タブ(VT:0x0b)
<em>\n</em> : 改行(ラインフィード:LF:0x0a)
<em>\r</em> : キャリッジリターン(CR:0x0d)
<em>\f</em> : フォームフィード(FF:0x0c)
<em>\b</em> : バックスペース(BS:0x08)
<em>\a</em> : ベル(BEL:0x07)
<em>\e</em> : エスケープ(ESC:0x1b)
<em>\s</em> : 空白(SPC:0x20)
<em>\\</em> : バックスラッシュ(\)
<em>\改行</em> : 改行(LF:0x0a)
<em>\<i>nnn</i></em> : 8進表記文字(nは0～7)
<em>\x<i>nn</i></em> : 16進表記文字(nは0～f)
<em>\u<i>nnnn</i></em> : ユニコード文字nnnn (Ruby 1.9～)
<em>\u{<i>nnnn</i>}</em> : ユニコード文字nnnn (Ruby 1.9～)
<em>\c<i>x</i></em> : コントロール文字(xはASCII文字)
<em>\C-<i>x</i></em> : コントロール文字(xはASCII文字)
<em>\M-<i>x</i></em> : メタ文字(xはASCII文字)
<em>\M-\C-<i>x</i></em> : メタコントロール
</pre>
</div>

<h4 id="expsubst">式展開(#{...})</h4>
<div class=i>
<p>文字列の中では、<b>#{式}</b> の形式で <b>式展開</b> することができます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
name = "Tanaka"
puts "My name is <em>#{name}</em>"          #=&gt; My name is Tanaka

x = 5; y = 3
puts "Answer is <em>#{ x + y }</em>"        #=&gt; Answer is 8
</pre>
<p>式が変数で、@ や $ で始まる場合は、{ } を省略することができます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
puts "My name is #{@name}"
puts "My name is <em>#@name</em>"
</pre>
<p>式展開を抑止するには、# の前にバックスラッシュ(<b>/</b>)を書きます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
puts "You can use <em>\#{</em>expression} notation in the ruby string."
</pre>
</div>

<h4 id="command">コマンド出力(`...`)</h4>
<div class=i>
<p>バッククォート(<b>`</b>)で囲まれた文字列は、バックスラッシュ記法や式展開が行われた後、<b>コマンド出力</b>として実行され、コマンドの実行結果が文字列として返されます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
puts <em>`date`</em>        # =&gt; Thu Sat 18 18:15:47 JST 2013
</pre>
<p>コマンドの終了ステータスを得るには、<b>$?</b> を参照します。</p>
<div class="tab">Ruby</div>
<pre class=c2>
date = `date`
status = <em>$?</em>
</pre>
</div>

<h4 id="heredoc">ヒアドキュメント(&lt;&lt;)</h4>
<div class=i>
<p><b>ヒアドキュメント</b>(<b>&lt;&lt;識別子</b>)の構文を用いて、複数行の文字列を現すことができます。下記の例では、This is ～ の2行が表示されます。識別子は、アンダーバー(_)を含む半角英数字(最初の文字は数値以外)であれば何でも使用できます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
print <em>&lt;&lt;END_OF_STRING</em>
This is Japan.
This is America.
<em>END_OF_STRING</em>
</pre>
<p>最後の識別子のみの行は、行頭や行末にスペースを入れることが許されません。ただし、<b>&lt;&lt;-識別子</b> の構文を用いると、先頭のスペースが許可されます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
  print <em>&lt;&lt;-EOS</em>
This is Japan.
This is America.
  <em>EOS</em>
</pre>
<p>識別子をダブルクォート(")、シングルクォート(')、バッククォート(`)で囲むと、それぞれ、"...", '...', `...` で囲まれた文字列の様に振る舞います。ただし、"..." の中での " や、'...' の中での ' はエスケープする必要はありません。</p>
<div class="tab">Ruby</div>
<pre class=c2>
print <em>&lt;&lt;EOS</em>            # Same as "EOS"
My name is #{name}.
EOS

print <em>&lt;&lt;"EOS"</em>
My name is #{name}.
EOS

print <em>&lt;&lt;'EOS'</em>
You can use #{expression} notation.
EOS

print <em>&lt;&lt;`EOS`</em>
date
EOS
</pre>
<p>一度に複数のヒアドキュメントを使用することもできます。</p>
<div class="tab">Ruby</div>
<pre class=c2>
print <em>&lt;&lt;FIRST, &lt;&lt;SECOND</em>
  This is the first string.
FIRST
  This is the second string.
SECOND
</pre>
</div>

<hr>
<div>Copyright(C) 2014 杜甫々</div>
<div>初版：2014年12月30日、最終更新：2014年12月30日</div>
<div>http://www.tohoho-web.com/ruby/types.html</div>
</body>
</html>

