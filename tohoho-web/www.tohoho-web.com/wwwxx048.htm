<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>WindowsでApacheを使おう - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="style3.css" tppabs="http://www.tohoho-web.com/style3.css">
<style type="text/css">
<!--
DT { margin-top: 1em; }
-->
</style>
</head>
<body>
<h2>WindowsでApacheを使おう</h2>
<a href="www.htm" tppabs="http://www.tohoho-web.com/www.htm">トップ</a> &gt;
<a href="wwwhowto.htm" tppabs="http://www.tohoho-web.com/wwwhowto.htm">How To</a> &gt;
WindowsでApacheを使おう

<h4>はじめに</h4>
<div class=i>
<p>Webサーバーの定番である Apache を Windows で使用する方法について紹介します。</p>
</div>

<h4>Apacheをダウンロードする</h4>
<div class=i>
<p>まずは、Apache の Windows 版（日本語版）を入手します。私の場合は <a href="javascript:if(confirm('http://www.apache.jp/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.apache.jp/'" tppabs="http://www.apache.jp/" target="_top">http://www.apache.jp/</a> → [ダウンロード] → [適当なサーバ] → [binaries] → [win32] → [apache_1_3_14_win32.exe] （約3.34MB）をダウンロードしました。</p>
</div>

<h4>Apacheをインストールする</h4>
<div class=i>
<p>ダウンロードした apache_1_3_14_win32.exe をダブルクリックしてインストールします。メッセージは英語ですが、[Next] や [Yes] のボタンを押していけばインストールできると思います。標準では、C:\Program Files\Apache Group\Apache にインストールされます。</p>
</div>

<h4>Apacheを起動する</h4>
<div class=i>
<p>[スタート]-[プログラム]-[Apache Web Server]-[Management]-[Start Apache] でコマンドプロンプトが開いて、Apache が起動します。終了は [Stop Apache] を実行してください。</p>
</div>

<h4>Apacheにアクセスする</h4>
<div class=i>
<p>Internet Explorer などのブラウザから、http://127.0.0.1/ にアクセスしてみましょう。127.0.0.1 は自分自身を意味する特別なアドレスです。ネットワークの接続ダイアログが表示される場合は [キャンセル] して構いません。Apache のトップページが表示されれば成功です。</p>
</div>

<h4>Apacheのマニュアルを見る</h4>
<div class=i>
<p>http://127.0.0.1/manual/ には Apache のマニュアルがあります。よく見ることになるのは [Run-time configuration directives] あたりでしょうか。<a href="javascript:if(confirm('http://www.apache.jp/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.apache.jp/'" tppabs="http://www.apache.jp/" target="_top">http://www.apache.jp/</a> には日本語のマニュアルもあります。</p>
</div>

<h4>Apacheのトップページを書き換える</h4>
<div class=i>
<p>Apache のトップページは、インストールフォルダ（通常 C:\Program Files\Apache Group\Apache）の下の htdocs フォルダの下にあります。manual フォルダ以外は全部捨ててしまって構いません。捨てるのが不安であれば htdocs の下に apache フォルダでも作成してそこに放り込んでおきましょう。このフォルダの下に好きな内容の index.html を作成して、http://127.0.0.1/ で見てみましょう。</p>
</div>

<h4>Apacheの設定ファイルを見る</h4>
<div class=i>
<p>インストールフォルダ（通常 C:\Program Files\Apache Group\Apache）の下の conf\httpd.conf ファイルをメモ帳などのテキストエディタで開いてみましょう。オリジナルのファイルが別にある（httpd.conf.default）ので、少々書き換えてしまっても平気です。重要な設定項目について簡単に紹介します。</p>
<dl>
<dt><b>ServerAdmin <i>サーバー名</i></b></dt>
<dd>このサーバーの管理者のメールアドレスを指定します。このメールアドレスは、ファイルが見つからない時などのエラーページに表示されます。</dd>
<dt><b>ServerRoot <i>フォルダ名</i></b></dt>
<dd>conf/httpd.conf ファイルなどを探す起点となるフォルダ名を指定します。</dd>
<dt><b>DocumentRoot <i>フォルダ名</i></b></dt>
<dd>ドキュメントファイルのトップフォルダを指定します。この下に、index.html などのファイルを置いていきます。</dd>
<dt><b>DirectoryIndex <i>ファイル名</i></b></dt>
<dd>index.html index.htm と指定しておくと、フォルダ名にアクセスされた時に index.html を探し、見つからなければ index.htm を探して表示します。</dd>
<dt><b>Alias <i>仮想パス名</i> <i>実パス名</i></b></dt>
<dd>例えば Alias /icons "C:/IconFiles" と指定すると、http://サーバー名/icons/ にアクセスしたときに、C:/IconFiles を参照するようになります。</dd>
<dt><b>&lt;Directory "フォルダ名"&gt;～&lt;/Directory&gt;</b></dt>
<dd>指定したフォルダに対してのみ設定を行います。</dd>
<dt><b>&lt;Files "ファイル名"&gt;～&lt;/Files&gt;</b></dt>
<dd>指定したファイルに対してのみ設定を行います。</dd>
<dt><b>Options <i>機能名...</i></b></dt>
<dd>そのフォルダで使用可能な機能を記述します。+機能名 は機能を有効に、-機能名 は機能を無効にします。<b>ExecCGI</b> はCGIを有効にします。<b>Includes</b> はSSIを有効にします。<b>Indexes</b> はindex.htmlなどのファイルが見つからないときにファイルの一覧が表示されるようにします。</dd>
<dt><b>AllowOverride <i>機能名...</i></b></dt>
<dd>.htaccess ファイルによって設定可能な項目を指定します。<b>Options</b> は上記の Options 項目、<b>FileInfo</b> はファイルに関する設定項目、<b>AuthConfig</b> はアクセス権に関する設定項目、<b>Limit</b> は制限に関する設定項目、<b>All</b> は全ての設定項目を .htaccess で指定することを許可します。</dd>
</dl>
<p>その他の設定項目の詳細は、Apache のマニュアルや下記のサイトなどを参照してください。</p>
<ul>
<li><a href="javascript:if(confirm('http://www.apache.jp/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.apache.jp/'" tppabs="http://www.apache.jp/" target="_top">http://www.apache.jp/</a></li>
</ul>
</div>

<h4>CGIを使えるようにする</h4>
<div class=i>
<p>CGIを使えるようにするには、httpd.conf の Options 項目に ExecCGI が指定されていること、また、CGI と見なすファイルの拡張子に対して AddHandler cgi-script が指定されている必要があります。</p>
<pre class=c>
Options +ExecCGI
AddHandler cgi-script .cgi
</pre>
<p>&lt;Directory&gt; セクションがあると、そちらの設定の方が優先される場合があるので注意してください。確実に指定したい場合は、httpd.conf ファイルの末尾に下記の記述を追加してください。</p>
<pre class=c>
&lt;Directory "C:/Program Files/Apache Group/Apache/htdocs"&gt;
    Options +ExecCGI
    AddHandler cgi-script .cgi
&lt;/Directory&gt;
</pre>
</div>

<h4>SSIを使えるようにする</h4>
<div class=i>
<p>SSIを使えるようにするには、httpd.conf の Options 項目に Includes が指定されていること、また、SSI を有効とするファイルの拡張子に対して AddType text/x-server-parsed-html が指定されている必要があります。</p>
<pre class=c>
Options Includes
AddType text/x-server-parsed-html .shtml .html
</pre>
</div>

<hr>
<div>Copyright (C) 2001-2003 杜甫々</div>
<div>初版：2001年2月4日、最終更新：2003年4月12日</div>
<div>http://www.tohoho-web.com/wwwxx048.htm</div>
</body>
</html>
