<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>iモード(i-mode)用ページの作り方 - とほほのWWW入門</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" href="style3.css" tppabs="http://www.tohoho-web.com/style3.css">
</head>
<body>
<h2>iモード(i-mode)用ページの作り方</h2>
<a href="www.htm" tppabs="http://www.tohoho-web.com/www.htm">トップ</a> &gt;
<a href="wwwhowto.htm" tppabs="http://www.tohoho-web.com/wwwhowto.htm">How To</a> &gt;
iモード(i-mode)用ページの作り方

<h4>i-mode用ページの作り方</h4>
<div class=i>
<p>通常のブラウザで http://～ というアドレスでアクセスできるページであれば、i-mode でもほとんどのページを表示することができます。ただし、若干の制限があります。このページでは、その制限や注意事項について述べます。</p>
<p>ただし、i-modeの発展は非常に早いので、このページの内容はすぐに古くなるかもしれません。詳細や最新情報は、このページの末尾にあるリンク先を参照してください。</p>
<pre style="width:130px; border:2px solid green; background-color:#333333; color:#ffffff;">
 ★☆リンク☆★ 
＝＝＝＝＝＝＝＝
[1]ニュース
[2]お天気
[3]掲示板
[4]戻る


</pre>
</div>

<h4>パケット課金されます</h4>
<div class=i>
<p>i-mode は月額 300円の基本使用料の他に、転送したデータ量によって重量課金されます。つまり、接続時間ではなく、転送したデータ量によって料金が変わります。データは 1パケット(最大 128バイト、全角 64文字分)で 0.3円です。</p>
<p>このパケットという呼び方はちょっと誤解を招きますが、50バイトのパケットを 10個転送した場合でも、50×10＝500バイト。500÷128＝3.90625→4パケット(切り上げ)。0.3円×4パケット＝1.2円→1円(切り捨て)のように計算するそうです。</p>
<p>とにもかくも、転送するデータ量が少ないほど安くなります。</p>
</div>

<h4>画面がムチャクチャ狭いです</h4>
<div class=i>
<p>もちろんのこと、画面が狭いです。機種にもよりますが、全角で 8×6 から、大きなものでも 10×10 文字程度です。1文字はだいたい12ドット×12ドットで構成されます。縦方向は少々スクロールしても構いませんが、横方向はスクロールされない（&lt;pre&gt; や &lt;plaintext&gt; を用いていても自動改行される）ので、横幅は全角8文字（半角16文字）を厳守した方がよさそうです。</p>
</div>

<h4>１画面の大きさは最大5KB、推奨2KBまで</h4>
<div class=i>
<p>NTTドコモの説明によると、１ページのサイズは「2Kバイト以内を推奨」、最大でも「5KB未満を厳守してください」だそうです。</p>
</div>

<h4>シフトJISのページしか表示できません</h4>
<div class=i>
<p>EUC や JISのページは表示することができません。シフトJISのみ表示することができます。しかし、①（○の中に１）などのPC98文字と呼ばれる機種依存文字は使用できない機種があります。</p>
</div>

<h4>半角カタカナを使用することができます</h4>
<div class=i>
<p>インターネットの世界では嫌う人の多い半角カタカナですが、i-mode では半角カタカナを正常に表示できます。むしろ、画面の広さやデータ量を考えると、使用したほうが好まれます。</p>
</div>

<h4>166種類の絵文字が追加定義されています</h4>
<div class=i>
<p>例えば、&amp;#63899; と表記することで「るんるん」マーク、&amp;#63889; で「ハートマーク」を表示することができます。数値は10進数で記述してください。専用のエディタで対応する文字コードを直接入力することも可能です。絵文字の一覧は下記のページを参照してください。</p>
<ul>
<li><a href="javascript:if(confirm('http://www.nttdocomo.co.jp/mc-user/i/tag/emoji/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.nttdocomo.co.jp/mc-user/i/tag/emoji/index.html'" tppabs="http://www.nttdocomo.co.jp/mc-user/i/tag/emoji/index.html" target="_top">http://www.nttdocomo.co.jp/mc-user/i/tag/emoji/index.html</a></li>
<li><a href="javascript:if(confirm('http://www.docomo-kansai.co.jp/mova/i-mode/file.png  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.docomo-kansai.co.jp/mova/i-mode/file.png'" tppabs="http://www.docomo-kansai.co.jp/mova/i-mode/i-icon-all.html" target="_top">http://www.docomo-kansai.co.jp/mova/i-mode/i-icon-all.html</a></li>
</ul>
<p>いそりすさんが作成されたWindows用のフリーソフト「Page i」を用いると、絵文字をワンクリックでエディタに組み込む事ができます。絵文字用外字ファイルも添付されているので、Windows上のブラウザで絵文字の表示を確認することもできるようになるのでオススメ。</p>
<ul>
<li><a href="javascript:if(confirm('http://hp.vector.co.jp/authors/VA018010/  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://hp.vector.co.jp/authors/VA018010/'" tppabs="http://hp.vector.co.jp/authors/VA018010/" target="_top">http://hp.vector.co.jp/authors/VA018010/</a></li>
</ul>
<p>（注）IEのバグなのか仕様なのか、メモ帳、ワードパッド、Netscapeでは外字が表示されたのに、IE5.0では表示されないこともあるようです。フォントを変更すると表示されたり、されなかったり・・・</p>
</div>

<h4>使用できるタグが限られています</h4>
<div class=i>
<p>i-mode の HTML は、HTML2.0 や HTML4.0 の規格から、主なものだけを抜き出したものになっています。詳細は後述の <a href="#support">サポートされているタグ</a> を参照してください。</p>
</div>

<h4>画像はGIF画像しか表示できません</h4>
<div class=i>
<p>最近は256色カラーに対応したものもでてきましたが、まだ白黒のものも多いです。作成時から白黒2色で作成するのがおススメです。透過GIF、アニメーションGIF、インタレースGIFは一部の機種が対応しています。また、アニメーションGIFに関しては、1画面中4画像、5KBまで、1画像中のコマ数は最大5コマ、繰り返しは最大16回などの制限があります。</p>
<p>最近では JPEG に対応する機種も出ているそうです。(2002.7.28追記)</p>
</div>

<h4>画像は自動縮小されます</h4>
<div class=i>
<p>&lt;img&gt; タグの width 属性に関わらず、画面の横幅を超える画像は、横幅に収まるように縮小されて表示されます。</p>
</div>

<h4>&lt;a href="tel:～"&gt;がサポートされています</h4>
<div class=i>
<p>&lt;a href="tel:0312345678"&gt;～&lt;/a&gt; のリンクをクリックすると、その電話番号に電話をかけます。</p>
</div>

<h4>accesskey がサポートされています</h4>
<div class=i>
<p>&lt;a&gt;や&lt;input&gt; タグで accesskey 属性がサポートされています。アクセスキーには 0～9 を指定できます。アスタリスク（*）とシャープ（#）も指定できますが、D502i などではこれらのキーがスクロールに割り当てられているため、使用できません。アクセスキーに対応するキー（ボタン）を押すとそこにジャンプします。</p>
</div>

<h4>JavaScriptはサポートしていません</h4>
<div class=i>
<p>まだ、JavaScriptはサポートしていません。</p>
</div>

<h4>CGI作成時に、Content-Length:の省略が許されません</h4>
<div class=i>
<p>CGI作成時に通常は Content-type: を書き出しますが、i-mode では、Content-Length: も必須となります。Content-length: には、HTTPのヘッダの終わりを示す、空行の後ろの部分のデータ量をバイト数で記述します。転送する画面のイメージをあらかじめ作成して、以下のようにして送り出すのが無難そうです。（Perlの場合）</p>
<pre class=c>
$len = length($content);
print "Content-type: text/html\n";
print "Content-length: $len\n";
print "\n";
print $content;
exit(0);
</pre>
</div>

<h4>BASIC認証をサポートしています</h4>
<div class=i>
<p>ページへのアクセス時にユーザ名とパスワードを入力するBASIC認証に対応しています。しかし、機種によっては、画面をジャンプする度にユーザ名とパスワードの入力が求められてしまう機種（F501i、N501i、D501i）があるようです。</p>
</div>

<h4>SSLは対応していません</h4>
<div class=i>
<p>まだ、SSLに対応した機種はでてきていないようです。でも、直に出てくるでしょうね。</p>
<p>503iがSSLに対応したそうです。(2001.6.29追記)</p>
</div>

<h4 id="support">サポートされているタグ</h4>
<div class=i>
<p>i-mode対応HTML 1.0 では以下のタグがサポートされています。</p>
<div class=c>
A / BASE / BLOCKQUOTE / BODY / BR / CENTER / DIR / DD / DIV / FORM / HEAD / H1～H6 / HR / HTML / IMG / INPUT / LI / MENU / OL / OPTION / P / PLAINTEXT / PRE / SELECT / TEXTAREA / TITLE / UL
</div>
<p>また、i-mode対応HTML 2.0 では以下のタグがサポートされました。</p>
<div class=c>
BLINK / MARQUEE / META / SELECT / OL / LI / FONT
</div>
<p>BODYタグにおいても、BGCOLOR、TEXT、LINK属性がサポートされ、FONTタグのCOLOR属性と加えて、カラー対応が行われています。</p>
<p>属性値などの詳細は下記のページを参照してください。<br>
<ul>
<li><a href="javascript:if(confirm('http://www.nttdocomo.co.jp/mc-user/i/tag/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.nttdocomo.co.jp/mc-user/i/tag/index.html'" tppabs="http://www.nttdocomo.co.jp/mc-user/i/tag/index.html" target="_top">http://www.nttdocomo.co.jp/mc-user/i/tag/index.html</a></li>
</ul>
</div>

<h4>Compact HTML と i-mode対応HTML</h4>
<div class=i>
<p>i-modeで解釈できるタグの仕様を、NTTドコモでは「<b>i-mode対応HTML</b>」と呼んでいます。また、これをベースとした「<b>Compact HTML</b>」という規格が、HTML規格の策定機関であるW3Cにも提案されています。両者はほとんど同じものなのですが、仕様書の書き写しミスなのかなんなのか、若干の差違があるようです。</p>
</div>

<h4>参考資料</h4>
<div class=i>
[1] iモード対応HTML Version 1.0・2.0タグ・画面イメージ対応表<br>
<a href="javascript:if(confirm('http://www.nttdocomo.co.jp/mc-user/i/tag/index.html  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.nttdocomo.co.jp/mc-user/i/tag/index.html'" tppabs="http://www.nttdocomo.co.jp/mc-user/i/tag/index.html" target="_top">http://www.nttdocomo.co.jp/mc-user/i/tag/index.html</a><br><br>
[2] Compact HTML for Small Information Appliances<br>
W3C NOTE 09-Feb-1998<br>
<a href="javascript:if(confirm('http://www.w3.org/TR/1998/wwwxx012.htm  \n\nļ޷ Teleport Ultra , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.w3.org/TR/1998/wwwxx012.htm'" tppabs="http://www.w3.org/TR/1998/NOTE-compactHTML-19980209" target="_top">http://www.w3.org/TR/1998/NOTE-compactHTML-19980209</a><br>
<br>
</div>
<hr>
<div>Copyright (C) 2000-2002 杜甫々</div>
<div>初版：2000年9月17日、最終更新：2002年7月28日</div>
<div>http://www.tohoho-web.com/wwwxx042.htm</div>
</body>
</html>
