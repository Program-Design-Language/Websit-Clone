<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>window.closeについて</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>window.closeについて</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199804/index.htm">[上に]</a>
<a href="98040003.htm" tppabs="http://www.tohoho-web.com/lng/199804/98040003.htm">[前に]</a>
<a href="98040005.htm" tppabs="http://www.tohoho-web.com/lng/199804/98040005.htm">[次に]</a>
<hr>
<span class=name>ohhashi</span>
<span class=time>1998/04/02(木) 17:06:14</span><br>
初心者なものでちょっと変な質問をしますが<br>
<br>
JavaScriptでwindow.closeを発行した場合、<br>
確認のダイアログが表示されますが<br>
この確認ダイアログを表示せずにwindowを<br>
closeさせる方法はあるのでしょうか？<br>
<br>
また、NNでは、初めに起動したHTML内で<br>
window.closeを発行した時は、確認ダイアログ<br>
が表示されずにwindowがcloseしますが<br>
ボタンなどを押下した後に表示されるHTML内に<br>
window.closeを記述すると確認ダイアログが<br>
表示されてしまいます。<br>
これも表示させない方法がありましたらご教示<br>
願います。<br>
<hr>
<span class=name>TAM</span>
<span class=email><a href="mailto:HFF02464@nifty.ne.jp">[E-Mail]</a></span>
<span class=time>1998/04/08(水) 17:43:07</span><br>
アンカーやフォームでTARGET="WINTITLE" などを使って新たにウィンドウを<br>
オープンしていないでしょうか？<br>
open()関数でウィンドウを新たにオープンした場合は、close()しても確認ダイアログは<br>
表示されません。<br>
HTMLの機能でオープンしたウィンドウをJavaScript関数がクローズしようとしているので、<br>
確認ダイアログが表示されるのだと思います。<br>
<hr>
<span class=name>TAM</span>
<span class=time>1998/04/09(木) 17:44:47</span><br>
追加です。<br>
<br>
新たにウィンドウをオープンするのではなく、同一画面にページを表示した場合です。<br>
この場合、元のページと同じ URL のページに移動したとしても、close() した時点で<br>
確認ダイアログ（confirm）が表示されます。<br>
<br>
理由は、「history objects に一つでも履歴がたまると、close() した時点で<br>
確認ダイアログを表示する」という、JS のセキュリティポリシーだからです。<br>
最初のページを読み込んだ時点では、通常&nbsp;&nbsp;history はない状態ですが、<br>
アンカーやフォームなどを使ってページを移動した場合、history に履歴が生成されます。<br>
<br>
ボタンなどからコールされるイベントプロシジャに Location.replace() を記述して<br>
任意のページに移動すれば、history に履歴は生成されません。<br>
この方法を使えば、OK です。<br>
ただし、コーディングに自由度がなく、大変ではないでしょうか。<br>
<br>
その他に、「署名付き JS」を利用する手もあるかも...<br>
<hr>
<span class=name>ohhashi</span>
<span class=time>1998/04/10(金) 11:35:25</span><br>
<span class=resolv>[[解決]]</span><br>
貴重なご意見ありがとうございました。<br>
さっそく試してみます。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199804/index.htm">[上に]</a>
<a href="98040003.htm" tppabs="http://www.tohoho-web.com/lng/199804/98040003.htm">[前に]</a>
<a href="98040005.htm" tppabs="http://www.tohoho-web.com/lng/199804/98040005.htm">[次に]</a>
</body>
</html>
