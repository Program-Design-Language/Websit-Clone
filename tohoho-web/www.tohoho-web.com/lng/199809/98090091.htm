<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>SSIで自分のＵＲＬを得るには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>SSIで自分のＵＲＬを得るには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199809/index.htm">[上に]</a>
<a href="98090090.htm" tppabs="http://www.tohoho-web.com/lng/199809/98090090.htm">[前に]</a>
<a href="98090092.htm" tppabs="http://www.tohoho-web.com/lng/199809/98090092.htm">[次に]</a>
<hr>
<span class=name>おきな</span>
<span class=time>1998/09/29(火) 13:48:53</span><br>
<br>
複数のHTML中に &lt;!--exec cgi="xxx.cgi"--&gt; を埋め込み、<br>
xxx.cgiの中でファイルにそのときアクセスされたHTMLのURL<br>
を吐き出したいのですが、いい方法が思い付きません。<br>
このサイトのCGI入門で環境変数のPATH_INFOを見ればよいのでは<br>
と思ったのですが、何も表示されないのです。<br>
いい方法があれば教えてください。<br>
<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1998/09/29(火) 23:25:43</span><br>
そーゆーばあいはxxx.cgiの中で、<br>
　foreach ( keys %ENV ){<br>
　　print "$_=$ENV{$_}\n";<br>
　}<br>
としてみませう。さすれば希望の情報が入っている環境変数が<br>
(もし設定されているなら)わかります。<br>
<br>
で、DOCUMENT_URI、DOCUMENT_NAME、SCRIPT_NAME、SCRIPT_FILE<br>
あたりではないですか？<br>
<hr>
<span class=name>Aurai</span>
<span class=email><a href="mailto:jrm@fureai.or.jp">[E-Mail]</a></span>
<span class=time>1998/09/29(火) 23:34:23</span><br>
スクリプトの呼び出しの時にファイル名を渡してみてはいかがですか<br>
スマートなやり方とは言えませんが……<br>
<hr>
<span class=name>おきな</span>
<span class=time>1998/09/30(水) 10:46:03</span><br>
<span class=resolv>[[解決]]</span><br>
<br>
ありがとうございました。<br>
B-Cusさんの方法を試したところ、<br>
<br>
'http://' + $ENV{'SERVER_NAME'} + $ENV{'REQUEST_URI'}<br>
<br>
が正解のようですね。<br>
<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199809/index.htm">[上に]</a>
<a href="98090090.htm" tppabs="http://www.tohoho-web.com/lng/199809/98090090.htm">[前に]</a>
<a href="98090092.htm" tppabs="http://www.tohoho-web.com/lng/199809/98090092.htm">[次に]</a>
</body>
</html>
