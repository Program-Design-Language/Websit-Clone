<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>public_html下の特定下のディレクトリでSSIやCGIなどを無効にするには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>public_html下の特定下のディレクトリでSSIやCGIなどを無効にするには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060244.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060244.htm">[前に]</a>
<a href="99060246.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060246.htm">[次に]</a>
<hr>
<span class=name>Hiromu</span>
<span class=time>1999/06/25(金) 01:19:57</span><br>
public_htmlにおいている.htaccessでCGIやSSIなどを許可しているのですが、<br>
それ以下のある特定のディレクトリ下でそれらを無効にしたいのですが、どうしたらよいのでしょうか？<br>
<br>
また、public_html下のディレクトリに空の.htaccessを置いたとすれば、設定はデフォルト（？）になるのでしょうか？<br>
public_html/.htaccessのものが有効になるのでしょうか？<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/06/25(金) 01:38:54</span><br>
無効にしたいディレクトリの .htaccess に<br>
　Options -ExecCGI -Includes<br>
と書けばいいです。public_html/.htaccessに<br>
　&lt;directory foo&gt;<br>
　　Options -ExecCGI -Includes<br>
　&lt;/directory&gt;<br>
でもいいかもしれない。<br>
<br>
<font color="#CC8000">&gt; また、public_html下のディレクトリに空の.htaccessを置いたとすれば、</font><br>
<font color="#CC8000">&gt; 設定はデフォルト（？）になるのでしょうか？</font><br>
<br>
まずサーバの設定が読まれ、次にpublic_html/.htaccessが読まれ、<br>
その次に public_html/foo/.htaccess が読まれます(よね?)。<br>
ですので、public_html/foo/.htaccess が空なら、サーバの設定と<br>
public_html/.htaccess のみが反映されます。<br>
<hr>
<span class=name>Hiromu</span>
<span class=time>1999/06/25(金) 01:52:54</span><br>
ありがとうございます。<br>
<br>
あと、実はとほほさんのWWWUPLで、アップロードしたファイルに<br>
.uplが自動的につくようになっているのを解除しても大丈夫なようにしたかったんです。<br>
SSIとCGIを禁止すれば、セキュリティー上の問題は拡張子を付け足す並みに安全になるのでしょうか？<br>
これらだけを禁止するだけでは、甘いのでしょうか？<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/06/25(金) 02:18:18</span><br>
いいんでないすか。もちろん10MBのファイル送られたり、という<br>
危険性はありますが。<br>
<br>
でも、改造の仕方にもよりますが、(filenameなしで)name=../fuga とか<br>
送っちゃうと上位のディレクトリに書き込まれるような気がします。<br>
<br>
あと、致命的ではないんですけど、hoge;fuga とかを(URLエンコードしないで)<br>
送った場合、$nameが空になって、ディレクトリへの書き込みになってしまうかも。<br>
# ちゃんとperlがはじいてくれるから、何か書き込まれるわけじゃないんだけど。<br>
<br>
ちゃんとwwwupl2.cgi読んだわけではないので、間違っていたら失礼。<br>
<hr>
<span class=name>Hiromu</span>
<span class=time>1999/06/25(金) 02:36:31</span><br>
たびたび、すみません。<br>
DirectoryIndexを解除する方法とかあるのでしょうか？<br>
indexを送られてしまうと、アップロード先ディレクトリが覗けなくなってしまいます。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060244.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060244.htm">[前に]</a>
<a href="99060246.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060246.htm">[次に]</a>
</body>
</html>
