<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>キーイベントをすぐ発生させる</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>キーイベントをすぐ発生させる</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060241.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060241.htm">[前に]</a>
<a href="99060243.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060243.htm">[次に]</a>
<hr>
<span class=name>雪</span>
<span class=time>1999/06/24(木) 19:30:08</span><br>
新たな問題が出てしまいました。<br>
キーを押したら、動作するイベントで、<br>
キーイベントが動くようになったのですが、<br>
実行した時に、アプレット内でマウスをクリックする前では、<br>
キーを押しても何も起こりません。<br>
マウスをクリックした後では、押したキーによって、<br>
反応しています。<br>
どうすれば最初からキーイベントが起こるようになるのか、<br>
教えてください。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/06/24(木) 19:34:58</span><br>
ソースは?<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/06/24(木) 19:38:41</span><br>
あと、そのアプレットを実際にwebに置いて、誰でも試せるようにしてほしい。<br>
<hr>
<span class=name>雪</span>
<span class=time>1999/06/28(月) 10:31:05</span><br>
ソースは、<br>
import java.applet.Applet;<br>
import java.awt.*;<br>
public class ja04_11 extends Applet {<br>
	Image	imgs;<br>
	int		px = 200, py = 150;<br>
	public void init() {<br>
		imgs = getImage(getDocumentBase(), "bfly6.gif");<br>
	}<br>
	public void paint(Graphics g) {<br>
		g.drawImage(imgs, px, py, this);<br>
	}<br>
	public boolean keyDown(Event&nbsp;&nbsp;evt, int&nbsp;&nbsp;key) {<br>
	switch (key) {<br>
		case Event.UP: py = py-10;	break;<br>
		case Event.DOWN:py = py+10;	break;<br>
		case	1006	:	px = px-10;	break;<br>
		case	1007	:	px = px+10;	break;<br>
		}<br>
		repaint();<br>
		return	true;<br>
	}<br>
}<br>
<hr>
<span class=name>雪</span>
<span class=time>1999/06/28(月) 10:37:41</span><br>
すみません。<br>
変なところで送信を押してしまいました。<br>
もう一度書き直しました。<br>
ソースは、<br>
import java.applet.Applet;<br>
import java.awt.*;<br>
public class ja04_11 extends Applet {<br>
&nbsp;&nbsp;&nbsp;Image imgs;<br>
&nbsp;&nbsp;&nbsp;int px = 200, py = 150;<br>
&nbsp;&nbsp;&nbsp;public void init() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imgs = getImage(getDocumentBase(), "bfly6.gif");<br>
&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;public void paint(Graphics g) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.drawImage(imgs, px, py, this);<br>
&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;public boolean keyDown(Event evt, int key) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch (key) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case Event.UP: py = py-10; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case Event.DOWN: py = py+10; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case Event.LEFT: px = px-10; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case Event.RIGHT: px = px+10; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;repaint();<br>
&nbsp;&nbsp;&nbsp;return true;<br>
&nbsp;&nbsp;&nbsp;}<br>
}<br>
です。<br>
それから、webに置いて、誰でも試せるようにする方法を<br>
知らないのですが、どうすれば良いのですか。<br>
<hr>
<span class=name>雪</span>
<span class=time>1999/06/28(月) 10:59:32</span><br>
<span class=resolv>[[解決]]</span><br>
init() の中で、requestFocus(); を入れることによって、<br>
解決しました。<br>
ご意見ありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060241.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060241.htm">[前に]</a>
<a href="99060243.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060243.htm">[次に]</a>
</body>
</html>
