<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>perlで*.lzhファイルをダウンロードさせるには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>perlで*.lzhファイルをダウンロードさせるには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060292.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060292.htm">[前に]</a>
<a href="99060294.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060294.htm">[次に]</a>
<hr>
<span class=name>KLAUS</span>
<span class=email><a href="mailto:klaus@po.teleway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/06/29(火) 22:48:03</span><br>
はじめまして、KLAUSと言います．<br>
<br>
lzhファイルのダウンロード数をカウントさせるために、<br>
perlでカウントして、<br>
&nbsp;&nbsp;printt "Location: http://〜〜"<br>
としています．<br>
しかし、たまにhtmlとしてブラウザに表示されるときがあります．<br>
<br>
perlで、lzhやzipファイルをブラウザにダウンロードさせるには、<br>
　どの様にすれば1番よいのでしょうか？<br>
<br>
皆さんのアドバイスよろしくお願いします．<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/06/30(水) 13:58:22</span><br>
うまくいくかはわかりませんが、Content-type を application/x-lzh か<br>
application/octet-stream に設定してはどうでしょうか。<br>
<hr>
<span class=name>KLAUS</span>
<span class=email><a href="mailto:klaus@po.teleway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/07/01(木) 01:04:09</span><br>
B-Cusさん、レスありがとうございます．<br>
早速、やってみましたが、*.lzhファイルがダウンロードされずに、<br>
　perlファイル自体がダウンロードされます．<br>
　(なぜなんだろ．．．？)<br>
<br>
レスお待ちしてます．．<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/07/01(木) 01:09:00</span><br>
.htaccessに<br>
　AddType application/x-lzh .lzh<br>
と書いて、CGI側は print "Location: .." としておくか、<br>
あるいはCGI側を<br>
　print "Content-type: application....\n\n";<br>
　open(IN,"hoge.lzh");<br>
　print &lt;IN&gt;<br>
としてはどうか、ということです。<br>
<hr>
<span class=name>KLAUS</span>
<span class=email><a href="mailto:klaus@po.teleway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/07/02(金) 01:08:20</span><br>
<span class=resolv>[[解決]]</span><br>
B-Cusさん、ありがとうございます．<br>
<br>
print "Content-type: application-z-lzh\n\n";<br>
open(IN,"〜.lzh");<br>
print &lt;IN&gt;;<br>
<br>
で、行けました．<br>
<br>
ありがとうございました．<br>
<hr>
<span class=name>KLAUS</span>
<span class=email><a href="mailto:klaus@po.teleway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/07/02(金) 01:09:14</span><br>
<span class=resolv>[[解決]]</span><br>
B-Cusさん、ありがとうございます．<br>
<br>
print "Content-type: application/z-lzh\n\n";<br>
open(IN,"〜.lzh");<br>
print &lt;IN&gt;;<br>
<br>
で、行けました．<br>
<br>
ありがとうございました．<br>
<hr>
<span class=name>KLAUS</span>
<span class=email><a href="mailto:klaus@po.teleway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/07/02(金) 01:10:35</span><br>
<span class=resolv>[[解決]]</span><br>
すいません．<br>
print "Content-type: application/x-lzh\n\n";<br>
ですね．<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060292.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060292.htm">[前に]</a>
<a href="99060294.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060294.htm">[次に]</a>
</body>
</html>
