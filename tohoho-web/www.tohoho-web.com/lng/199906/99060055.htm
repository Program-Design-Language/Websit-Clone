<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>どのようなCGIがサーバーに負荷がかかってしまうのでしょうか？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>どのようなCGIがサーバーに負荷がかかってしまうのでしょうか？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060054.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060054.htm">[前に]</a>
<a href="99060056.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060056.htm">[次に]</a>
<hr>
<span class=name>じぇい</span>
<span class=time>1999/06/06(日) 13:06:48</span><br>
現在メーリングリストを製作中です。<br>
それで、はじめはメーリングリストのデータをすべて同じファイルに保存しようとしていました。<br>
しかし、メーリングリストはデータが莫大になる可能性があると思ったので、一つのファイルにすべてのデータを保存するのは少し問題があるような気がしました。<br>
データは50件ずつの表示にしたのですが、例えば、<br>
<br>
　　open(IN, "$data_file");<br>
　　@all_data = &lt;IN&gt;;<br>
　　close( IN );<br>
<br>
このような感じの処理が途中にあるのですが、この処理をしたとき、一度はすべてのデータを配列に格納するわけだから、データファイルのサイズが膨大だった場合はサーバーに大きな負担がかかるような気がしました。そうなんでしょうか？<br>
<br>
それで、データを数件ごとに別々のファイルに分割しようと思ったのですが、削除処理と表示がうまく両立できません。<br>
データの表示をファイルごとにしようと考えたとき、削除処理を行っていたら、一つのファイルに入っているデータの数がばらばらになってしまいます。<br>
<br>
ひとつのファイルにすべてのデータを収めて、なお、サーバーに負担のかからない方法などはあるのでしょうか？<br>
<br>
また、サーバーに負担をかけずに、削除処理と表示がうまくできるほうほうがあれば教えてください。<br>
<hr>
<span class=name>ＮＡＫ</span>
<span class=time>1999/06/06(日) 20:39:32</span><br>
負担がかかる処理としては、<br>
１．扱うファイルがあまりに巨大。<br>
２．処理が複雑。<br>
３．オープン等の回数が多い。<br>
４．何度も呼び出される。<br>
<br>
等があります（そのまんま(^^;）<br>
抽象的な言い方しかできませんが、<br>
総合的にみて、バランスのとれたものが負担が少ないといえます。<br>
いきなり完璧なものはできません。とりあえず運用してみて、<br>
よくない部分を改善していくのがよいと思います。<br>
同じようなものでも、運用の仕方、状況により最善の方法は違います。<br>
<hr>
<span class=name>じぇい</span>
<span class=time>1999/06/07(月) 04:09:55</span><br>
<span class=resolv>[[解決]]</span><br>
そうですか。<br>
そりゃそうっすね。。<br>
<br>
まあ、とりあえずはそのメーリングリストは自分の所でしか使うつもりはないので、まず運用しています。<br>
データ件数が少ないうちは問題ないと思いますし。。一人当たりのデータ量も少ないと思うので。。<br>
まずは、300件くらいを最大記録数として運用してみます。<br>
いずれ、Perlの理解とと共にいろいろわかってくることを願って。。<br>
<br>
とほほさんのラウンジなどを参考にさせてもらったりもしたのですが、とほほさんも検索の際に、ファイルの総なめという処理を行っているし、表示数を50件、記録数を300件程度なら問題ない、、と自分的に勝手に解釈しました。^^;<br>
<br>
<font color="#CC8000">&gt;３．オープン等の回数が多い。</font><br>
<font color="#CC8000">&gt;４．何度も呼び出される。</font><br>
これは勉強になりました。<br>
ファイルのオープンの回数が多すぎるのもサーバーに負荷のかかる原因となるのですね、、。<br>
<br>
どうもありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199906/index.htm">[上に]</a>
<a href="99060054.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060054.htm">[前に]</a>
<a href="99060056.htm" tppabs="http://www.tohoho-web.com/lng/199906/99060056.htm">[次に]</a>
</body>
</html>
