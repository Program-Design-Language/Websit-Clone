<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>Perl の $#ARGV について</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>Perl の $#ARGV について</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199711/index.htm">[上に]</a>
<a href="97110602.htm" tppabs="http://www.tohoho-web.com/lng/199711/97110602.htm">[前に]</a>
<a href="97110900.htm" tppabs="http://www.tohoho-web.com/lng/199711/97110900.htm">[次に]</a>
<hr>
<span class=name>うほほ</span>
<span class=time>1997/11/06(木) 21:45:23</span><br>
Perl の $#ARGV は、本当に引数の数が入るのでしょうか？<br>
なんどやっても-1 しかはいりません。なにかサーバーの<br>
設定がわるいのでしょうか？どなたか同じような現象がで<br>
たかたがいたら教えてください。<br>
<hr>
<span class=name>miyasiro</span>
<span class=email><a href="mailto:miyasiro@msd.biglobe.ne.jp">[E-Mail]</a></span>
<span class=time>1997/11/08(土) 01:22:54</span><br>
$#ARGV は、引数の数 - 1 の値となります。<br>
だから、引数がない場合は、-1 で正しい値です。<br>
#$配列名は、最後の要素の添え字を表すものであり、<br>
最初の引数は、C と異なり、perl では $ARGV[0] に格納される<br>
ために、このようなことになります。<br>
<hr>
<span class=name>miyasiro</span>
<span class=email><a href="mailto:miyasiro@msd.biglobe.ne.jp">[E-Mail]</a></span>
<span class=time>1997/11/08(土) 02:04:57</span><br>
ここの「perl入門（概要編）」を見たら、上のような説明が<br>
ちゃんとされていますね。<br>
　CGI で perl に引数を与える方法を知らないので、引数は<br>
常になしだと思ってたのですが、何らかの方法で引数を与えて<br>
いるのでしょうか？　それとも、telnet とかで perl を起動する<br>
ときの話でしょうか？<br>
　だとすると、上の RES は、おおハズレです（苦笑）。<br>
<hr>
<span class=name>とほほ</span>
<span class=time>1997/11/09(日) 23:15:14</span><br>
CGIを呼び出す際に<br>
&lt;FORM METHOD=POST ACTION="cgi-bin/xx.cgi?arg1+arg2"&gt;<br>
のように呼び出せば、$#ARGV が 1 になって、$ARGV[0] に<br>
arg1 が、$ARGV[1] に arg2 が設定されると思います。<br>
<hr>
<span class=name>miyasiro</span>
<span class=time>1997/11/10(月) 21:38:32</span><br>
　? 以降が POST の場合に引数にセットされるとは全く<br>
知りませんでした。ご教授ありがとうございます。<br>
　試しにうちの HP のサーバで試してみたところ、QUERY_STRING<br>
と引数の双方にセットされるようです。<br>
<br>
$ENV{'SERVER_SOFTWARE'}&nbsp;&nbsp;&nbsp;= Netscape-Enterprise/2.01<br>
$ENV{'REQUEST_METHOD'}&nbsp;&nbsp;&nbsp;&nbsp;= POST<br>
$ENV{'QUERY_STRING'}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= arg1+arg2<br>
-------------------------------------------<br>
$#ARGV&nbsp;&nbsp;&nbsp;&nbsp;= 1<br>
$ARGV[0]&nbsp;&nbsp;= arg1<br>
$ARGV[1]&nbsp;&nbsp;= arg2<br>
<br>
　ただ、perl が $#ARGV をセットしないというのは考え難い<br>
と思うので、サーバの問題のような気もしますが…<br>
<hr>
<span class=name>miyasiro</span>
<span class=time>1997/11/12(水) 22:35:54</span><br>
すいません。WebMaster の「とほほ」さんの書き込みを、質問者の<br>
「うほほ」さんによるものと勘違いしてました。申し訳ありません。<br>
それから、ここの「CGI/SSI入門」をちゃんと読みました（苦笑）。<br>
これによると、環境変数 QUERY_STRING へのセットよりも、引数への<br>
セットの方が原則であるような印象を受けますね。こういう仕様は、<br>
まったく知りませんでした。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199711/index.htm">[上に]</a>
<a href="97110602.htm" tppabs="http://www.tohoho-web.com/lng/199711/97110602.htm">[前に]</a>
<a href="97110900.htm" tppabs="http://www.tohoho-web.com/lng/199711/97110900.htm">[次に]</a>
</body>
</html>
