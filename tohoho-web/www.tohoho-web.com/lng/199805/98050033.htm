<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>EUCでBODY部にJavaScriptを書くとIE3でそこだけ化ける</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>EUCでBODY部にJavaScriptを書くとIE3でそこだけ化ける</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199805/index.htm">[上に]</a>
<a href="98050032.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050032.htm">[前に]</a>
<a href="98050034.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050034.htm">[次に]</a>
<hr>
<span class=name>mura</span>
<span class=email><a href="mailto:mura@cools.com">[E-Mail]</a></span>
<span class=time>1998/05/17(日) 13:02:24</span><br>
JavaScriptで場合分けしてメッセージの表示をしようと思ってるんですが、<br>
IE3でひらがなや漢字など(記号・英数字以外)が化けちゃいます。<br>
(ネスケ3、ネスケ4では問題なし。IE4は持ってないです。OSはWin95です。)<br>
<br>
<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;TITLE&gt;&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
さいしょのメッセージ<br>
&lt;SCRIPT LANGUAGE=JavaScript&gt;<br>
&lt;!--<br>
document.write('★★★★でも');<br>
// --&gt;<br>
&lt;/SCRIPT&gt;<br>
大丈夫だと思ってたんですが。<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>
<br>
<br>
JavaScriptを有効にしていると<br>
「さいしょのメッセージ★★★★でも大丈夫だと思ってたんですが。」<br>
と表示されるはずです。<br>
<br>
でも「でも」のところだけIE3はシフトJISとして解釈しているようで、<br>
その２文字だけ化けています。(その後ろの「大丈夫」からは問題なし)<br>
<br>
「★」はちゃんと出ます。★の代わりに英数字を入れてもOKです。<br>
(１バイト目が半角カナのコードじゃないから?)<br>
「でも」の後ろ(document.writeの中)に★を入れるとそっちの方は文字化けします。<br>
<br>
TITLEやBODYにどんなにEUC英数字を入れても「でも」だけは化けたままです。<br>
&lt;META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=x-euc-jp"&gt;<br>
を入れてもだめでした。<br>
<br>
なんとか文字コードはEUCのままで、かつ「if(navigator....)」とかで場合分けせずに<br>
IE3でもちゃんと表示する方法ってないでしょうか?<br>
(なければ場合分けで書きますけど)<br>
<hr>
<span class=name>mura</span>
<span class=email><a href="mailto:mura@cools.com">[E-Mail]</a></span>
<span class=time>1998/06/26(金) 21:24:44</span><br>
<span class=resolv>[[解決]]</span><br>
なにやら１バイト目が16進数のA0より大きい文字を見つけると<br>
それ以降が化けるようだというのはわかりました。<br>
化けずに書くには、やっぱ場合分けしかないのかな?<br>
ちょっと面倒ですが場合分けで書いてみることにします。<br>
<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199805/index.htm">[上に]</a>
<a href="98050032.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050032.htm">[前に]</a>
<a href="98050034.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050034.htm">[次に]</a>
</body>
</html>
