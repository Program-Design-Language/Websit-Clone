<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>リターン押して、FORMのSUBMITをさせないには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>リターン押して、FORMのSUBMITをさせないには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199805/index.htm">[上に]</a>
<a href="98050028.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050028.htm">[前に]</a>
<a href="98050030.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050030.htm">[次に]</a>
<hr>
<span class=name>楊</span>
<span class=email><a href="mailto:yang@genesis-net.co.jp">[E-Mail]</a></span>
<span class=time>1998/05/15(金) 10:05:43</span><br>
私は、HTMLでFORMを定義し、INPUT入力領域と、SUBMITボタンを使っています。<br>
でも、IE3.0を使って見る時、入力領域に入力して、リターンキーを押すと、勝手に<br>
SUBMITボタンが押された同様に、FORMのACTIONを起動されてしまいます。<br>
Netscape Communacatorの時でも、入力領域は１つの時、同じ現象が発生します。<br>
どうやってリターンキーを無効にするのでしょうか。私は、マウスでSUBMITボタンを<br>
押下する時のみ、FORMのACTIONを実行させたいですが.......<br>
ご回答をお待ちしております。<br>
<hr>
<span class=name>mura</span>
<span class=email><a href="mailto:mura@cools.com">[E-Mail]</a></span>
<span class=time>1998/05/15(金) 12:52:51</span><br>
方法が２つ見つかりました。他にもあるかも。<br>
<br>
★1: submitボタンのonClickのあとにFORMのonSubmitが動作するという前提です。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(WIN95版のIE3/ネスケ3/ネスケ4ではこうなってました)<br>
<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;TITLE&gt;&lt;/TITLE&gt;<br>
&lt;SCRIPT LANGUAGE=JavaScript&gt;<br>
&lt;!--<br>
var clicked=false;<br>
// --&gt;<br>
&lt;/SCRIPT&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;FORM ACTION="hoge.cgi" METHOD=POST onSubmit="return clicked;"&gt;<br>
&lt;INPUT type=text NAME=search VALUE="検索文字列"&gt;<br>
&lt;INPUT type=submit onClick="clicked=true; this.form.submit();"&gt;<br>
&lt;/FORM&gt;<br>
&lt;/BODY&gt;&lt;/HTML&gt;<br>
<br>
<br>
★2: 変数の数が少なければ次の方法でもOKです。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;フォームを２つ用意し、画面で見える部分はダミーのフォームにします。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ダミー側は「onSubmit="return false;"」を用意、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;submitボタンのonClickの時にほんとのフォームをsubmit()します。<br>
<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;TITLE&gt;&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;!-- 実際はこっちをsubmitする --&gt;<br>
&lt;FORM ACTION="hoge.cgi" METHOD=POST&gt;<br>
&lt;INPUT type=hidden NAME=search&gt;<br>
&lt;/FORM&gt;<br>
<br>
&lt;!-- ダミー側 --&gt;<br>
&lt;FORM onSubmit="return false;"&gt;<br>
&lt;INPUT type=text NAME=search VALUE="検索文字列"&gt;<br>
&lt;INPUT type=submit onClick="document.forms[0].search.value = this.form.search.value; document.forms[0].submit();"&gt;<br>
&lt;/FORM&gt;<br>
<br>
&lt;/BODY&gt;&lt;/HTML&gt;<br>
<hr>
<span class=name>mura</span>
<span class=email><a href="mailto:mura@cools.com">[E-Mail]</a></span>
<span class=time>1998/05/15(金) 12:59:18</span><br>
上の例で最後のonClickは途中で改行されちゃいましたが、<br>
実際は改行なしです。念のため。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199805/index.htm">[上に]</a>
<a href="98050028.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050028.htm">[前に]</a>
<a href="98050030.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050030.htm">[次に]</a>
</body>
</html>
