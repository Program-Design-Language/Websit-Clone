<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>計算結果が．．．</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>計算結果が．．．</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199812/index.htm">[上に]</a>
<a href="98120010.htm" tppabs="http://www.tohoho-web.com/lng/199812/98120010.htm">[前に]</a>
<a href="98120012.htm" tppabs="http://www.tohoho-web.com/lng/199812/98120012.htm">[次に]</a>
<hr>
<span class=name>おかめ</span>
<span class=time>1998/12/03(木) 15:15:39</span><br>
初めて質問します。NetScape4.05(Win95)で表計算をするJavaScriptを<br>
作りましたが、計算結果がおかしくなります。具体的には、<br>
999999999999999.9を3回たすと、2999999999999999.5になったりします。<br>
&nbsp;&nbsp;wkSum = 0;<br>
&nbsp;&nbsp;For ( i=1;i&lt;20;i++){<br>
&nbsp;&nbsp;&nbsp;&nbsp;wkSum+=eval(form_name[text_name].value);<br>
&nbsp;&nbsp;}<br>
このようなJavaScriptで処理を行っています。他にも小数点以下１桁<br>
のもの同士を加算した結果が、小数点以下２桁以上になったりしてい<br>
ます。どんな値を入力しても起きるわけではなく、困っています。<br>
みなさま、どうか助言の方よろしくお願いいたします。<br>
<hr>
<span class=name>mura</span>
<span class=time>1998/12/03(木) 17:05:04</span><br>
999.9ぐらいなら問題ないですが、計算精度ぎりぎりの時は<br>
書いた通りの値として処理していない(2進数で表せる近似値で計算している)ので<br>
このようになっているのではないかと思います。<br>
(内部処理の本当のところは私ははわからないので想像です)<br>
<br>
整数でも9999999999999999(9を16個)を3回足すと<br>
30000000000000000になりました。<br>
対処方法は他の方にお任せします。上位桁と下位桁を分けて計算するだけでいいのかな??<br>
<hr>
<span class=name>おかめ</span>
<span class=time>1998/12/11(金) 10:37:02</span><br>
muraさん、レスどうもです。<br>
やっぱりそのまま計算するのは無理ですかねぇ。1や2の羅列では<br>
きちんと計算されるみたいなのに。<br>
そもそも、そんな計算をWebでするのがいけないんでしょうか？でも<br>
仕様なのでしかたないんですけど。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199812/index.htm">[上に]</a>
<a href="98120010.htm" tppabs="http://www.tohoho-web.com/lng/199812/98120010.htm">[前に]</a>
<a href="98120012.htm" tppabs="http://www.tohoho-web.com/lng/199812/98120012.htm">[次に]</a>
</body>
</html>
