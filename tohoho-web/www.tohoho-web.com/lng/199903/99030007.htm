<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>openで指定したファイルデータに制限を持たせるには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>openで指定したファイルデータに制限を持たせるには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199903/index.htm">[上に]</a>
<a href="99030006.htm" tppabs="http://www.tohoho-web.com/lng/199903/99030006.htm">[前に]</a>
<a href="99030008.htm" tppabs="http://www.tohoho-web.com/lng/199903/99030008.htm">[次に]</a>
<hr>
<span class=name>がんま</span>
<span class=email><a href="mailto:gamma@pop17.odn.ne.jp">[E-Mail]</a></span>
<span class=time>1999/03/01(月) 21:32:48</span><br>
Perlですが、ちょっと質問させていただきます。<br>
<br>
open(IN, './name.dat');<br>
while (&lt;IN&gt;) {<br>
	chop;<br>
	push(@data,$_);<br>
}<br>
<br>
上記のように、openでname.datを開いているのですが<br>
例えば、このname.datのデータが<br>
<br>
111<br>
222<br>
333<br>
<br>
と言うように、一行ずつデータが入っていたとして<br>
この行数を「10行」や「20行以上のデータは削除」されるように<br>
指定することは可能でしょうか？<br>
<br>
開いた時点で、これを行いたいのですが<br>
私の知識では皆目見当つかず、この数日足踏み状態…。<br>
<br>
すみませんが、方法がありましたら、教えて下さい。<br>
お願いします。<br>
<hr>
<span class=name>Tiot</span>
<span class=time>1999/03/01(月) 23:45:48</span><br>
<font color="#CC8000">＞ 開いた時点で、これを行いたいのですが</font><br>
ということでしたら、削除するのではなく10行や、20行までしか<br>
読み込まないという風にしては駄目ですか？<br>
もとの文を活かすなら、<br>
<br>
open(IN, './name.dat');<br>
$count = 0;<br>
while (&lt;IN&gt;) {<br>
　　chop;<br>
　　push(@data,$_);<br>
　　$count++;<br>
　　if($count ==&nbsp;&nbsp;10) {last;}<br>
}<br>
<br>
for文とか使った方が奇麗だけど。<br>
<hr>
<span class=name>Tiot</span>
<span class=time>1999/03/01(月) 23:48:37</span><br>
それとも削除する、ってファイルから削除するんでしょうか。<br>
もしそうだったら、見当違いですのですいません。<br>
<hr>
<span class=name>がんま</span>
<span class=email><a href="mailto:gamma@pop17.odn.ne.jp">[E-Mail]</a></span>
<span class=time>1999/03/02(火) 00:40:13</span><br>
<font color="#CC8000">&gt;それとも削除する、ってファイルから削除するんでしょうか。</font><br>
<br>
都合上、削除出来ないと困ってしまうのです。<br>
<br>
Tiotさん、ご親切にありがとうございます。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/03/02(火) 00:46:40</span><br>
open(IN, './name.dat');<br>
$count = 0;<br>
while (&lt;IN&gt;) {<br>
　chop;<br>
　push(@data,$_);<br>
　$count++;<br>
　if($count == 10) {last;}<br>
}<br>
open(OUT, '&gt;./name.dat');<br>
foreach (@data){<br>
　print OUT "$_\n";<br>
}<br>
close(OUT);<br>
<hr>
<span class=name>がんま</span>
<span class=email><a href="mailto:gamma@pop17.odn.ne.jp">[E-Mail]</a></span>
<span class=time>1999/03/02(火) 01:40:48</span><br>
<span class=resolv>[[解決]]</span><br>
Tiotさん、B-Cusさん、大変ご迷惑をお掛けしました。<br>
<br>
私があまりに寝ぼけていました！<br>
折角、Tiotさんが教えてくれた方法を、私が入力ミスを犯してしまい<br>
<br>
<font color="#CC8000">&gt; 都合上、削除出来ないと困ってしまうのです。</font><br>
<br>
などと、すっ呆けたことを言ってしまいました。<br>
本当にすみませんでした。<br>
<br>
B-Cusさんに対しても、度々失礼なことをしてしまいました。<br>
こんな私に返答をしていただき、本当に感謝しています。<br>
<br>
<br>
本当にありがとうございます！<br>
<br>
#しかし、どうして「last」を「list」と入力したんだ？<br>
#しかも１時間以上、そのことに気が付かないし…最低最悪;_;<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199903/index.htm">[上に]</a>
<a href="99030006.htm" tppabs="http://www.tohoho-web.com/lng/199903/99030006.htm">[前に]</a>
<a href="99030008.htm" tppabs="http://www.tohoho-web.com/lng/199903/99030008.htm">[次に]</a>
</body>
</html>
