<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>しばらく前のflockの件ですが</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>しばらく前のflockの件ですが</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199807/index.htm">[上に]</a>
[前に]
<a href="98070001.htm" tppabs="http://www.tohoho-web.com/lng/199807/98070001.htm">[次に]</a>
<hr>
<span class=name>B-Cus</span>
<span class=time>1998/07/01(水) 04:18:36</span><br>
しばらく前のflockの件ですが、<br>
# <a href="../199805/98050026.htm" tppabs="http://www.tohoho-web.com/lng/199805/98050026.htm">../199805/98050026.htm</a><br>
<br>
fj.comp.lang.perlに<br>
------------------------<br>
　　perlfaq5 の hit counter の例にも<br>
　　　　# DO NOT UNLOCK THIS UNTIL YOU CLOSE<br>
　　　とあるように基本的に flock(FH, 8) は<br>
　　　使ってはいけないと思ったほうがいいです.<br>
　　　Randal L. Schwartz は<br>
　　　Message-ID: &lt;8c7mjdi3yj.fsf@gadget.cscaper.com&gt; で<br>
　　　　Just consider flock(BLAH, 8) to NOT EXIST.<br>
　　　と言ってるくらいだし.<br>
<br>
　　　buffer が flush されないうちに unlock したら元も子もない.<br>
------------------------<br>
というのが投稿されてました。Message-IDは &lt;6n9nd5$t60@headgw.hq.sony.co.jp&gt;<br>
です。ご参考まで。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1998/07/01(水) 04:19:51</span><br>
<span class=resolv>[[解決]]</span><br>
いけね、解決マーク忘れた。解決とかそういう問題じゃないけど(笑)<br>
<hr>
<span class=name>mo</span>
<span class=email><a href="mailto:mo@goice.co.jp">[E-Mail]</a></span>
<span class=time>1998/07/01(水) 11:32:04</span><br>
perl5.003_94 から flock でバッファがフラッシュされます。<br>
ChangeLog に<br>
<br>
&nbsp;&nbsp;Title:&nbsp;&nbsp;"Flush before C&lt;flock(FOO, LOCK_UN)&gt;"<br>
&nbsp;&nbsp;&nbsp;From:&nbsp;&nbsp;Chip Salzenberg<br>
&nbsp;&nbsp;Files:&nbsp;&nbsp;pod/perldelta.pod pod/perlfunc.pod pp_sys.c<br>
<br>
とありました。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1998/07/02(木) 00:17:17</span><br>
なるほど〜、じゃあflock(F,8)使ってもOKなんですね。<br>
ひとつ賢くなりました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199807/index.htm">[上に]</a>
[前に]
<a href="98070001.htm" tppabs="http://www.tohoho-web.com/lng/199807/98070001.htm">[次に]</a>
</body>
</html>
