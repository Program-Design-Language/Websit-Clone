<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>全角半角が混在する中で全角英数字のみ検出するには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>全角半角が混在する中で全角英数字のみ検出するには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070187.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070187.htm">[前に]</a>
<a href="99070189.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070189.htm">[次に]</a>
<hr>
<span class=name>はにゃ。</span>
<span class=email><a href="mailto:sagawa@jbc.co.jp">[E-Mail]</a></span>
<span class=time>1999/07/19(月) 14:46:06</span><br>
以前このラウンジで、全角英数字のみを許可する方法が載って<br>
いましたが、全角文字・半角文字が混在するデータで、全角英数字<br>
が入っていたらエラーにするいい方法はあるでしょうか。<br>
ex:①「てすとです。」→OK,(ひらがな・漢字はOK)<br>
&nbsp;&nbsp;&nbsp;②「R001:てすとです。」→OK,（英数字が半角なのでOK)<br>
&nbsp;&nbsp;&nbsp;③「Ｒ００１:てすとです。」→NG（英数字が全角なのでNG）<br>
<br>
if ($test =~ /[^\da-zA-Z]+$/ ) {ダメ} else {OK}<br>
だと、①②もNGになってしまいますよね。<br>
他にもいろいろ試しては見たのですが、どうも上手く行きません。<br>
どなたか教えて下さい。<br>
<hr>
<span class=name>ST</span>
<span class=time>1999/07/19(月) 15:48:06</span><br>
<a href="../199803/98030012.htm" tppabs="http://www.tohoho-web.com/lng/199803/98030012.htm">../199803/98030012.htm</a><br>
のmiyasiroさんのやり方を真似てみました。<br>
<br>
$msg="あＡA";<br>
<br>
$from = 'ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ';<br>
$to = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';<br>
&amp;jcode'tr(*msg,$from,$to);<br>
<br>
あ，これじゃあ自動的に変換するだけでエラーは出せない(汗)<br>
<hr>
<span class=name>たこすけ</span>
<span class=time>1999/07/19(月) 16:22:10</span><br>
丸付き数字はやめませう。<br>
<br>
<font color="#CC8000">&gt; あ，これじゃあ自動的に変換するだけでエラーは出せない(汗)</font><br>
if(&amp;jcode'tr(*msg,$from,$to)){えらー}<br>
とすれば良いのでは？<br>
<hr>
<span class=name>はにゃ。</span>
<span class=email><a href="mailto:sagawa@jbc.co.jp">[E-Mail]</a></span>
<span class=time>1999/07/22(木) 15:09:13</span><br>
<span class=resolv>[[解決]]</span><br>
お返事が遅れて大変申し訳ありませんでした。<br>
おかげさまで上手くいきました！<br>
STさん、たこすけさん、本当にありがとうございました。<br>
<hr>
<span class=name>ST</span>
<span class=time>1999/07/22(木) 16:14:41</span><br>
自動的に変換するならこの方法でいいですが，チェックするだけならもっとスマートな方法があるはず……ま，いっか。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070187.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070187.htm">[前に]</a>
<a href="99070189.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070189.htm">[次に]</a>
</body>
</html>
