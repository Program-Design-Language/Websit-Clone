<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>exit(1)ってなんですか？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>exit(1)ってなんですか？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070081.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070081.htm">[前に]</a>
<a href="99070083.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070083.htm">[次に]</a>
<hr>
<span class=name>TAKI</span>
<span class=email><a href="mailto:oz-07ams@mvh.biglobe.ne.jp">[E-Mail]</a></span>
<span class=time>1999/07/09(金) 03:05:54</span><br>
はじめて質問します。よろしくお願いします。<br>
フリーのＣＧＩを参考にしてPerlを勉強しているのですが、<br>
ここのwwwcount.cgiのソースの中に<br>
exit(0);<br>
exit(1);<br>
の２通りの記述があります。<br>
この二つって何が違うんですか？<br>
とほほのperl入門（リファレンス編）にある<br>
<font color="#CC8000">&gt;exit(expr)</font><br>
<font color="#CC8000">&gt;exit expr</font><br>
<font color="#CC8000">&gt;perlスクリプトを終了する。終了コードとしてexprの値を返す。省略時は0を返す。</font><br>
の「終了コード」の意味が分かりません。<br>
exit(1);の (1) にはどんな意味があって<br>
どんなときに (1) を指定する必要があるのでしょうか？<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/07/10(土) 01:38:42</span><br>
ちょっとここらへんあやふやなんで、間違ってたら補足お願い。<br>
<br>
普通exitの値は、プログラムが正常に終了したかどうかを親プロセスが<br>
判別するために使われます。<br>
<br>
プログラムhogeを正常終了時は0、異常終了時は非0を返すように設計しておくと、<br>
スクリプト中で<br>
　system("hoge");<br>
　if ( $?&gt;&gt;8 != 0 ){&nbsp;&nbsp;# perlだと512で割る必要がある。そういうもんだと思ってください。<br>
　　print "hogehoge failed.\n"<br>
　}<br>
などと書けるわけですな。<br>
<br>
ただし、CGIの場合はexitでどんな値を返そうが、親プロセス(WWWサーバ)は<br>
その値を参照しないので、意味はないです。しかし exit(1)と書いてあると<br>
ソースを読む人が「ここに処理がくると異常終了なんだな」とわかりやすいですね。<br>
<hr>
<span class=name>TAKI</span>
<span class=time>1999/07/10(土) 03:46:25</span><br>
<span class=resolv>[[解決]]</span><br>
B-Cusさん、ご回答ありがとうございます。<br>
そっかぁＣＧＩってサーバが親プロセスで<br>
ＣＧＩは子プロセスだったんですね。<br>
よく考えてみればそうですよね。気づきませんでした。<br>
exit(1)の、(1)の返っていく先が<br>
そもそも解ってなかったみたいです。<br>
「終了コードを返す」という事の意味がやっと分かりました。<br>
あーなんかすっきりした。<br>
本当にありがとうございました！！<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070081.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070081.htm">[前に]</a>
<a href="99070083.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070083.htm">[次に]</a>
</body>
</html>
