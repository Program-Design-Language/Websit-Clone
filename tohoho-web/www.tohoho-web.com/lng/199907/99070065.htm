<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>Perlのビット操作について</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>Perlのビット操作について</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070064.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070064.htm">[前に]</a>
<a href="99070066.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070066.htm">[次に]</a>
<hr>
<span class=name>そら</span>
<span class=time>1999/07/07(水) 21:10:25</span><br>
Perlについての質問なので、このラウンジの意図にあっていなければ<br>
削除してください。（でも、ちょっと困っているので誰か助けてほしいのです）<br>
perlでビットを右にシフトするとき、上位ビットに０を設定するには<br>
"&gt;&gt;&gt;"を使うと、こちらのｐｅｒｌのページで見ました。<br>
実際にやってみたのですが、シンタックスエラーで先に進みません。<br>
どのようにすればよいのでしょうか？<br>
どうぞよろしくお願いします。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/07/07(水) 21:22:41</span><br>
<a href="../../wwwperl1.htm#BitOperand" tppabs="http://www.tohoho-web.com/wwwperl1.htm#BitOperand">http://www.tohoho-web.com/wwwperl1.htm#BitOperand</a><br>
<font color="#CC8000">&gt; $xx &gt;&gt; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $xxを2ビット右シフト(上位ビットには符号ビットを埋める)</font><br>
<font color="#CC8000">&gt; $xx &gt;&gt;&gt; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# $xxを2ビット右シフト(上位ビットには0を埋める)</font><br>
ですね。やって見ましたが、perl4/5ともsyntax errorになりました。<br>
ラクダ本にも &gt;&gt;&gt; は書いてなかったのですが…。どうなんでしょう?＞とほほさん<br>
<br>
<font color="#CC8000">&gt; 上位ビットに０を設定するには</font><br>
まぁ普通に &gt;&gt; を使えば、おそらくお望みの結果が得られるとは思います。<br>
<hr>
<span class=name>mm</span>
<span class=time>1999/07/07(水) 22:59:35</span><br>
「&gt;&gt;&gt;」 って、どこかで見たなぁと思って調べたら、やはりJavaにありました。<br>
Javaでは、上位ビットを0で埋めてくれます。<br>
でも、perlにはなさそうですね。ということは &gt;&gt; を使う場合は、<br>
MSB（符号ビット）を意識する必要はありそうです…かな？<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/07/07(水) 23:14:20</span><br>
なるほど、とほほさんがJavaと勘違いされたのかしら。<br>
<br>
で、これは値がマイナスの場合だけ関係あります(違うかしら?)。<br>
<br>
ちなみにうちの環境では -1000&gt;&gt;2 は-250にならず、1073741574 になります<br>
(32bitで2の補数表現を使うCPUなら全部そうなるでしょう)。<br>
<br>
$i == -1000 のとき、&gt;&gt;2 で -250 という値が欲しいなら、<br>
　$i&gt;=0 なら そのまま符号反転<br>
　$i&lt;0 なら符号反転したものをシフトして、最後に符号反転<br>
でいいと思います。<br>
<hr>
<span class=name>とほほ</span>
<span class=time>1999/07/09(金) 00:08:31</span><br>
<font color="#CC8000">&gt; なるほど、とほほさんがJavaと勘違いされたのかしら。</font><br>
かもしれません。何をみて記述したかすでに覚えていないのですが・・<br>
次回の更新の際には修正します。(^^;)<br>
<hr>
<span class=name>そら</span>
<span class=time>1999/07/09(金) 00:18:27</span><br>
<span class=resolv>[[解決]]</span><br>
<font color="#CC8000">&gt;ちなみにうちの環境では -1000&gt;&gt;2 は-250にならず、1073741574 になります</font><br>
<font color="#CC8000">&gt;(32bitで2の補数表現を使うCPUなら全部そうなるでしょう)。</font><br>
やってみたら、-250になりました。符号は気にしなくていいのかな？<br>
そのへんがよくわからないのですが、<br>
使いたい数値にはマイナスはないのでとりあえず "&gt;&gt;"を使って<br>
やってみます。<br>
<br>
ありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070064.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070064.htm">[前に]</a>
<a href="99070066.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070066.htm">[次に]</a>
</body>
</html>
