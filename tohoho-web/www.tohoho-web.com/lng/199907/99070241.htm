<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>NT＋ActivePerlで同じディレクトリ内のCSVファイルを指定するには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>NT＋ActivePerlで同じディレクトリ内のCSVファイルを指定するには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070240.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070240.htm">[前に]</a>
<a href="99070242.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070242.htm">[次に]</a>
<hr>
<span class=name>Hide</span>
<span class=email><a href="mailto:hide@pupi.net">[E-Mail]</a></span>
<span class=time>1999/07/23(金) 00:18:35</span><br>
NT4.0+SP4+Active Perl Build518の環境です。<br>
以下のスクリプトで同ディレクトリ内にあるCSVファイルをオープンできないのですが何が原因なのでしょうか？<br>
$file = "db.csv";<br>
if (!open(IN,"$file")) { &amp;error('Read Error','Please wait for recovery.'); }<br>
@BASE = &lt;IN&gt;;<br>
close(IN);<br>
このスクリプトでは「db.csv」を同じディレクトリにではなく、ドキュメントルートに読みに行こうとします。ドキュメントルートにCSVファイルを置くと動作するからです。<br>
どうすれば、同じディレクトリ内にあるCSVファイルを指定できるのでしょうか？<br>
chdir("/www/cgi-bin");を前の方に置いてみましたがだめです。<br>
また、Apacheで試すと同じディレクトリ内にスクリプトとCSVファイルを置いてきちんと動作するので、CSVファイルの問題ではなさそうです。<br>
NT上Perlの相対パスの書き方に問題があるような気がするのですが、ご指導頂けましたら幸いです。<br>
<hr>
<span class=name>Aurai</span>
<span class=time>1999/07/23(金) 01:01:39</span><br>
chdir('\www\cgi-bin');<br>
でどうでしょう？<br>
<hr>
<span class=name>ふじ</span>
<span class=time>1999/07/23(金) 01:11:49</span><br>
ドライブ名も指定してみるとか。<br>
chdir("C:/www/cgi-bin");<br>
<br>
＃ついでに、chdirが成功しているかどうもトラップしてみると<br>
＃何か情報がえられるかも・・・<br>
<hr>
<span class=name>Hide</span>
<span class=email><a href="mailto:hide@pupi.net">[E-Mail]</a></span>
<span class=time>1999/07/23(金) 01:32:02</span><br>
<span class=resolv>[[解決]]</span><br>
解決しました。<br>
chdir('d:/shell-cgi');<br>
が、正解でした。絶対パスをきちんと確認するのがミソでしたね。<br>
ちなみにサーバはNetscape Enterprise Serverでした。<br>
みなさん、ありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070240.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070240.htm">[前に]</a>
<a href="99070242.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070242.htm">[次に]</a>
</body>
</html>
