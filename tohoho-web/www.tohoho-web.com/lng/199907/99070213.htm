<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>JavaScriptからCGIに値を渡すには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>JavaScriptからCGIに値を渡すには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070212.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070212.htm">[前に]</a>
<a href="99070214.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070214.htm">[次に]</a>
<hr>
<span class=name>初心者</span>
<span class=time>1999/07/21(水) 10:45:44</span><br>
JavaScriptからCGIに値を渡すことは可能でしょうか。<br>
<hr>
<span class=name>月</span>
<span class=time>1999/07/21(水) 11:24:46</span><br>
質問が大雑把なのですが、一例として．．．こんなのでいいのでしょうか？<br>
&lt;SCRIPT LANGUAGE="JavaScript"&gt;<br>
&lt;!--<br>
function date_move(Yr,Mo){<br>
location.href = "hogehoge.cgi?&amp;year="+Yr+"&amp;month="+Mo;<br>
}<br>
// --&gt;<br>
&lt;/SCRIPT&gt;<br>
<hr>
<span class=name>ふじ</span>
<span class=time>1999/07/21(水) 11:39:43</span><br>
&lt;SCRIPT language="JavaScirpt"&gt;<br>
function data_set(){<br>
document.f.data = 何かJavaScriptで処理した値;<br>
}<br>
&lt;/SCRIPT&gt;<br>
<br>
&lt;FORM name=f onSubmit="set_data();"&gt;<br>
&lt;INPUT type=hidden name=data&gt;<br>
&lt;/FORM&gt;<br>
<br>
HIDDENを使えばGETでもPOSTでもいけます。<br>
<hr>
<span class=name>ばかぼん</span>
<span class=time>1999/07/21(水) 12:31:56</span><br>
もし、名前のごとく「初心者」ならば、きっと「何が分からないのか分からない」<br>
「どう質問して良いのか分からない」状態なのだと思いますが、とりあえず<br>
<a href="../../wwwcgi.htm" tppabs="http://www.tohoho-web.com/wwwcgi.htm">http://www.tohoho-web.com/wwwcgi.htm</a><br>
を調べて見てください。<br>
そして、「ここが分からない」みたいな、的を絞った質問ができれば、解答しやすいです。<br>
<hr>
<span class=name>しゅう</span>
<span class=time>1999/07/21(水) 13:22:44</span><br>
あの〜。そのJavaScriptの値をcgiに渡すとき<br>
受け取り側のcgiでは、どのようにしたらよろ<br>
しいのでしょうか？？<br>
<hr>
<span class=name>ふじ</span>
<span class=time>1999/07/21(水) 13:54:57</span><br>
<font color="#CC8000">＞あの〜。そのJavaScriptの値をcgiに渡すとき</font><br>
<font color="#CC8000">＞受け取り側のcgiでは、どのようにしたらよろ</font><br>
<font color="#CC8000">＞しいのでしょうか？？</font><br>
「その」がどの手法（月さんが示された方法か、私が書いた方法か）<br>
分かりかねますが・・・<br>
<br>
・月さんの方法で送った場合<br>
フォームからMETHOD=GETで送った時と同様です。<br>
<br>
・私の方法で送った場合<br>
普通にフォームから送られてきたのと同様です。<br>
<br>
METHOD=GET なら環境変数の QUERY_STRING 、<br>
METHOD=POST なら標準入力からデータを読みます。<br>
<hr>
<span class=name>しゅう</span>
<span class=time>1999/07/21(水) 14:39:22</span><br>
環境変数のquery_stringの使い方が<br>
よくわからないのですが....<br>
宜しくお願い致しますぅ。<br>
<hr>
<span class=name>しゅう</span>
<span class=time>1999/07/21(水) 14:39:38</span><br>
環境変数のquery_stringの使い方が<br>
よくわからないのですが....<br>
宜しくお願い致しますぅ。<br>
<hr>
<span class=name>ふじ</span>
<span class=time>1999/07/21(水) 15:21:27</span><br>
<font color="#CC8000">＞環境変数のquery_stringの使い方が</font><br>
<font color="#CC8000">＞よくわからないのですが....</font><br>
Perlなら<br>
$ENV{'QUERY_STRING'} で参照出来ます。<br>
値のデコードは以下を参考に。<br>
<a href="../../wwwcgi3.htm#CgiEncode" tppabs="http://www.tohoho-web.com/wwwcgi3.htm#CgiEncode">http://www.tohoho-web.com/wwwcgi3.htm#CgiEncode</a><br>
<hr>
<span class=name>しゅう</span>
<span class=time>1999/07/21(水) 15:31:34</span><br>
perlではなくて、C言語とJavaScriptをつかって<br>
cgiをかいているのですが、それでは　どうにも<br>
ならないのでしょうか？？<br>
<hr>
<span class=name>ふじ</span>
<span class=time>1999/07/21(水) 17:11:36</span><br>
<font color="#CC8000">＞C言語とJavaScriptをつかってcgiをかいている</font><br>
JavaScriptで得た値（データ）をCGIに渡したい、<br>
という意味と解釈していいですか？<br>
＃少なくともJavaScriptでCGIを書く、てのはあり得ないことだし。<br>
<br>
CでCGIは書いたことがないので分かりませんが、<br>
とにかく普通にフォームから送られてきたデータを<br>
受け取ってデコードするのと同じ方法で大丈夫です。<br>
<br>
＃そもそもそれが出来ない、というのならラウンジの検索で<br>
＃「C言語」等で検索して、ヒントを探してみましょう。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/07/21(水) 17:19:56</span><br>
<font color="#CC8000">&gt; perlではなくて、C言語と</font><br>
Cでもperlでも環境変数読みゃいいだけです。<br>
　getenv("QUERY_STRING");<br>
して、strtokで「&amp;」ごとに区切って、さらにstrtokで<br>
「=」で区切ればいいでしょう。<br>
<br>
　<a href="99070166.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070166.htm">../199907/99070166.htm</a><br>
でmociさんが紹介されてるとこを読めば、ライブラリが<br>
転がってるんじゃないですかね。<br>
<br>
# ライブラリを紹介すると、こういった基本的なことがわからない人が<br>
# 増えそうでほんとは嫌なんだけど。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070212.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070212.htm">[前に]</a>
<a href="99070214.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070214.htm">[次に]</a>
</body>
</html>
