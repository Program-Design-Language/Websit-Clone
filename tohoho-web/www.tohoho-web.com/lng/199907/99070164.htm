<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>perlでの$|とselectの使い方</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>perlでの$|とselectの使い方</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070163.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070163.htm">[前に]</a>
<a href="99070165.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070165.htm">[次に]</a>
<hr>
<span class=name>ＫＡＮ</span>
<span class=time>1999/07/16(金) 10:20:48</span><br>
perlでよく、<br>
<br>
$oldfh = select(STDERR);<br>
$| =	1;<br>
select($oldfh);<br>
<br>
とする定石がありますが、$|の位置はなにか意味があるのでしょうか。<br>
また、selectをわざわざ２度使うのはどうしてでしょうか。<br>
　理由などをお教えください。<br>
<hr>
<span class=name>徳明</span>
<span class=time>1999/07/16(金) 12:36:35</span><br>
STDERRへの出力をバッファリングしないようにするための定石ですね。<br>
標準出力をSTDERRに切り替えて（select(STDERR)）、<br>
標準出力(STDERR)をバッファリングしないようにして（$|=1）、<br>
標準出力を元(おそらくはSTDOUT)に戻す（select($oldth)）。<br>
<hr>
<span class=name>ＫＡＮ</span>
<span class=time>1999/07/17(土) 10:00:37</span><br>
<span class=resolv>[[解決]]</span><br>
徳明さん、回答ありがとうございました。<br>
<br>
　つまり、<br>
$oldfh = select(STDERR);<br>
は、標準出力をSTDERRにかえると同時に、それまでの標準出力を<br>
$oldfhに待避している、ということでしょうか。<br>
<br>
　同時にできるということに気付いてませんでした。ありがと<br>
うございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199907/index.htm">[上に]</a>
<a href="99070163.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070163.htm">[前に]</a>
<a href="99070165.htm" tppabs="http://www.tohoho-web.com/lng/199907/99070165.htm">[次に]</a>
</body>
</html>
