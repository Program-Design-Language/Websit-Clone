<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>ＣＧＩを強制終了させないには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>ＣＧＩを強制終了させないには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050111.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050111.htm">[前に]</a>
<a href="99050113.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050113.htm">[次に]</a>
<hr>
<span class=name>ちか</span>
<span class=time>1999/05/20(木) 05:06:04</span><br>
え〜っと、非常に長い時間、動作し続けるプログラムをＣＧＩ<br>
で書く時、サーバーによっては、途中でプログラムが強制終了<br>
させられてしまいます。<br>
データファイルが壊れたりして、とても困る事があります。<br>
これを防ぐ方法は、無いのでしょうか？<br>
.htaccessとかで、有りそうな、無さそうな？<br>
<hr>
<span class=name>匿名希望</span>
<span class=time>1999/05/20(木) 07:16:19</span><br>
非常に長い時間動作し続けるスクリプトの場合、無限ループに陥ってる可能性があるとして処理が自動的に強制終了させられるのでしょう。<br>
長時間の連続処理はサーバに負荷を掛けると思うので、なるたけ処理は短めに…。<br>
<br>
ところで、どういうスクリプトですか？<br>
<hr>
<span class=name>なえ</span>
<span class=time>1999/05/20(木) 08:59:27</span><br>
処理時間が長い処理はnphにして、ちょこちょこ適当な文字（"."とか）を出力しつづければ大丈夫です。<br>
NPH-Script → <a href="../../wwwcgi4.htm#NphScript" tppabs="http://www.tohoho-web.com/wwwcgi4.htm#NphScript">http://www.tohoho-web.com/wwwcgi4.htm#NphScript</a><br>
<hr>
<span class=name>なえ</span>
<span class=time>1999/05/20(木) 09:04:12</span><br>
あ、ネスケだと&lt;BR&gt;が入らないと表示されないですね(^^;<br>
適当な文字を".&lt;BR&gt;"のようにしてください。<br>
<hr>
<span class=name>ちか</span>
<span class=time>1999/05/20(木) 20:27:43</span><br>
NPHスクリプトにすると、途中でプログラムが強制終了させられる事は<br>
無いという事ですか？<br>
<br>
<font color="#CC8000">＞ところで、どういうスクリプトですか？</font><br>
その質問には、返答しかねます。<br>
スミマセン。<br>
<hr>
<span class=name>なえ</span>
<span class=time>1999/05/20(木) 21:12:59</span><br>
<font color="#CC8000">＞NPHスクリプトにすると、途中でプログラムが強制終了させられる事は</font><br>
<font color="#CC8000">＞無いという事ですか？</font><br>
いえ、違います。<br>
データを受信し続けることでサーバーとの接続を確立させておくだけです。<br>
そのためにリアルタイムでデータ送信の出来るNPHスクリプトにする必要があるんです。<br>
普通のCGI処理だと処理が終了しないとデータの送信が行われないんです。<br>
<hr>
<span class=name>ちか</span>
<span class=time>1999/05/21(金) 03:39:49</span><br>
<font color="#CC8000">＞データを受信し続けることでサーバーとの接続を確立させておくだけです。</font><br>
了解致しました。<br>
処理の途中に、「．（ピリオド）」等を出力し続ければ良いんですね。<br>
<br>
<font color="#CC8000">＞普通のCGI処理だと処理が終了しないとデータの送信が行われないんです。</font><br>
そうなんですか？<br>
$|=1;<br>
ってスクリプトの最初に書くと、ちゃんと出力してくれた様な気がしますが。<br>
<br>
<br>
そういうワケで、一定時間ごとにピリオドを出力するプログラムにします。<br>
nphの方は、うちのサーバーでは、意味の無い様な気がしましたので。<br>
なえさん、ホント〜に、ありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050111.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050111.htm">[前に]</a>
<a href="99050113.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050113.htm">[次に]</a>
</body>
</html>
