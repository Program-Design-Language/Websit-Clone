<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>ＣＧＩの起動をフォームのサブミット以外からは起動させない方法はありますか？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>ＣＧＩの起動をフォームのサブミット以外からは起動させない方法はありますか？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050061.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050061.htm">[前に]</a>
<a href="99050063.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050063.htm">[次に]</a>
<hr>
<span class=name>Ｋ３</span>
<span class=email><a href="mailto:k3-sato@pc.highway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/05/14(金) 14:22:12</span><br>
ＣＧＩをフォームのサブミットボタンを選択した場合のみ起動させ、<br>
直接キー入力した場合は起動させないようにする方法はありますか？<br>
なお、ＣＧＩはＰｅｒｌで作成してあります。<br>
<hr>
<span class=name>しなのむし</span>
<span class=time>1999/05/14(金) 23:49:44</span><br>
起動はしてしまいますが、別画面を表示させることは出来ます。<br>
以下、フォームのデータ取得方法がPOSTの場合。<br>
<br>
if ($ENV{'REQUEST_METHOD'} eq "POST")<br>
{print "post";}<br>
else<br>
{print "else";}<br>
<hr>
<span class=name>Ｋ３</span>
<span class=email><a href="mailto:k3-sato@pc.highway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/05/17(月) 16:06:33</span><br>
GETの場合はどうすればよいでしょうか？<br>
POSTになおさないとだめですか？<br>
<hr>
<span class=name>旅人C</span>
<span class=time>1999/05/18(火) 00:13:04</span><br>
同じく<br>
$ENV{'REQUEST_METHOD'} eq "GET"<br>
で処理すればOKでしょう。<br>
<hr>
<span class=name>Ｋ３</span>
<span class=email><a href="mailto:k3-sato@pc.highway.ne.jp">[E-Mail]</a></span>
<span class=time>1999/05/18(火) 00:26:34</span><br>
直接キー入力した場合もＧＥＴになってしまうので、<br>
その場合とＦＯＲＭのＧＥＴの違いは、どうやって見分けたら<br>
良いのでしょうか？<br>
<hr>
<span class=name>Aurai</span>
<span class=time>1999/05/18(火) 00:39:24</span><br>
HTTP_REFERERを参照してみてはどうでしょう<br>
<hr>
<span class=name>Ｋ３</span>
<span class=time>1999/05/19(水) 20:21:05</span><br>
使用しているサーバは、HTTP_REFERER をサポートしていないようです。<br>
<hr>
<span class=name>ウンジャマラミー</span>
<span class=time>1999/05/24(月) 16:36:58</span><br>
function aaa() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;return false ;<br>
}<br>
function bbb() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;document.form.submit() ; ;<br>
}<br>
&nbsp;&nbsp;&nbsp;:<br>
&lt;FORM NAME="dummy" onSubmit="return aaa()"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;INPUT TYPE="BUTTON" onClick="bbb()"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br>
&lt;/FORM&gt;<br>
<br>
&lt;FORM NAME="formname" METHOD="get" ACTION="XXX.cgi"&gt;<br>
&nbsp;&nbsp;&nbsp;:<br>
&lt;/FORM&gt;<br>
この様にフォームを２つに分けたらどうでしょう？<br>
<hr>
<span class=name>Ｋ３</span>
<span class=time>1999/05/27(木) 15:43:24</span><br>
<span class=resolv>[[解決]]</span><br>
解決しました。<br>
<br>
というか、よく見たら似たような質問が他にもあり、<br>
ＵＲＬを直接、キー入力した場合は、HTTP_REFERERに値は<br>
セットされないとあり、確認したら、確かにその通りでした。<br>
<br>
今回、収集できた情報で、なんとか、対応できそうです。<br>
ご回答いただいた皆様、ありがとうございました。<br>
<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050061.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050061.htm">[前に]</a>
<a href="99050063.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050063.htm">[次に]</a>
</body>
</html>
