<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>速いチャットは？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>速いチャットは？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050082.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050082.htm">[前に]</a>
<a href="99050085.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050085.htm">[次に]</a>
<hr>
<span class=name>闇ちゃん</span>
<span class=email><a href="mailto:rinn@sun-inet.or.jp">[E-Mail]</a></span>
<span class=time>1999/05/17(月) 02:41:43</span><br>
参加者表示があって、リロードを１０秒にしても軽いチャットはないのですか？更新が止まりにくいものがいいですね！<br>
<hr>
<span class=name>eXor</span>
<span class=time>1999/05/17(月) 11:35:56</span><br>
　Ｃ言語で書かれたチャットを探しましょう。<br>
　もしくはJavaAppretのチャット。<br>
<br>
　なお、サーバが重くてはどのようなチャットでも重くなります。<br>
<hr>
<span class=name>ぱよ☆</span>
<span class=email><a href="mailto:payo@studio-critt.com">[E-Mail]</a></span>
<span class=time>1999/05/17(月) 11:39:53</span><br>
ウェブ上のチャットはどうしても重くなりますし、サーバーに<br>
大きな負担をかける事にもなります。もし、早くて参加者表示が<br>
あって... と言う事で探されているなら、ＨＰからは離れて<br>
しまいますがＩＲＣチャットでルームを開いた方が良いのでは<br>
ないでしょうか。（ブラウザの他にアプリケーションが必要<br>
ですが...）<br>
<hr>
<span class=name>eXor</span>
<span class=time>1999/05/17(月) 23:41:32</span><br>
　ついでに、ログ表示画面をＮＰＨスクリプト化（ＷＷＷ入門内参照）するのも手です。<br>
<hr>
<span class=name>アラメイディア</span>
<span class=time>1999/05/18(火) 10:11:40</span><br>
<font color="#CC8000">&gt;ついでに、ログ表示画面をＮＰＨスクリプト化（ＷＷＷ入門内参照）するのも手です。</font><br>
<br>
混んでるときはパニックになっちゃうよ！<br>
<hr>
<span class=name>eXor</span>
<span class=time>1999/05/19(水) 20:33:39</span><br>
　具体的にどういう症状が出ますか？＜パニックになる<br>
　ＮＰＨスクリプトについては詳しくないもので…。<br>
<hr>
<span class=name>ででん</span>
<span class=time>1999/05/20(木) 00:28:28</span><br>
NPHスクリプトは、ログに変化があったときに更新される仕組みです。<br>
つまり、1分間に10人が発言すると、1分間に10回リロード処理が走るわけです。<br>
人待ちの時は効率的だけど、混んでたらパニくるわな。<br>
<br>
<hr>
<span class=name>なえ</span>
<span class=time>1999/05/20(木) 13:02:31</span><br>
ちょいNPHの説明です。<br>
NPHは正しいヘッダーをCGI処理で自分で付けることで、<br>
WEBサーバーを通さずにユーザーにデータを送る仕組みです。<br>
<br>
だから、１０回発言しても10回処理が動くわけではありません。<br>
とは言っても、ようは処理の作り方次第ですけれどね。<br>
チャットならヘッダーをmulti-partにして、<br>
無限ループの先頭でログファイルが更新されてるかチェックして、<br>
更新されてたらprintする。<br>
んで1秒くらいsleepさせてからまた先頭に戻る。<br>
もちろん接続が切れたときには、処理を終了させるようにしないとだめです。<br>
<br>
こんな具合でプログラム組めば、接続した人の数だけしか処理は動かないです。<br>
（何度発言しようとも）<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/05/20(木) 13:35:48</span><br>
普通のCGIに比べて、NPHだとどういう問題が起こり得るんでしょうか?<br>
「混んでるとパニック」とは具体的にどういう状態になるのか<br>
イメージがわかないので、教えてください。<br>
<hr>
<span class=name>なえ</span>
<span class=time>1999/05/20(木) 16:13:13</span><br>
わたしは、NPHでも大丈夫だと思いますけどね。<br>
<br>
でもやっぱりWEBチャットはHTTPの仕様上無理あるから、<br>
IRCなどの専用のサーバーを用いるチャットのほうが良いと思います。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/05/22(土) 06:39:54</span><br>
もしかしたらNPHを使うこと自体が高負荷の原因になるのかと<br>
思って質問したんですが、そういう意味ではなかったようですね。<br>
話の流れを読み取れていませんでした。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050082.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050082.htm">[前に]</a>
<a href="99050085.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050085.htm">[次に]</a>
</body>
</html>
