<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>濁音だけ赤文字に変える方法</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>濁音だけ赤文字に変える方法</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050201.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050201.htm">[前に]</a>
<a href="99050203.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050203.htm">[次に]</a>
<hr>
<span class=name>羽</span>
<span class=time>1999/05/30(日) 14:54:49</span><br>
入力された文章の濁音をすべて赤文字に変えたいです。<br>
$comment =~ s/が/&lt;font color=ff0000&gt;が&lt;/font&gt;/g;<br>
$comment =~ s/ぎ/&lt;font color=ff0000&gt;ぎ&lt;/font&gt;/g;<br>
$comment =~ s/ぐ/&lt;font color=ff0000&gt;ぐ&lt;/font&gt;/g;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<br>
$comment =~ s/ぼ/&lt;font color=ff0000&gt;ぼ&lt;/font&gt;/g;<br>
というふうに一つづつ処理しようかと思っているのですが、<br>
これだと処理が重くなりそうなので、<br>
効率の良い変換方法があれば教えてください。<br>
<br>
変換の対象となるコメント文は５０文字程度です。<br>
<hr>
<span class=name>Aurai</span>
<span class=time>1999/06/01(火) 07:43:30</span><br>
$comment =~ s/が|ぎ|ぐ|げ|...../&lt;font color=ff0000&gt;$1&lt;/font&gt;/g;<br>
でどうでしょう<br>
<hr>
<span class=name>とほほ</span>
<span class=time>1999/06/01(火) 23:20:13</span><br>
$comment =~ s/(が|ぎ|ぐ|げ|.....)/&lt;font color=ff0000&gt;$1&lt;\/font&gt;/g;<br>
ですね。確固とバックスラッシュが抜けています。<br>
<br>
しかし、このままだと、漢字の第二バイトと次の漢字の第一バイトが<br>
たまたま「がぎぐげご・・・」とマッチして誤変換を起こすことがあ<br>
りそうですね。<br>
<br>
$comment =~ s/([\x00-\x7f]|[\x80-\xff][\x00-\xff])/&amp;func($1)/eg;<br>
で漢字を１文字ずつ切り出して、func()サブルーチンで処理するか・・・<br>
<hr>
<span class=name>Aurai</span>
<span class=time>1999/06/02(水) 00:12:09</span><br>
……寝ぼけてましたね<br>
お恥ずかしい<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199905/index.htm">[上に]</a>
<a href="99050201.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050201.htm">[前に]</a>
<a href="99050203.htm" tppabs="http://www.tohoho-web.com/lng/199905/99050203.htm">[次に]</a>
</body>
</html>
