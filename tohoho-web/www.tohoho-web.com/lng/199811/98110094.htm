<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>「戻る」はどうすれば？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>「戻る」はどうすれば？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199811/index.htm">[上に]</a>
<a href="98110093.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110093.htm">[前に]</a>
<a href="98110095.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110095.htm">[次に]</a>
<hr>
<span class=name>うし</span>
<span class=time>1998/11/22(日) 07:40:50</span><br>
IEのブラウザで「戻る」というのがあります。<br>
そこを押すと、一歩手前の画面を表示してくれます。<br>
これをhtmlではどう書けばいいのでしょうか？<br>
教えてください<br>
<hr>
<span class=name>AKISE</span>
<span class=time>1998/11/22(日) 10:32:51</span><br>
HTMLじゃたぶん無理だけど<br>
Javascriptなら、<br>
&lt;a href = "javascript:history.go(-1)"&gt;<br>
戻る<br>
&lt;/a&gt;<br>
だけでいけますよ。<br>
<hr>
<span class=name>Aurai</span>
<span class=time>1998/11/22(日) 13:27:02</span><br>
IEに対応させるなら<br>
history.back()<br>
を使うといいと思います<br>
<hr>
<span class=name>ねこすけ</span>
<span class=time>1998/11/24(火) 15:22:38</span><br>
こういうのはどうでしょうか？<br>
&lt;FORM&gt;<br>
&lt;INPUT TYPE="button" VALUE="元のページへ戻る" onClick="history.back()"&gt;<br>
&lt;/FORM&gt;<br>
<hr>
<span class=name>あれれ</span>
<span class=time>1998/11/25(水) 14:56:05</span><br>
すみません、質問させて下さい。「詳解HTML&amp;JavaScript辞典」にIE3.0、IE4.0、NN2.0、NN3.0、NN4.0対応で「戻る」ボタンの作り方がねこすけさんがおっしゃるような記述で載っていました。ところがIE4だとボタンが機能するのですが、NN4だとうまく機能しません。まったく同じように書いているのになにがいけないのかさっぱりわからないのです。これを使うにあたり、なにか注意することってありますか？<br>
<hr>
<span class=name>ねこすけ</span>
<span class=time>1998/11/25(水) 18:13:05</span><br>
あれれさん、NN4だとうまく機能しません。について<br>
なぜでしょう。注意はないです。コピー＆ペーストで<br>
使いまくっています。<br>
ただ、ブラウザのバックボタンと併用して使っていると<br>
ループ状態になって戻れなくなるみたいですが。<br>
<hr>
<span class=name>mura</span>
<span class=time>1998/11/25(水) 18:56:06</span><br>
フレームを使っていて戻る前と戻り先でTARGETが異なる時は、<br>
IEとNNで戻りかたが異なるというのはあります。<br>
よかったら、「うまく機能しません」について具体的に教えていただけますか?<br>
・思ったのと違うページが表示される<br>
・戻らずに同じページになる<br>
・エラーになる<br>
・「データがありません」と出る<br>
などなど…<br>
<hr>
<span class=name>あれれ</span>
<span class=time>1998/11/25(水) 23:12:36</span><br>
同じソースなのにIE4だと前のページに戻り、NN4だとボタンを押しても<br>
前のページに戻らないのです。（いくら押しても変化なしです。）<br>
muraさんがおっしゃるとおり、フレームを使っています。<br>
そのせいなのかもしれません。<br>
下記のような感じです。（記号を使うのはよくないかな？）<br>
<br>
　前の画面　&nbsp;&nbsp;　　 -&gt;　　次の画面（history.backが使えない）<br>
┌──────┐　　　　┌──────┐<br>
├──────┤　　　　├─────┬┤<br>
│　　　　　　│　　　　├─────┴┤<br>
│　　　　　　│　　　　│　　　　　　│<br>
│　　　　　　│　　　　│　口ボタン　│<br>
└──────┘　　　　└──────┘<br>
この場合、NN4でも前画面に戻るようにするにはどうしたらよいのでしょう。<br>
<br>
<br>
<br>
<hr>
<span class=name>とほほ</span>
<span class=time>1998/11/26(木) 01:47:53</span><br>
NN4のJavaScript機能をオフにしている・・・ってことはないですよね？<br>
<hr>
<span class=name>あれれ</span>
<span class=time>1998/11/26(木) 11:46:03</span><br>
NN4の設定でちゃんとJavaScriptを有効にしています。<br>
フレームをきらないページに画面遷移させて<br>
そこからhistory.back()のボタンを押下するとちゃんと機能しました<br>
。<br>
やっぱりフレームのせいなのでしょうね。<br>
でも、IE4ではちゃんと前の画面に戻るのに・・・。<br>
NN4だと駄目となると、どうしたらいいのでしょう？<br>
<hr>
<span class=name>mura</span>
<span class=time>1998/11/26(木) 13:16:54</span><br>
その状態なら、parent.history.back();でOKのようです。<br>
チェックしてみたらこのようになりました。(Win95版)<br>
<br>
NN3/4 IE3 |<br>
-----------------------------------------------<br>
−&nbsp;&nbsp;&nbsp;&nbsp;○&nbsp;&nbsp;| history.back();<br>
×&nbsp;&nbsp;&nbsp;&nbsp;×&nbsp;&nbsp;| document.history.back();<br>
−&nbsp;&nbsp;&nbsp;&nbsp;○&nbsp;&nbsp;| window.history.back();<br>
−&nbsp;&nbsp;&nbsp;&nbsp;○&nbsp;&nbsp;| self.history.back();<br>
−&nbsp;&nbsp;&nbsp;&nbsp;○&nbsp;&nbsp;| top.フレーム名.history.back();<br>
○&nbsp;&nbsp;&nbsp;&nbsp;○&nbsp;&nbsp;| top.history.back();<br>
<br>
( ○:OK −:反応なし ×:JavaScriptエラー )<br>
「top.〜」は「parent.〜」に変えても同じです。<br>
<br>
つまり「フレームに分かれた直後は"top.history.back();" "parent.history.back();"の<br>
どちらかしか指定できない」ってことになるのかな?<br>
(あ、あとたぶん parent.parent.history.back(); などもOKだと思います)<br>
<hr>
<span class=name>あれれ</span>
<span class=time>1998/11/26(木) 14:41:19</span><br>
<span class=resolv>[[解決]]</span><br>
parent.history.back()を使ってNN4でも前画面に戻ることが<br>
できました。非常に助かりました！<br>
muraさん、ありがとうございました。<br>
history.back()の前にtopとかparentなどをつけることが<br>
できるというのを全く知らなかったのでいい勉強になりました。<br>
いろいろなパターンで調べて下さって本当にありがとうございました。<br>
また、助言してくださった皆様、ありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199811/index.htm">[上に]</a>
<a href="98110093.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110093.htm">[前に]</a>
<a href="98110095.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110095.htm">[次に]</a>
</body>
</html>
