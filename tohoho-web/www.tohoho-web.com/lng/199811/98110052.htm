<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>JavaScriptエラーの”location is read-only”てなに？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>JavaScriptエラーの”location is read-only”てなに？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199811/index.htm">[上に]</a>
<a href="98110051.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110051.htm">[前に]</a>
<a href="98110053.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110053.htm">[次に]</a>
<hr>
<span class=name>Yamamoto</span>
<span class=email><a href="mailto:BYH14513@nifty.ne.jp">[E-Mail]</a></span>
<span class=time>1998/11/13(金) 10:36:07</span><br>
業務アプリーケーションをJavaScriptで書きNS4.04で動かしているのですが、<br>
location=xxxxx<br>
としたときに、”location is read-only”というJavaScriptエラーが発生しました。<br>
エラーが出たのはこの時一回だけで、何回テストをしても再現しません。<br>
いったいこのエラーはどういう意味なのでしょうか？<br>
ちなみにxxxxxにはText FleldからとってきたURLを直接いれています。<br>
<hr>
<span class=name>うーりえ</span>
<span class=email><a href="mailto:U-rie@angel.sakuramail.com">[E-Mail]</a></span>
<span class=time>1998/11/16(月) 04:00:53</span><br>
自信ある答えではないですが、<br>
locationはもともとあるオブジェクトなので<br>
location=xxxxxではlocationの中にxxxxxという値（文字列）を<br>
代入しようとしていると判断するのではないでしようか。<br>
<br>
「locationは今ある値を読むだけで中に書き込むことはできないよ」<br>
という意味のメッセージかと思います。<br>
<br>
例えば、指定のxxxxxというURLにとばすのであれば<br>
location.href = "xxxxx"が正しいはずです。<br>
<br>
見当違いでしたらごめんなさい。<br>
<hr>
<span class=name>yamamoto</span>
<span class=time>1998/11/16(月) 13:38:54</span><br>
うーりえさん、ありがとうございます。<br>
たしかに公式のJavaScriptのガイドブックをみると<br>
&nbsp;&nbsp;location.href="xxxxx"<br>
となっています。<br>
ただ問題はここだけでなく、すべてのところで<br>
&nbsp;&nbsp;location="xxxxx"<br>
と書いていることです。直すの大変そう・・・。それでなぜこの時だけエラーがでたのでしょう？<br>
<hr>
<span class=name>匿名希望</span>
<span class=time>1998/11/21(土) 02:56:28</span><br>
い、いや、エラーが出ないほうがおかしいと思います。<br>
私が持っているのはNS4.05ですが、明らかにエラーが<br>
出てしまいますが・・・<br>
<hr>
<span class=name>うーりえ</span>
<span class=email><a href="mailto:U-rie@angel.sakuramail.com">[E-Mail]</a></span>
<span class=time>1998/11/22(日) 06:43:47</span><br>
良かった、論旨が合ってたようですね。<br>
<br>
何か、文章編集するためのエディタで書いているのであれば<br>
置換処理で「location=」を「location.href=」に<br>
してしまえばいいかと思います。<br>
<br>
Windowsの場合、文章を扱うソフトならメニューバーの「編集(E)」に<br>
たいがいは「置換」というのがあるはずです。<br>
さらに、マクロ機能があるエディタならば<br>
その置換処理じたいも自動化できるかもしれません。<br>
<br>
JavaScriptはNNやIEなどのブラウザ、またはバージョンによって<br>
エラーの出具合がまちまち（無視する・エラー出す・ハングなど）ですから<br>
たとえ御自分の環境で偶然動いたとしても<br>
なるべく推奨される正規表現をした方がいいでしょう。<br>
<br>
ガンバって下さい。<br>
<hr>
<span class=name>yamamoto</span>
<span class=time>1998/11/24(火) 19:20:46</span><br>
<span class=resolv>[[解決]]</span><br>
うーりえさん、匿名希望さんありがとうございました。<br>
今後の事も考えてしゅうせいすることになりました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199811/index.htm">[上に]</a>
<a href="98110051.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110051.htm">[前に]</a>
<a href="98110053.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110053.htm">[次に]</a>
</body>
</html>
