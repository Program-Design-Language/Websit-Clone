<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>1度クリックしたボタンを無効にするには？</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>1度クリックしたボタンを無効にするには？</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199811/index.htm">[上に]</a>
<a href="98110082.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110082.htm">[前に]</a>
<a href="98110084.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110084.htm">[次に]</a>
<hr>
<span class=name>まき</span>
<span class=email><a href="mailto:naoko@netsys.nk-exa.co.jp">[E-Mail]</a></span>
<span class=time>1998/11/20(金) 10:45:49</span><br>
buttonをクリックされると、POSTでデータを受信し結果を表示するページを作成しています。<br>
しかし、結果の表示が遅い場合、ユーザが何度もボタンをクリックし、同じデータが何度も<br>
送信されてしまいます。<br>
そこで、buttonを1度クリックすると、そのボタンを無効にする方法を知りたいのですが<br>
どなたか教えて下さい。<br>
お願いいたします。<br>
<hr>
<span class=name>mura</span>
<span class=time>1998/11/20(金) 14:07:41</span><br>
JavaScriptが有効という前提であれば、&lt;HEAD&gt;〜&lt;/HEAD&gt;間に<br>
&lt;SCRIPT LANGUAGE=JavaScript&gt;<br>
&lt;!--<br>
var called=0;<br>
// --&gt;<br>
&lt;/SCRIPT&gt;<br>
<br>
というのを入れて、<br>
<br>
&lt;FORM METHOD=post ACTION="送り先"&gt; というのを<br>
&lt;FORM METHOD=post ACTION="送り先" onSubmit="return !called++;"&gt; にすればいいです。<br>
(submit関数でなくsubmitボタン&lt;INPUT TYPE=submit&gt;を使っている場合の話です)<br>
<br>
#returnの後ろってだいぶシンプルにしましたが、この書き方で問題ないのかな?<br>
#NNではOKみたいですが…。<br>
<br>
100%確実かどうか自信はないですが、もう少し手軽な方法で<br>
&lt;FORM METHOD=post ACTION="送り先"&gt; というのを<br>
&lt;FORM METHOD=post ACTION="送り先"<br>
onSubmit="return confirm(確認のためもう１度OKボタンを押して下さい);"&gt;<br>
にするという手もあります。(上の&lt;SCRIPT&gt;〜&lt;/SCRIPT&gt;は必要ありません。)<br>
<hr>
<span class=name>mura</span>
<span class=time>1998/11/20(金) 14:15:08</span><br>
<font color="#CC8000">&gt; onSubmit="return confirm(確認のためもう１度OKボタンを押して下さい);"</font><br>
<br>
メッセージはシングルクォーテーションで囲ってください。(^^;)<br>
<hr>
<span class=name>まき</span>
<span class=email><a href="mailto:naoko@netsys.nk-exa.co.jp">[E-Mail]</a></span>
<span class=time>1998/11/20(金) 14:41:04</span><br>
どうもありがとうございました。<br>
Netscapeでは、成功しました。でも、、IEでは、だめでした。<br>
お聞きしたのいのですが、<br>
<br>
　return !called++;<br>
<br>
は、どういう意味なのでしょうか？<br>
<hr>
<span class=name>まき</span>
<span class=time>1998/11/20(金) 15:03:54</span><br>
すいません、先ほどの質問「return !called++;は、どういう意味なのでしょうか？ 」は、<br>
分かりました。<br>
とりあえず、onSubmitの return値を trueで実行、falseで実行しない<br>
というふうになっているんですね。<br>
<br>
でも、IEの方で、<br>
<br>
　&lt;FORM METHOD=post ACTION="送り先" onSubmit="return false;"&gt;<br>
<br>
として、submitボタンをクリックしても、データの送信を実行してします。<br>
IEの場合、onSubmitにてどのような処理をすれば、実行しなくなるのでしょうか？<br>
<hr>
<span class=name>mura</span>
<span class=email><a href="mailto:mura@cools.com">[E-Mail]</a></span>
<span class=time>1998/11/20(金) 23:00:35</span><br>
IE3で私が書いたスクリプトを実行してみましたが、問題なく動くみたいです。<br>
<br>
<font color="#CC8000">&gt;submitボタンをクリックしても、データの送信を実行してします。</font><br>
<font color="#CC8000">&gt;IEの場合、onSubmitにてどのような処理をすれば、実行しなくなるのでしょうか？</font><br>
<br>
&lt;INPUT TYPE=submit&gt;ではなくJavaScriptのsubmit()を実行した場合は<br>
onSubmitで書いた部分は実行されない(送信されてしまう)んですが、そうじゃなくってですか?<br>
IEはIE4をお使いなんでしょうか。(私はIE4を持ってないのでチェックできないですが…)<br>
<hr>
<span class=name>まき</span>
<span class=time>1998/11/23(月) 12:34:59</span><br>
<span class=resolv>[[解決]]</span><br>
またまた、すいません。<br>
マシンを起動し直して、やり直すとできました。<br>
（IEでJavaScriptを実行すると、その内容はずっとキャッシュされるのでしょうか？<br>
　リロードして、ソースを確認したにも関わらず、JavaScriptの変更が有効になっていませんでした。<br>
　何がおかしいのだろうか？こんなことがあるのかなぁ...）<br>
まあでも、いろいろ、書きましたが、無事成功です。<br>
ほんとに、どうもありがとうございました。<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199811/index.htm">[上に]</a>
<a href="98110082.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110082.htm">[前に]</a>
<a href="98110084.htm" tppabs="http://www.tohoho-web.com/lng/199811/98110084.htm">[次に]</a>
</body>
</html>
