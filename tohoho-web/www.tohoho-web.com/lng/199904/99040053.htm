<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>.htaccessファイルが見えない</title>
<link rel="stylesheet" href="../style.css" tppabs="http://www.tohoho-web.com/lng/style.css">
</head>
<body>
<h3>.htaccessファイルが見えない</h3>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199904/index.htm">[上に]</a>
<a href="99040052.htm" tppabs="http://www.tohoho-web.com/lng/199904/99040052.htm">[前に]</a>
<a href="99040054.htm" tppabs="http://www.tohoho-web.com/lng/199904/99040054.htm">[次に]</a>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/09(金) 06:06:00</span><br>
virtualaveというFreeDSで.htaccessファイルと.htpasswdファイル<br>
によるアクセス制限をしたいのですが、FTPでこの２つのファイルを<br>
アップロードすると、この２つのファイルが消えてしまいます。<br>
ただしサイトに入るとパスワードは聞かれるので２つのファイルは<br>
消えたのではなくて見えなくなったような気がします。<br>
どうして見えなくなってしまったのでしょうか。ちょっと<br>
説明がへたでわかりにくいと思いますが、よろしくお願いします。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/04/09(金) 06:40:14</span><br>
「何で(どうやって)見た」結果、見えないのですか?<br>
<br>
http: //host/~user/ などでファイル一覧を見た場合なら、<br>
サーバにもよるでしょうが、ドットから始まるファイルは<br>
表示されません。<br>
<br>
http: //host/~user/.htaccess などとファイル名まで指定すれば<br>
見えるかもしれません。あるいは転送先のディレクトリを間違って<br>
いるとか。<br>
<br>
ところで素朴な疑問ですが、FreeDSって何でしょうか?<br>
<hr>
<span class=name>Selly</span>
<span class=email><a href="mailto:selly@mcn.ne.jp">[E-Mail]</a></span>
<span class=time>1999/04/09(金) 06:44:03</span><br>
FTPクライアントから.htaccess見えないと言うことでしょうか？<br>
それなら、「.」で始まるファイルは見えないようにするFTPクライアントもあります(私が使っているFFFTPにはあります)。<br>
FTPクライアントの設定を見直してみては？<br>
<br>
ディレクトリリストで表示されないということならば、B-Cusさんの書かれたとおりです。<br>
<hr>
<span class=name>ST</span>
<span class=time>1999/04/09(金) 14:04:33</span><br>
FreeDS = Free Disk Space<br>
なのではないでしょうか？<br>
<br>
確証ないですが<br>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/09(金) 22:18:05</span><br>
<font color="#CC8000">＞FTPクライアントから.htaccess見えないと言うことでしょうか？</font><br>
<br>
そういうことです。FTP Explorerを使っているのですが見えなく<br>
なってしまいます。ちなみにクライアント側の設定は間違いないです。<br>
プロバのサーバーに置いてある.htaccessはきちんと見えてるので。<br>
<br>
もう少し詳しく症状をいうとhtaccessをアップロードした時は<br>
まだ見えています。しかし「.」ドットを付けるとクライアントの<br>
ログが以下のようなことを言ってきて見えなくなってしまいます。<br>
<br>
RNFR /public_html/htaccess<br>
350 File or directory exists, ready for destination name.<br>
RNTO /public_html/.htaccess<br>
200 rename successful.<br>
<br>
どんな些細なことでもいいので情報お願いします。<br>
<br>
<font color="#CC8000">＞FreeDS = Free Disk Space</font><br>
<font color="#CC8000">＞なのではないでしょうか？</font><br>
<br>
そういうつもりで書いたんですけど、この言葉って<br>
本当は存在しないのかな。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/04/09(金) 23:27:41</span><br>
<font color="#CC8000">&gt; 200 rename successful.</font><br>
<br>
「successful＝成功した」なので、おそらく原因は<br>
<br>
<font color="#CC8000">&gt; それなら、「.」で始まるファイルは見えないようにするFTPクライアントもあります</font><br>
<br>
ということなのでしょう。<br>
<br>
一度putした後にgetしてみればいいでしょう。送ったファイルが<br>
返ってくれば転送自体は成功しています。また、<br>
<br>
<font color="#CC8000">&gt; http: //host/~user/.htaccess などとファイル名まで指定すれば</font><br>
<br>
で見えれば転送は成功している、と。<br>
<br>
<font color="#CC8000">&gt; FreeDS = Free Disk Space</font><br>
<br>
これを何の説明もなしで書かれると、ちょっと厳しいです。<br>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/10(土) 04:15:27</span><br>
<font color="#CC8000">&gt;&gt; それなら、「.」で始まるファイルは見えないようにするFTPクライアントもあります</font><br>
<br>
<font color="#CC8000">&gt;ということなのでしょう。</font><br>
<br>
プロバイダのサーバーに置いた.htaccessは見えてvirtualave<br>
に置いた.htaccessは見えないなんてことがあるんでしょうか。<br>
同じクライアントを使ってるんですけど。<br>
<br>
とりあえずパスワードによるアクセス制限はやめてホスト名で<br>
制限してみることにしました。.htaccessの中はこんな感じです。<br>
<br>
＜limit GET post＞<br>
order allow,deny<br>
allow from all<br>
deny from skywave.ne.jp<br>
＜/limit＞<br>
<br>
↑これを.htaccessとしてアップしてみたのですがskywave.ne.jpの<br>
ホストからでもアクセスできてしまいます。<br>
<br>
<font color="#CC8000">&gt;&gt; http: //host/~user/.htaccess などとファイル名まで指定すれば</font><br>
<br>
<font color="#CC8000">&gt;で見えれば転送は成功している、と。</font><br>
<br>
これってブラウザで表示してみろっていうことですよね。<br>
試しにやってみましたが<br>
<br>
order allow,deny allow from all deny from skywave.ne.jp<br>
<br>
と表示されてしまいます。ちなみにプロバの.htaccessを表示しようと<br>
すると"Forbidden"となります。<br>
何が原因なのでしょうか。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/04/10(土) 07:51:30</span><br>
<font color="#CC8000">&gt; これってブラウザで表示してみろっていうことですよね。</font><br>
<font color="#CC8000">&gt; 試しにやってみましたが</font><br>
<font color="#CC8000">&gt; order allow,deny allow from all deny from skywave.ne.jp</font><br>
<br>
これでよいんじゃないでしょうか。mime-typeが適切に設定されてない<br>
ので、HTMLとして解釈されてしまったのでしょうが、一応表示されてる<br>
ようですし。ブラウザで見て、ソースを見てみれば正しく表示される<br>
かと思います。<br>
<br>
<font color="#CC8000">&gt; プロバイダのサーバーに置いた.htaccessは見えてvirtualave</font><br>
<font color="#CC8000">&gt; に置いた.htaccessは見えないなんてことがあるんでしょうか。</font><br>
<br>
ファイルの一覧を表示するのは、FTPサーバの仕事で、<br>
FTPクライアントは そのデータを受けとって表示しているだけです。<br>
ですから、OSやFTPサーバの仕様(あるいは不具合)によっては、<br>
ドットから始まるファイル名が見えない可能性はあり得ます<br>
(でも僕はそういう事例は初めて聞きましたが)。<br>
<br>
<font color="#CC8000">&gt; ちなみにプロバの.htaccessを表示しようとすると"Forbidden"</font><br>
<br>
例えば、サーバの設定で<br>
　&lt;files .htaccess&gt;<br>
　　deny from all<br>
　&lt;/files&gt;<br>
と書いてあるなら、ブラウザからは見えないようになりますね。<br>
<br>
<font color="#CC8000">&gt; ↑これを.htaccessとしてアップしてみたのですがskywave.ne.jpの</font><br>
<font color="#CC8000">&gt; ホストからでもアクセスできてしまいます。</font><br>
<br>
この原因はよくわかりませんが、<br>
<br>
<font color="#CC8000">&gt; ただしサイトに入るとパスワードは聞かれるので２つのファイルは</font><br>
<font color="#CC8000">&gt; 消えたのではなくて見えなくなったような気がします。</font><br>
<br>
ということなので、別に見えないだけで問題はないように思えますが<br>
どうでしょうか。<br>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/12(月) 00:26:52</span><br>
<span class=resolv>[[解決]]</span><br>
<font color="#CC8000">&gt;&gt; ↑これを.htaccessとしてアップしてみたのですがskywave.ne.jpの</font><br>
<font color="#CC8000">&gt;&gt; ホストからでもアクセスできてしまいます。</font><br>
<br>
やっぱりだめですね、これは。どうやってもホストのアクセス制限は<br>
できないみたいです。<br>
<br>
とりあえずパスワードのほうはできたみたいなんで一応解決として<br>
おきます。<br>
<br>
またこの件で新規に質問するかもしれませんがそのときはB-Cusさん、他の方々よろしくお願いします。<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/04/12(月) 00:56:01</span><br>
IPアドレスで指定すればいけるかも。<br>
　deny from 202.232.72.0/24<br>
でしたっけ? これでダメなら、そのサーバではallow、denyは<br>
許可していないのかもしれません。<br>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/12(月) 03:22:12</span><br>
でけたー。IPでおっけーでした。だけどもう一つ問題が。<br>
ブラウザで.htaccessの中身が見えてしまうというのは<br>
どうも危険のような気がするんですけど。特にパスワードでの<br>
アクセス制限の場合。中を見せないようにするにはどうしたら<br>
いいんでしょうか。B-Cusさんもう一声！<br>
<hr>
<span class=name>B-Cus</span>
<span class=time>1999/04/12(月) 17:19:14</span><br>
<font color="#CC8000">&gt; でけたー。IPでおっけーでした。</font><br>
<br>
それはよかった。サーバがIPを逆引きしていないので、ホスト名での<br>
指定が無効になるのかな。<br>
<br>
<font color="#CC8000">&gt; ブラウザで.htaccessの(snip!)中を見せないようにするにはどうしたら</font><br>
<font color="#CC8000">&gt; いいんでしょうか</font><br>
<br>
1999/04/10(土) 07:51:30 の中に書きましたよん。<br>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/13(火) 02:37:31</span><br>
&lt;files .htaccess&gt;<br>
　　deny from all<br>
&lt;/files&gt;<br>
<br>
↑これのことですよね。<br>
<br>
.htacccessに<br>
<br>
&lt;files .htaccess&gt;<br>
　　deny from all<br>
&lt;/files&gt;<br>
&lt;limit GET post&gt;<br>
order allow,deny<br>
allow from all<br>
deny from xxx.xxx.xxx<br>
&lt;/limit&gt;<br>
<br>
とやってみたら確かに.htacccessの中身は見えなくなりました。<br>
ただしそのディレクトリにあるすべてのファイルも見れなく<br>
なりました。表示するとInternal Sever Errorとなります。<br>
<br>
なにか文法的に間違ってますかね？<br>
<br>
B-Cusさん、天の一声お願いします。<br>
<hr>
<span class=name>匿名希望</span>
<span class=time>1999/04/13(火) 04:24:21</span><br>
&lt;files .htaccess&gt;<br>
　　deny from all<br>
&lt;/files&gt;<br>
deny from all の行の前に全角スペースが入ってませんか？<br>
ここにかかれた行では全角スペースが入ってますけど。<br>
<hr>
<span class=name>ともさん</span>
<span class=time>1999/04/13(火) 06:17:20</span><br>
<font color="#CC8000">&gt;deny from all の行の前に全角スペースが入ってませんか？</font><br>
<br>
大当たり！！<br>
できました。B-Cusさん、匿名希望さん、他の方々ありがとう<br>
ございましたm(__)m<br>
<hr>
<a href="index.htm" tppabs="http://www.tohoho-web.com/lng/199904/index.htm">[上に]</a>
<a href="99040052.htm" tppabs="http://www.tohoho-web.com/lng/199904/99040052.htm">[前に]</a>
<a href="99040054.htm" tppabs="http://www.tohoho-web.com/lng/199904/99040054.htm">[次に]</a>
</body>
</html>
